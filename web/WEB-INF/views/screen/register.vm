<script type="text/javascript" charset="utf-8" src="$!{service_name}/resources/ueditor/ueditor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="$!{service_name}/resources/ueditor/ueditor.all.js"> </script>
<script type="text/javascript" charset="utf-8" src="$!{service_name}/resources/ueditor/ueditorPatch.js"> </script>
<script type="text/javascript" charset="utf-8" src="$!{service_name}/resources/ueditor/lang/zh-cn/zh-cn.js"></script>
<script type="text/javascript" src="$!{service_name}/resources/scripts/ajaxfileupload.js"></script>
<style>
    body{
        height:500px;
    }
</style>
#xForm_start({"id":"registerForm", "target":"_self"})
#xLayoutPanel_start({"debug":false,"width:":"80%", "cols":1, "fieldset":true, "fieldsetStyle":"padding-top:1px;margin-top:1px;border:0px"})
#xHidden({"id":"userIcon","name":"userIcon","value":"$!{userbaseInfo.USER_ICON}"})
<p style="padding-left: 9.5%;">个人头像：</p>
<div style="padding-left: 20%;">
    <img style="height:180px; border:1px solid #5794BF;" id="userIconPre" src="$!{userbaseInfo.USER_ICON}">
    <input type="button" onclick="xImgSelector.show('userIcon', 'userIconPre')" value="选择图片">
    <input type="button" onclick="replaceSrc($('#userIcon').attr('id'))" value="重置">
</div>
#xHidden({"id":"contentImgUrl","name":"contentImgUrl","value":"$!{service_name}/resources/images/default-title.png"})

#xTextField({"id":"idNumber","name":"idNumber","width":"80%","label":"身份证号码","labelWidth":"120px","value":"$!{userbaseInfo.IDCARD_NO}","required":true,"sufLabelWidth":"180px","sufLabel":"(不能超过18位)","readOnly":"false"})
#xTextField({"id":"password","name":"password","width":"80%","label":"密码","labelWidth":"120px","value":"","required":true,"sufLabelWidth":"180px","sufLabel":"","readyonly":"true"})
#xTextField({"id":"passwordConfirm","name":"passwordConfirm","width":"80%","label":"求职意向","labelWidth":"120px","value":"","required":true,"sufLabelWidth":"180px","sufLabel":""})

#xButtons({"colspan":1,"cellHeight":"40px","cellAlign":"right", "btnAlign":"center", "cellVAlign":"middle",
"items":[
{"value":"保存","onClick":"doSave()"}
]
})
#xLayoutPanel_end
#xForm_end
<script>
    function doSave(){
        var params=XComps.serializeForm('#registerForm');
        if(params==null){
            return;
        }
        $.post("$!{service_name}/register.json",params,function(data){
            if(data.result==true){
                alert('注册成功!');
                location.reload();
            }else{
                alert('注册失败:'+data.errorInfo);
            }
        },"json");
    }
</script>