dhtmlx=function(B){for(var A in B)dhtmlx[A]=B[A];return dhtmlx};dhtmlx.extend_api=function(B,C,D){var A=window[B];if(!A)return;window[B]=function(E){if(E&&typeof E=="object"&&!E.tagName){var B=A.apply(this,(C._init?C._init(E):arguments));for(var D in dhtmlx)if(C[D])this[C[D]](dhtmlx[D]);for(D in E)if(C[D])this[C[D]](E[D]);else if(D.indexOf("on")==0)this.attachEvent(D,E[D])}else B=A.apply(this,arguments);if(C._patch)C._patch(this);return B||this};window[B].prototype=A.prototype;if(D)dhtmlXHeir(window[B].prototype,D)};dhtmlxAjax={get:function(C,B){var A=new dtmlXMLLoaderObject(true);A.async=(arguments.length<3);A.waitCall=B;A.loadXML(C);return A},post:function(D,B,C){var A=new dtmlXMLLoaderObject(true);A.async=(arguments.length<4);A.waitCall=C;A.loadXML(D,true,B);return A},getSync:function(A){return this.get(A,null,true)},postSync:function(B,A){return this.post(B,A,null,true)}};function dtmlXMLLoaderObject(A,D,C,B){this.xmlDoc="";if(typeof(C)!="undefined")this.async=C;else this.async=true;this.onloadAction=A||null;this.mainObject=D||null;this.waitCall=null;this.rSeed=B||false;return this}dtmlXMLLoaderObject.count=0;dtmlXMLLoaderObject.prototype.waitLoadFunction=function(B){var A=true;this.check=function(){if((B)&&(B.onloadAction!=null))if((!B.xmlDoc.readyState)||(B.xmlDoc.readyState==4)){if(!A)return;A=false;dtmlXMLLoaderObject.count++;if(typeof B.onloadAction=="function")B.onloadAction(B.mainObject,null,null,null,B);if(B.waitCall){B.waitCall.call(this,B);B.waitCall=null}}};return this.check};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(B,A){if(this.xmlDoc.responseXML){var C=this.xmlDoc.responseXML.getElementsByTagName(B);if(C.length==0&&B.indexOf(":")!=-1)C=this.xmlDoc.responseXML.getElementsByTagName((B.split(":"))[1]);var D=C[0]}else D=this.xmlDoc.documentElement;if(D){this._retry=false;return D}if(!this._retry){this._retry=true;var A=this.xmlDoc;this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),true);return this.getXMLTopNode(B,A)}dhtmlxError.throwError("LoadXML","Incorrect XML",[(A||this.xmlDoc),this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(B,A){if(!_isIE){var C=new DOMParser();this.xmlDoc=C.parseFromString(B,"text/xml")}else{this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=this.async;this.xmlDoc.onreadystatechange=function(){};this.xmlDoc["loadXM"+"L"](B)}if(A)return;if(this.onloadAction)this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall();this.waitCall=null}};dtmlXMLLoaderObject.prototype.loadXML=function(B,C,D,A){if(this.rSeed)B+=((B.indexOf("?")!=-1)?"&":"?")+"a_dhx_rSeed="+(new Date()).valueOf();this.filePath=B;if((!_isIE)&&(window.XMLHttpRequest))this.xmlDoc=new XMLHttpRequest();else this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP");if(this.async)this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);this.xmlDoc.open(C?"POST":"GET",B,this.async);if(A){this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")");this.xmlDoc.setRequestHeader("Content-type","text/xml")}else if(C)this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(null||D);if(!this.async)(new this.waitLoadFunction(this))()};dtmlXMLLoaderObject.prototype.destructor=function(){this._filterXPath=null;this._getAllNamedChilds=null;this._retry=null;this.async=null;this.rSeed=null;this.filePath=null;this.onloadAction=null;this.mainObject=null;this.xmlDoc=null;this.doXPath=null;this.doXPathOpera=null;this.doXSLTransToObject=null;this.doXSLTransToString=null;this.loadXML=null;this.loadXMLString=null;this.doSerialization=null;this.xmlNodeToJSON=null;this.getXMLTopNode=null;this.setXSLParamValue=null;return null};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(A){var B={};for(var D=0;D<A.attributes.length;D++)B[A.attributes[D].name]=A.attributes[D].value;B["_tagvalue"]=A.firstChild?A.firstChild.nodeValue:"";for(D=0;D<A.childNodes.length;D++){var C=A.childNodes[D].tagName;if(C){if(!B[C])B[C]=[];B[C].push(this.xmlNodeToJSON(A.childNodes[D]))}}return B};function callerFunction(A,B){this.handler=function(C){if(!C)C=window.event;A(C,B);return true};return this.handler}function getAbsoluteLeft(A){return getOffset(A).left}function getAbsoluteTop(A){return getOffset(A).top}function getOffsetSum(A){var C=0,B=0;while(A){C=C+parseInt(A.offsetTop);B=B+parseInt(A.offsetLeft);A=A.offsetParent}return{top:C,left:B}}function getOffsetRect(A){var I=A.getBoundingClientRect(),B=document.body,E=document.documentElement,G=window.pageYOffset||E.scrollTop||B.scrollTop,F=window.pageXOffset||E.scrollLeft||B.scrollLeft,C=E.clientTop||B.clientTop||0,D=E.clientLeft||B.clientLeft||0,J=I.top+G-C,H=I.left+F-D;return{top:Math.round(J),left:Math.round(H)}}function getOffset(A){if(A.getBoundingClientRect)return getOffsetRect(A);else return getOffsetSum(A)}function convertStringToBoolean(A){if(typeof(A)=="string")A=A.toLowerCase();switch(A){case"1":case"true":case"yes":case"y":case 1:case true:return true;break;default:return false}}function getUrlSymbol(A){if(A.indexOf("?")!=-1)return"&";else return"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.lastLanding=0;this.dragNode=0;this.dragStartNode=0;this.dragStartObject=0;this.tempDOMU=null;this.tempDOMM=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}dhtmlDragAndDropObject.prototype.removeDraggableItem=function(A){A.onmousedown=null;A.dragStarter=null;A.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(A,B){A.onmousedown=this.preCreateDragCopy;A.dragStarter=B;this.addDragLanding(A,B)};dhtmlDragAndDropObject.prototype.addDragLanding=function(A,B){A.dragLanding=B};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(A){if((A||window.event)&&(A||event).button==2)return;if(window.dhtmlDragAndDrop.waitDrag){window.dhtmlDragAndDrop.waitDrag=0;document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU;document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM;return false}if(window.dhtmlDragAndDrop.dragNode)window.dhtmlDragAndDrop.stopDrag(A);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=new Date().valueOf();if((A)&&(A.preventDefault)){A.preventDefault();return false}return false};dhtmlDragAndDropObject.prototype.callDrag=function(A){if(!A)A=window.event;dragger=window.dhtmlDragAndDrop;if((new Date()).valueOf()-dragger.downtime<100)return;if(!dragger.dragNode)if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,A);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return false};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}else return dragger.stopDrag(A,true);if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var E=dragger.gldragNode;if(dragger.gldragNode.old)E=dragger.gldragNode.old;E.parentNode.removeChild(E);var C=dragger.dragNode.pWindow;if(E.pWindow&&E.pWindow.dhtmlDragAndDrop.lastLanding)E.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(E.pWindow.dhtmlDragAndDrop.lastLanding);if(_isIE){var B=document.createElement("Div");B.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=B.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(true);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);C.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=A.clientX+15+(dragger.fx?dragger.fx*(-1):0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=A.clientY+3+(dragger.fy?dragger.fy*(-1):0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";if(!A.srcElement)var D=A.target;else D=A.srcElement;dragger.checkLanding(D,A)};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(E){if(window.name){var B=parent.frames[window.name].frameElement.offsetParent,C=0,D=0;while(B){C+=B.offsetLeft;D+=B.offsetTop;B=B.offsetParent}if((parent.dhtmlDragAndDrop)){var A=parent.dhtmlDragAndDrop.calculateFramePosition(1);C+=A.split("_")[0]*1;D+=A.split("_")[1]*1}if(E)return C+"_"+D;else this.fx=C;this.fy=D}return"0_0"};dhtmlDragAndDropObject.prototype.checkLanding=function(A,B){if((A)&&(A.dragLanding)){if(this.lastLanding)this.lastLanding.dragLanding._dragOut(this.lastLanding);this.lastLanding=A;this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,B.clientX,B.clientY,B);this.lastLanding_scr=(_isIE?B.srcElement:B.target)}else if((A)&&(A.tagName!="BODY"))this.checkLanding(A.parentNode,B);else{if(this.lastLanding)this.lastLanding.dragLanding._dragOut(this.lastLanding,B.clientX,B.clientY,B);this.lastLanding=0;if(this._onNotFound)this._onNotFound()}};dhtmlDragAndDropObject.prototype.stopDrag=function(A,C){dragger=window.dhtmlDragAndDrop;if(!C){dragger.stopFrameRoute();var B=dragger.lastLanding;dragger.lastLanding=null;if(B)B.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,B,(_isIE?event.srcElement:A.target))}dragger.lastLanding=null;if((dragger.dragNode)&&(dragger.dragNode.parentNode==document.body))dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(B){if(B)window.dhtmlDragAndDrop.stopDrag(1,1);for(var C=0;C<window.frames.length;C++){try{if((window.frames[C]!=B)&&(window.frames[C].dhtmlDragAndDrop))window.frames[C].dhtmlDragAndDrop.stopFrameRoute(window)}catch(A){}}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=B))parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(A){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(B,D){if(B){window.dhtmlDragAndDrop.preCreateDragCopy();window.dhtmlDragAndDrop.dragStartNode=B.dhtmlDragAndDrop.dragStartNode;window.dhtmlDragAndDrop.dragStartObject=B.dhtmlDragAndDrop.dragStartObject;window.dhtmlDragAndDrop.dragNode=B.dhtmlDragAndDrop.dragNode;window.dhtmlDragAndDrop.gldragNode=B.dhtmlDragAndDrop.dragNode;window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag;window.waitDrag=0;if(((!_isIE)&&(D))&&((!_isFF)||(_FFrv<1.8)))window.dhtmlDragAndDrop.calculateFramePosition()}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=B))parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(A){}for(var C=0;C<window.frames.length;C++){try{if((window.frames[C]!=B)&&(window.frames[C].dhtmlDragAndDrop))window.frames[C].dhtmlDragAndDrop.initFrameRoute(window,((!B||D)?1:0))}catch(A){}}};_isFF=false;_isIE=false;_isOpera=false;_isKHTML=false;_isMacOS=false;_isChrome=false;_FFrv=false;_KHTMLrv=false;_OperaRv=false;if(navigator.userAgent.indexOf("Macintosh")!=-1)_isMacOS=true;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1)_isChrome=true;if((navigator.userAgent.indexOf("Safari")!=-1)||(navigator.userAgent.indexOf("Konqueror")!=-1)){_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5));if(_KHTMLrv>525){_isFF=true;_FFrv=1.9}else _isKHTML=true}else if(navigator.userAgent.indexOf("Opera")!=-1){_isOpera=true;_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))}else if(navigator.appName.indexOf("Microsoft")!=-1){_isIE=true;if((navigator.appVersion.indexOf("MSIE 8.0")!=-1||navigator.appVersion.indexOf("MSIE 9.0")!=-1||navigator.appVersion.indexOf("MSIE 10.0")!=-1)&&document.compatMode!="BackCompat")_isIE=8}else{_isFF=true;_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])}dtmlXMLLoaderObject.prototype.doXPath=function(F,D,I,A){if(_isKHTML||(!_isIE&&!window.XPathResult))return this.doXPathOpera(F,D);if(_isIE){if(!D)if(!this.xmlDoc.nodeName)D=this.xmlDoc.responseXML;else D=this.xmlDoc;if(!D)dhtmlxError.throwError("LoadXML","Incorrect XML",[(D||this.xmlDoc),this.mainObject]);if(I!=null)D.setProperty("SelectionNamespaces","xmlns:xsl='"+I+"'");if(A=="single")return D.selectSingleNode(F);else return D.selectNodes(F)||new Array(0)}else{var H=D;if(!D)if(!this.xmlDoc.nodeName)D=this.xmlDoc.responseXML;else D=this.xmlDoc;if(!D)dhtmlxError.throwError("LoadXML","Incorrect XML",[(D||this.xmlDoc),this.mainObject]);if(D.nodeName.indexOf("document")!=-1)H=D;else{H=D;D=D.ownerDocument}var E=XPathResult.ANY_TYPE;if(A=="single")E=XPathResult.FIRST_ORDERED_NODE_TYPE;var G=new Array(),B=D.evaluate(F,H,function(A){return I},E,null);if(E==XPathResult.FIRST_ORDERED_NODE_TYPE)return B.singleNodeValue;var C=B.iterateNext();while(C){G[G.length]=C;C=B.iterateNext()}return G}};function _dhtmlxError(C,A,B){if(!this.catches)this.catches=new Array();return this}_dhtmlxError.prototype.catchError=function(B,A){this.catches[B]=A};_dhtmlxError.prototype.throwError=function(C,A,B){if(this.catches[C])return this.catches[C](C,A,B);if(this.catches["ALL"])return this.catches["ALL"](C,A,B);alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]);return null};window.dhtmlxError=new _dhtmlxError();dtmlXMLLoaderObject.prototype.doXPathOpera=function(C,A){var D=C.replace(/[\/]+/gi,"/").split("/"),B=null,E=1;if(!D.length)return[];if(D[0]==".")B=[A];else if(D[0]==""){B=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(D[E].replace(/\[[^\]]*\]/g,""));E++}else return[];for(E;E<D.length;E++)B=this._getAllNamedChilds(B,D[E]);if(D[E-1].indexOf("[")!=-1)B=this._filterXPath(B,D[E-1]);return B};dtmlXMLLoaderObject.prototype._filterXPath=function(C,A){var B=new Array(),A=A.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var D=0;D<C.length;D++)if(C[D].getAttribute(A))B[B.length]=C[D];return B};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(C,A){var B=new Array();if(_isKHTML)A=A.toUpperCase();for(var E=0;E<C.length;E++)for(var D=0;D<C[E].childNodes.length;D++)if(_isKHTML){if(C[E].childNodes[D].tagName&&C[E].childNodes[D].tagName.toUpperCase()==A)B[B.length]=C[E].childNodes[D]}else if(C[E].childNodes[D].tagName==A)B[B.length]=C[E].childNodes[D];return B};function dhtmlXHeir(C,A){for(var B in A)if(typeof(A[B])=="function")C[B]=A[B];return C}function dhtmlxEvent(A,B,C){if(A.addEventListener)A.addEventListener(B,C,false);else if(A.attachEvent)A.attachEvent("on"+B,C)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(D,C,B){if(!B)B=this.xslDoc;if(B.responseXML)B=B.responseXML;var A=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+D+"']",B,"http://www.w3.org/1999/XSL/Transform","single");if(A!=null)A.firstChild.nodeValue=C};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(C,D){if(!C)C=this.xslDoc;if(C.responseXML)C=C.responseXML;if(!D)D=this.xmlDoc;if(D.responseXML)D=D.responseXML;if(!_isIE){if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor();this.XSLProcessor.importStylesheet(C)}var A=this.XSLProcessor.transformToDocument(D)}else{A=new ActiveXObject("Msxml2.DOMDocument.3.0");try{D.transformNodeToObject(C,A)}catch(B){A=D.transformNode(C)}}return A};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(B,C){var A=this.doXSLTransToObject(B,C);if(typeof(A)=="string")return A;return this.doSerialization(A)};dtmlXMLLoaderObject.prototype.doSerialization=function(B){if(!B)B=this.xmlDoc;if(B.responseXML)B=B.responseXML;if(!_isIE){var A=new XMLSerializer();return A.serializeToString(B)}else return B.xml};dhtmlxEventable=function(obj){obj.attachEvent=function(C,B,A){C="ev_"+C.toLowerCase();if(!this[C])this[C]=new this.eventCatcher(A||this);return(C+":"+this[C].addEvent(B))};obj.callEvent=function(B,A){B="ev_"+B.toLowerCase();if(this[B])return this[B].apply(this,A);return true};obj.checkEvent=function(A){return(!!this["ev_"+A.toLowerCase()])};obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){var A=true;for(var C=0;C<dhx_catch.length;C++)if(dhx_catch[C]!=null){var B=dhx_catch[C].apply(obj,arguments);A=A&&B}return A};z.addEvent=function(ev){if(typeof(ev)!="function")ev=eval(ev);if(ev)return dhx_catch.push(ev)-1;return false};z.removeEvent=function(A){dhx_catch[A]=null};return z};obj.detachEvent=function(A){if(A!=false){var B=A.split(":");this[B[0]].removeEvent(B[1])}};obj.detachAllEvents=function(){for(var A in this)if(A.indexOf("ev_")==0)delete this[A]};obj=null};if(!window.dhtmlx)window.dhtmlx={};(function(){var M=null;function K(C,A){var B=C.callback;L(false);C.box.parentNode.removeChild(C.box);M=C.box=null;if(B)B(A)}function F(A){if(M){A=A||event;var B=A.which||event.keyCode;if(dhtmlx.message.keyboard){if(B==13||B==32)K(M,true);if(B==27)K(M,false)}if(A.preventDefault)A.preventDefault();return!(A.cancelBubble=true)}}if(document.attachEvent)document.attachEvent("onkeydown",F);else document.addEventListener("keydown",F,true);function L(B){if(!L.cover){L.cover=document.createElement("DIV");L.cover.onkeydown=F;L.cover.className="dhx_modal_cover";document.body.appendChild(L.cover)}var A=document.body.scrollHeight;L.cover.style.display=B?"inline-block":"none"}function J(B,A){return"<div class='dhtmlx_popup_button' result='"+A+"' ><div>"+B+"</div></div>"}function G(B){if(!H.area){H.area=document.createElement("DIV");H.area.className="dhtmlx_message_area";H.area.style[H.position]="5px";document.body.appendChild(H.area)}H.hide(B.id);var A=document.createElement("DIV");A.innerHTML="<div>"+B.text+"</div>";A.className="dhtmlx-info dhtmlx-"+B.type;A.onclick=function(){H.hide(B.id);B=null};if(H.position=="bottom"&&H.area.firstChild)H.area.insertBefore(A,H.area.firstChild);else H.area.appendChild(A);if(B.expire>0)H.timers[B.id]=window.setTimeout(function(){H.hide(B.id)},B.expire);H.pull[B.id]=A;A=null;return B.id}function A(C,F,E){var D=document.createElement("DIV");D.className=" dhtmlx_modal_box dhtmlx-"+C.type;D.setAttribute("dhxbox",1);var B="";if(C.width)D.style.width=C.width;if(C.height)D.style.height=C.height;if(C.title)B+="<div class=\"dhtmlx_popup_title\">"+C.title+"</div>";B+="<div class=\"dhtmlx_popup_text\"><span>"+(C.content?"":C.text)+"</span></div><div class=\"dhtmlx_popup_controls\">";if(F)B+=J(C.ok||"OK",true);if(E)B+=J(C.cancel||"Cancel",false);if(C.buttons)for(var G=0;G<C.buttons.length;G++)B+=J(C.buttons[G],G);B+="</div>";D.innerHTML=B;if(C.content){var A=C.content;if(typeof A=="string")A=document.getElementById(A);if(A.style.display=="none")A.style.display="";D.childNodes[C.title?1:0].appendChild(A)}D.onclick=function(A){A=A||event;var B=A.target||A.srcElement;if(!B.className)B=B.parentNode;if(B.className=="dhtmlx_popup_button"){result=B.getAttribute("result");result=(result=="true")||(result=="false"?false:result);K(C,result)}};C.box=D;if(F||E)M=C;return D}function I(B,E,D){var C=B.tagName?B:A(B,E,D);if(!B.hidden)L(true);document.body.appendChild(C);var H=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-C.offsetWidth)/2)),G=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-C.offsetHeight)/2));if(B.position=="top")C.style.top="-3px";else C.style.top=G+"px";C.style.left=H+"px";C.onkeydown=F;C.focus();if(B.hidden)dhtmlx.modalbox.hide(C);return C}function B(A){return I(A,true,false)}function D(A){return I(A,true,true)}function N(A){return I(A)}function C(A,C,B){if(typeof A!="object"){if(typeof C=="function"){B=C;C=""}A={text:A,type:C,callback:B}}return A}function E(C,D,B,A){if(typeof C!="object")C={text:C,type:D,expire:B,id:A};C.id=C.id||H.uid();C.expire=C.expire||H.expire;return C}dhtmlx.alert=function(){text=C.apply(this,arguments);text.type=text.type||"confirm";return B(text)};dhtmlx.confirm=function(){text=C.apply(this,arguments);text.type=text.type||"alert";return D(text)};dhtmlx.modalbox=function(){text=C.apply(this,arguments);text.type=text.type||"alert";return N(text)};dhtmlx.modalbox.hide=function(A){while(A&&A.getAttribute&&!A.getAttribute("dhxbox"))A=A.parentNode;if(A){A.parentNode.removeChild(A);L(false)}};var H=dhtmlx.message=function(F,I,C,A){F=E.apply(this,arguments);F.type=F.type||"info";var H=F.type.split("-")[0];switch(H){case"alert":return B(F);case"confirm":return D(F);case"modalbox":return N(F);default:return G(F);break}};H.seed=(new Date()).valueOf();H.uid=function(){return H.seed++};H.expire=4000;H.keyboard=true;H.position="top";H.pull={};H.timers={};H.hideAll=function(){for(var A in H.pull)H.hide(A)};H.hide=function(A){var B=H.pull[A];if(B&&B.parentNode){window.setTimeout(function(){B.parentNode.removeChild(B);B=null},2000);B.className+=" hidden";if(H.timers[A])window.clearTimeout(H.timers[A]);delete H.pull[A]}}})();function xmlPointer(A){this.d=A}xmlPointer.prototype={text:function(){if(!_isFF)return this.d.xml;var A=new XMLSerializer();return A.serializeToString(this.d)},get:function(A){return this.d.getAttribute(A)},exists:function(){return!!this.d},content:function(){return this.d.firstChild?this.d.firstChild.data:""},each:function(E,A,B,F){var D=this.d.childNodes,C=new xmlPointer();if(D.length)for(F=F||0;F<D.length;F++)if(D[F].tagName==E){C.d=D[F];if(A.apply(B,[C,F])==-1)return}},get_all:function(){var B={},A=this.d.attributes;for(var C=0;C<A.length;C++)B[A[C].name]=A[C].value;return B},sub:function(C){var B=this.d.childNodes,A=new xmlPointer();if(B.length)for(var D=0;D<B.length;D++)if(B[D].tagName==C){A.d=B[D];return A}},up:function(A){return new xmlPointer(this.d.parentNode)},set:function(B,A){this.d.setAttribute(B,A)},clone:function(A){return new xmlPointer(this.d)},sub_exists:function(B){var A=this.d.childNodes;if(A.length)for(var C=0;C<A.length;C++)if(A[C].tagName==B)return true;return false},through:function(H,G,C,B,D){var F=this.d.childNodes;if(F.length)for(var I=0;I<F.length;I++){if(F[I].tagName==H&&F[I].getAttribute(G)!=null&&F[I].getAttribute(G)!=""&&(!C||F[I].getAttribute(G)==C)){var E=new xmlPointer(F[I]);B.apply(D,[E,I])}var A=this.d;this.d=F[I];this.through(H,G,C,B,D);this.d=A}}};function dhtmlXTreeObject(A,E,C,D){if(_isIE){try{document.execCommand("BackgroundImageCache",false,true)}catch(B){}}if(typeof(A)!="object")this.parentObject=document.getElementById(A);else this.parentObject=A;this.parentObject.style.overflow="hidden";this._itim_dg=true;this.dlmtr=",";this.dropLower=false;this.enableIEImageFix();this.xmlstate=0;this.mytype="tree";this.smcheck=true;this.width=E;this.height=C;this.rootId=D;this.childCalc=null;this.def_img_x="18px";this.def_img_y="18px";this.def_line_img_x="18px";this.def_line_img_y="18px";this._dragged=new Array();this._selected=new Array();this.style_pointer="pointer";this._aimgs=true;this.htmlcA=" [";this.htmlcB="]";this.lWin=window;this.cMenu=0;this.mlitems=0;this.iconURL="";this.dadmode=0;this.slowParse=false;this.autoScroll=true;this.hfMode=0;this.nodeCut=new Array();this.XMLsource=0;this.XMLloadingWarning=0;this._idpull={};this._pullSize=0;this.treeLinesOn=true;this.tscheck=false;this.timgen=true;this.dpcpy=false;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"";this.checkArray=new Array("iconUncheckAll.gif","iconCheckAll.gif","iconCheckGray.gif","iconUncheckDis.gif","iconCheckDis.gif","iconCheckDis.gif");this.radioArray=new Array("radio_off.gif","radio_on.gif","radio_on.gif","radio_off.gif","radio_on.gif","radio_on.gif");this.lineArray=new Array("line2.gif","line3.gif","line4.gif","blank.gif","blank.gif","line1.gif");this.minusArray=new Array("minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif");this.plusArray=new Array("plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif");this.imageArray=new Array("leaf.gif","folderOpen.gif","folderClosed.gif");this.cutImg=new Array(0,0,0);this.cutImage="but_cut.gif";dhtmlxEventable(this);this.dragger=new dhtmlDragAndDropObject();this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree=this._createSelf();this.allTree.appendChild(this.htmlNode.htmlNode);if(_isFF){this.allTree.childNodes[0].width="100%";this.allTree.childNodes[0].style.overflow="hidden"}var F=this;this.allTree.onselectstart=new Function("return false;");if(_isMacOS)this.allTree.oncontextmenu=function(A){return F._doContClick(A||window.event,true)};this.allTree.onmousedown=function(A){return F._doContClick(A||window.event)};this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);if(_isIE)this.preventIECashing(true);this.selectionBar=document.createElement("DIV");this.selectionBar.className="selectionBar";this.selectionBar.innerHTML="&nbsp;";this.selectionBar.style.display="none";this.allTree.appendChild(this.selectionBar);if(window.addEventListener)window.addEventListener("unload",function(){try{F.destructor()}catch(A){}},false);if(window.attachEvent)window.attachEvent("onunload",function(){try{F.destructor()}catch(A){}});this.setImagesPath=this.setImagePath;this.setIconsPath=this.setIconPath;if(dhtmlx.image_path)this.setImagePath(dhtmlx.image_path);if(dhtmlx.skin)this.setSkin(dhtmlx.skin);return this}dhtmlXTreeObject.prototype.setDataMode=function(A){this._datamode=A};dhtmlXTreeObject.prototype._doContClick=function(A,G){if(!G&&A.button!=2){if(this._acMenu)if(this._acMenu.hideContextMenu)this._acMenu.hideContextMenu();else this.cMenu._contextEnd();return true}var B=(_isIE?A.srcElement:A.target);while((B)&&(B.tagName!="BODY")){if(B.parentObject)break;B=B.parentNode}if((!B)||(!B.parentObject))return true;var E=B.parentObject;if(!this.callEvent("onRightClick",[E.id,A]))(A.srcElement||A.target).oncontextmenu=function(A){(A||event).cancelBubble=true;return false};this._acMenu=(E.cMenu||this.cMenu);if(this._acMenu){if(!(this.callEvent("onBeforeContextMenu",[E.id])))return true;(A.srcElement||A.target).oncontextmenu=function(A){(A||event).cancelBubble=true;return false};if(this._acMenu.showContextMenu){var D=window.document.documentElement,F=window.document.body,C=new Array((D.scrollLeft||F.scrollLeft),(D.scrollTop||F.scrollTop));if(_isIE)var I=A.clientX+C[0],H=A.clientY+C[1];else I=A.pageX,H=A.pageY;this._acMenu.showContextMenu(I-1,H-1);this.contextID=E.id;A.cancelBubble=true;this._acMenu._skip_hide=true}else{B.contextMenuId=E.id;B.contextMenu=this._acMenu;B.a=this._acMenu._contextStart;B.a(B,A);B.a=null}return false}return true};dhtmlXTreeObject.prototype.enableIEImageFix=function(A){if(!A){this._getImg=function(A){return document.createElement((A==this.rootId)?"div":"img")};this._setSrc=function(B,A){B.src=A};this._getSrc=function(A){return A.src}}else{this._getImg=function(){var A=document.createElement("DIV");A.innerHTML="&nbsp;";A.className="dhx_bg_img_fix";return A};this._setSrc=function(B,A){B.style.backgroundImage="url("+A+")"};this._getSrc=function(A){var B=A.style.backgroundImage;return B.substr(4,B.length-5).replace(/(^")|("$)/g,"")}}};dhtmlXTreeObject.prototype.destructor=function(){for(var A in this._idpull){var B=this._idpull[A];if(!B)continue;B.parentObject=null;B.treeNod=null;B.childNodes=null;B.span=null;B.tr.nodem=null;B.tr=null;B.htmlNode.objBelong=null;B.htmlNode=null;this._idpull[A]=null}this.parentObject.innerHTML="";if(this.XMLLoader)this.XMLLoader.destructor();this.allTree.onselectstart=null;this.allTree.oncontextmenu=null;this.allTree.onmousedown=null;for(A in this)this[A]=null};function cObject(){return this}cObject.prototype=new Object;cObject.prototype.clone=function(){function A(){}A.prototype=this;return new A()};function dhtmlXTreeItemObject(C,B,A,F,D,E){this.htmlNode="";this.acolor="";this.scolor="";this.tr=0;this.childsCount=0;this.tempDOMM=0;this.tempDOMU=0;this.dragSpan=0;this.dragMove=0;this.span=0;this.closeble=1;this.childNodes=new Array();this.userData=new cObject();this.checkstate=0;this.treeNod=F;this.label=B;this.parentObject=A;this.actionHandler=D;this.images=new Array(F.imageArray[0],F.imageArray[1],F.imageArray[2]);this.id=F._globalIdStorageAdd(C,this);if(this.treeNod.checkBoxOff)this.htmlNode=this.treeNod._createItem(1,this,E);else this.htmlNode=this.treeNod._createItem(0,this,E);this.htmlNode.objBelong=this;return this}dhtmlXTreeObject.prototype._globalIdStorageAdd=function(A,B){if(this._globalIdStorageFind(A,1,1)){A=A+"_"+(new Date()).valueOf();return this._globalIdStorageAdd(A,B)}this._idpull[A]=B;this._pullSize++;return A};dhtmlXTreeObject.prototype._globalIdStorageSub=function(A){if(this._idpull[A]){this._unselectItem(this._idpull[A]);this._idpull[A]=null;this._pullSize--}if((this._locker)&&(this._locker[A]))this._locker[A]=false};dhtmlXTreeObject.prototype._globalIdStorageFind=function(E,C,B,A){var F=this._idpull[E];if(F){if((F.unParsed)&&(!B))this.reParse(F,0);if(this._srnd&&!F.htmlNode)this._buildSRND(F,B);if((A)&&(this._edsbpsA))for(var D=0;D<this._edsbpsA.length;D++)if(this._edsbpsA[D][2]==E){dhtmlxError.throwError("getItem","Requested item still in parsing process.",E);return null}return F}if((this.slowParse)&&(E!=0)&&(!C))return this.preParse(E);else return null};dhtmlXTreeObject.prototype._getSubItemsXML=function(A){var B=[];A.each("item",function(A){B.push(A.get("id"))},this);return B.join(this.dlmtr)};dhtmlXTreeObject.prototype.enableSmartXMLParsing=function(A){this.slowParse=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.findXML=function(C,B,A){};dhtmlXTreeObject.prototype._getAllCheckedXML=function(A,B,D){var C=[];if(D==2)A.through("item","checked",-1,function(A){C.push(A.get("id"))},this);if(D==1)A.through("item","id",null,function(A){if(A.get("checked")&&(A.get("checked")!=-1))C.push(A.get("id"))},this);if(D==0)A.through("item","id",null,function(A){if(!A.get("checked")||A.get("checked")==0)C.push(A.get("id"))},this);if(C.length)return B+(B?this.dlmtr:"")+C.join(this.dlmtr);if(B)return B;else return""};dhtmlXTreeObject.prototype._setSubCheckedXML=function(C,B){var A=C?"1":"";B.through("item","id",null,function(B){B.set("checked",A)},this)};dhtmlXTreeObject.prototype._getAllScraggyItemsXML=function(B,D){var C=[],A=function(B){if(!B.sub_exists("item"))C.push(B.get("id"));else B.each("item",A,this)};A(B);return C.join(",")};dhtmlXTreeObject.prototype._getAllFatItemsXML=function(B,D){var C=[],A=function(B){if(!B.sub_exists("item"))return;C.push(B.get("id"));B.each("item",A,this)};A(B);return C.join(",")};dhtmlXTreeObject.prototype._getAllSubItemsXML=function(B,C,A){var C=[];A.through("item","id",null,function(A){C.push(A.get("id"))},this);return C.join(",")};dhtmlXTreeObject.prototype.reParse=function(B){var A=this;if(!this.parsCount)A.callEvent("onXLS",[A,B.id]);this.xmlstate=1;var G=B.unParsed;B.unParsed=0;this.XMLloadingWarning=1;var I=this.parsingOn,C=this.waitUpdateXML,F=this.parsedArray;this.parsedArray=new Array();this.waitUpdateXML=false;this.parsingOn=B.id;this.parsedArray=new Array();this.setCheckList="";this._parse(G,B.id,2);var D=this.setCheckList.split(this.dlmtr);for(var H=0;H<this.parsedArray.length;H++)B.htmlNode.childNodes[0].appendChild(this.parsedArray[H]);if(G.get("order")&&G.get("order")!="none")this._reorderBranch(B,G.get("order"),true);this.oldsmcheck=this.smcheck;this.smcheck=false;for(var E=0;E<D.length;E++)if(D[E])this.setCheck(D[E],1);this.smcheck=this.oldsmcheck;this.parsingOn=I;this.waitUpdateXML=C;this.parsedArray=F;this.XMLloadingWarning=0;this._redrawFrom(this,B);if(this._srnd&&!B._sready)this.prepareSR(B.id);this.xmlstate=0;return true};dhtmlXTreeObject.prototype.preParse=function(C){if(!C||!this._p)return null;var A=false;this._p.clone().through("item","id",C,function(B){this._globalIdStorageFind(B.up().get("id"));return A=true},this);if(A){var B=this._globalIdStorageFind(C,true,false);if(!B)dhtmlxError.throwError("getItem","The item "+C+" not operable. Seems you have non-unique|incorrect IDs in tree's XML.",C)}return B};dhtmlXTreeObject.prototype._escape=function(A){switch(this.utfesc){case"none":return A;break;case"utf8":return encodeURIComponent(A);break;default:return escape(A);break}};dhtmlXTreeObject.prototype._drawNewTr=function(B,A){var C=document.createElement("tr"),D=document.createElement("td"),E=document.createElement("td");D.appendChild(document.createTextNode(" "));E.colSpan=3;E.appendChild(B);C.appendChild(D);C.appendChild(E);return C};dhtmlXTreeObject.prototype.loadXMLString=function(C,B){var A=this;if(!this.parsCount)this.callEvent("onXLS",[A,null]);this.xmlstate=1;if(B)this.XMLLoader.waitCall=B;this.XMLLoader.loadXMLString(C)};dhtmlXTreeObject.prototype.loadXML=function(C,B){if(this._datamode&&this._datamode!="xml")return this["load"+this._datamode.toUpperCase()](C,B);var A=this;if(!this.parsCount)this.callEvent("onXLS",[A,this._ld_id]);this._ld_id=null;this.xmlstate=1;this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);if(B)this.XMLLoader.waitCall=B;this.XMLLoader.loadXML(C)};dhtmlXTreeObject.prototype._attachChildNode=function(J,K,Q,B,O,N,T,C,R,G,P){if(G&&G.parentObject)J=G.parentObject;if(((J.XMLload==0)&&(this.XMLsource))&&(!this.XMLloadingWarning)){J.XMLload=1;this._loadDynXML(J.id)}var E=J.childsCount,S=J.childNodes;if(P&&P.tr.previousSibling)if(P.tr.previousSibling.previousSibling)G=P.tr.previousSibling.nodem;else C=C.replace("TOP","")+",TOP";if(G){var I,M;for(I=0;I<E;I++)if(S[I]==G){for(M=E;M!=I;M--)S[1+M]=S[M];break}I++;E=I}if(C){var A=C.split(",");for(var L=0;L<A.length;L++)switch(A[L]){case"TOP":if(J.childsCount>0){G=new Object;G.tr=J.childNodes[0].tr.previousSibling}J._has_top=true;for(I=E;I>0;I--)S[I]=S[I-1];E=0;break}}var H;if(!(H=this._idpull[K])||H.span!=-1){H=S[E]=new dhtmlXTreeItemObject(K,Q,J,this,B,1);K=S[E].id;J.childsCount++}if(!H.htmlNode){H.label=Q;H.htmlNode=this._createItem((this.checkBoxOff?1:0),H);H.htmlNode.objBelong=H}if(O)H.images[0]=O;if(N)H.images[1]=N;if(T)H.images[2]=T;var F=this._drawNewTr(H.htmlNode);if((this.XMLloadingWarning)||(this._hAdI))H.htmlNode.parentNode.parentNode.style.display="none";if((G)&&G.tr&&(G.tr.nextSibling))J.htmlNode.childNodes[0].insertBefore(F,G.tr.nextSibling);else if(this.parsingOn==J.id)this.parsedArray[this.parsedArray.length]=F;else J.htmlNode.childNodes[0].appendChild(F);if((G)&&(!G.span))G=null;if(this.XMLsource)if((R)&&(R!=0))H.XMLload=0;else H.XMLload=1;H.tr=F;F.nodem=H;if(J.itemId==0)F.childNodes[0].className="hiddenRow";if((J._r_logic)||(this._frbtr))this._setSrc(H.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0]);if(C){A=C.split(",");for(L=0;L<A.length;L++)switch(A[L]){case"SELECT":this.selectItem(K,false);break;case"CALL":this.selectItem(K,true);break;case"CHILD":H.XMLload=0;break;case"CHECKED":if(this.XMLloadingWarning)this.setCheckList+=this.dlmtr+K;else this.setCheck(K,1);break;case"HCHECKED":this._setCheck(H,"unsure");break;case"OPEN":H.openMe=1;break}}if(!this.XMLloadingWarning){if((this._getOpenState(J)<0)&&(!this._hAdI))this.openItem(J.id);if(G){this._correctPlus(G);this._correctLine(G)}this._correctPlus(J);this._correctLine(J);this._correctPlus(H);if(J.childsCount>=2){this._correctPlus(S[J.childsCount-2]);this._correctLine(S[J.childsCount-2])}if(J.childsCount!=2)this._correctPlus(S[0]);if(this.tscheck)this._correctCheckStates(J);if(this._onradh)if(this.xmlstate==1){var D=this.onXLE;this.onXLE=function(A){this._onradh(K);if(D)D(A)}}else this._onradh(K)}return H};dhtmlXTreeObject.prototype.enableContextMenu=function(A){if(A)this.cMenu=A};dhtmlXTreeObject.prototype.setItemContextMenu=function(D,A){var C=D.toString().split(this.dlmtr);for(var E=0;E<C.length;E++){var B=this._globalIdStorageFind(C[E]);if(!B)continue;B.cMenu=A}};dhtmlXTreeObject.prototype.insertNewItem=function(C,I,H,B,E,D,J,A,F){var G=this._globalIdStorageFind(C);if(!G)return(-1);var K=this._attachChildNode(G,I,H,B,E,D,J,A,F);if(!this._idpull[this.rootId].XMLload)this._idpull[this.rootId].XMLload=1;if((!this.XMLloadingWarning)&&(this.childCalc))this._fixChildCountLabel(G);return K};dhtmlXTreeObject.prototype.insertNewChild=function(C,H,G,B,E,D,I,A,F){return this.insertNewItem(C,H,G,B,E,D,I,A,F)};dhtmlXTreeObject.prototype._parseXMLTree=function(E,B,C,A,F){var D=new xmlPointer(F.getXMLTopNode("tree"));E._parse(D);E._p=D};dhtmlXTreeObject.prototype._parseItem=function(D,G,I,B){var A;if(this._srnd&&(!this._idpull[A=D.get("id")]||!this._idpull[A].span)){this._addItemSRND(G.id,A,D);return}var E=D.get_all();if((typeof(this.waitUpdateXML)=="object")&&(!this.waitUpdateXML[E.id])){this._parse(D,E.id,1);return}if((E.text===null)||(typeof(E.text)=="undefined")){E.text=D.sub("itemtext");if(E.text)E.text=E.text.content()}var H=[];if(E.select)H.push("SELECT");if(E.top)H.push("TOP");if(E.call)this.nodeAskingCall=E.id;if(E.checked==-1)H.push("HCHECKED");else if(E.checked)H.push("CHECKED");if(E.open)H.push("OPEN");if(this.waitUpdateXML){if(this._globalIdStorageFind(E.id))var J=this.updateItem(E.id,E.text,E.im0,E.im1,E.im2,E.checked,E.child);else{if(this.npl==0)H.push("TOP");else I=G.childNodes[this.npl];J=this._attachChildNode(G,E.id,E.text,0,E.im0,E.im1,E.im2,H.join(","),E.child,0,I);E.id=J.id;I=null}}else J=this._attachChildNode(G,E.id,E.text,0,E.im0,E.im1,E.im2,H.join(","),E.child,(B||0),I);if(E.tooltip)J.span.parentNode.parentNode.title=E.tooltip;if(E.style)if(J.span.style.cssText)J.span.style.cssText+=(";"+E.style);else J.span.setAttribute("style",J.span.getAttribute("style")+";"+E.style);if(E.radio)J._r_logic=true;if(E.nocheckbox){var F=J.span.parentNode.previousSibling.previousSibling;F.childNodes[0].style.display="none";if(window._KHTMLrv)F.style.display="none";J.nocheckbox=true}if(E.disabled){if(E.checked!=null)this._setCheck(J,E.checked);this.disableCheckbox(J,1)}J._acc=E.child||0;if(this.parserExtension)this.parserExtension._parseExtension.call(this,D,E,(G?G.id:0));this.setItemColor(J,E.aCol,E.sCol);if(E.locked=="1")this.lockItem(J.id,true,true);if((E.imwidth)||(E.imheight))this.setIconSize(E.imwidth,E.imheight,J);if((E.closeable=="0")||(E.closeable=="1"))this.setItemCloseable(J,E.closeable);var C="";if(E.topoffset)this.setItemTopOffset(J,E.topoffset);if((!this.slowParse)||(typeof(this.waitUpdateXML)=="object")){if(D.sub_exists("item"))C=this._parse(D,E.id,1)}else{if((!J.childsCount)&&D.sub_exists("item"))J.unParsed=D.clone();D.each("userdata",function(A){this.setUserData(E.id,A.get("name"),A.content())},this)}if(C!="")this.nodeAskingCall=C;D.each("userdata",function(A){this.setUserData(D.get("id"),A.get("name"),A.content())},this)};dhtmlXTreeObject.prototype._parse=function(I,F,G,H){if(this._srnd&&!this.parentObject.offsetHeight){var C=this;return window.setTimeout(function(){C._parse(I,F,G,H)},100)}if(!I.exists())return;this.skipLock=true;if(!F){F=I.get("id");var J=I.get("dhx_security");if(J)dhtmlx.security_key=J;if(I.get("radio"))this.htmlNode._r_logic=true;this.parsingOn=F;this.parsedArray=new Array();this.setCheckList="";this.nodeAskingCall=""}var K=this._globalIdStorageFind(F);if(!K)return dhtmlxError.throwError("DataStructure","XML refers to not existing parent");this.parsCount=this.parsCount?(this.parsCount+1):1;this.XMLloadingWarning=1;if((K.childsCount)&&(!H)&&(!this._edsbps)&&(!K._has_top))var M=0;else M=0;this.npl=0;I.each("item",function(A,B){K.XMLload=1;this._parseItem(A,K,0,M);if((this._edsbps)&&(this.npl==this._edsbpsC)){this._distributedStart(I,B+1,F,G,K.childsCount);return-1}this.npl++},this,H);if(!G){I.each("userdata",function(A){this.setUserData(I.get("id"),A.get("name"),A.content())},this);K.XMLload=1;if(this.waitUpdateXML){this.waitUpdateXML=false;for(var D=K.childsCount-1;D>=0;D--)if(K.childNodes[D]._dmark)this.deleteItem(K.childNodes[D].id)}var L=this._globalIdStorageFind(this.parsingOn);for(D=0;D<this.parsedArray.length;D++)K.htmlNode.childNodes[0].appendChild(this.parsedArray[D]);this.parsedArray=[];this.lastLoadedXMLId=F;this.XMLloadingWarning=0;var A=this.setCheckList.split(this.dlmtr);for(var B=0;B<A.length;B++)if(A[B])this.setCheck(A[B],1);if((this.XMLsource)&&(this.tscheck)&&(this.smcheck)&&(K.id!=this.rootId))if(K.checkstate===0)this._setSubChecked(0,K);else if(K.checkstate===1)this._setSubChecked(1,K);this._redrawFrom(this,null,H);if(I.get("order")&&I.get("order")!="none")this._reorderBranch(K,I.get("order"),true);if(this.nodeAskingCall!="")this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()]);if(this._branchUpdate)this._branchUpdateNext(I)}if(this.parsCount==1){this.parsingOn=null;if(this._srnd&&K.id!=this.rootId){this.prepareSR(K.id);if(this.XMLsource)this.openItem(K.id)}I.through("item","open",null,function(A){this.openItem(A.get("id"))},this);if((!this._edsbps)||(!this._edsbpsA.length)){var E=this;window.setTimeout(function(){E.callEvent("onXLE",[E,F])},1);this.xmlstate=0}this.skipLock=false}this.parsCount--;E=this;if(this._edsbps)window.setTimeout(function(){E._distributedStep(F)},this._edsbpsD);if(!G&&this.onXLE)this.onXLE(this,F);return this.nodeAskingCall};dhtmlXTreeObject.prototype._branchUpdateNext=function(A){A.each("item",function(A){var B=A.get("id");if(this._idpull[B]&&(!this._idpull[B].XMLload))return;this._branchUpdate++;this.smartRefreshItem(A.get("id"),A)},this);this._branchUpdate--};dhtmlXTreeObject.prototype.checkUserData=function(B,A){if((B.nodeType==1)&&(B.tagName=="userdata")){var C=B.getAttribute("name");if((C)&&(B.childNodes[0]))this.setUserData(A,C,B.childNodes[0].data)}};dhtmlXTreeObject.prototype._redrawFrom=function(H,G,C,D){if(!G){var B=H._globalIdStorageFind(H.lastLoadedXMLId);H.lastLoadedXMLId=-1;if(!B)return 0}else B=G;var E=0;for(var F=(C?C-1:0);F<B.childsCount;F++){if((!this._branchUpdate)||(this._getOpenState(B)==1))if((!G)||(D==1))B.childNodes[F].htmlNode.parentNode.parentNode.style.display="";if(B.childNodes[F].openMe==1){this._openItem(B.childNodes[F]);B.childNodes[F].openMe=0}H._redrawFrom(H,B.childNodes[F]);if(this.childCalc!=null){if((B.childNodes[F].unParsed)||((!B.childNodes[F].XMLload)&&(this.XMLsource)))if(B.childNodes[F]._acc)B.childNodes[F].span.innerHTML=B.childNodes[F].label+this.htmlcA+B.childNodes[F]._acc+this.htmlcB;else B.childNodes[F].span.innerHTML=B.childNodes[F].label;if((B.childNodes[F].childNodes.length)&&(this.childCalc)){if(this.childCalc==1)B.childNodes[F].span.innerHTML=B.childNodes[F].label+this.htmlcA+B.childNodes[F].childsCount+this.htmlcB;if(this.childCalc==2){var A=B.childNodes[F].childsCount-(B.childNodes[F].pureChilds||0);if(A)B.childNodes[F].span.innerHTML=B.childNodes[F].label+this.htmlcA+A+this.htmlcB;if(B.pureChilds)B.pureChilds++;else B.pureChilds=1}if(this.childCalc==3)B.childNodes[F].span.innerHTML=B.childNodes[F].label+this.htmlcA+B.childNodes[F]._acc+this.htmlcB;if(this.childCalc==4){A=B.childNodes[F]._acc;if(A)B.childNodes[F].span.innerHTML=B.childNodes[F].label+this.htmlcA+A+this.htmlcB}}else if(this.childCalc==4)E++;E+=B.childNodes[F]._acc;if(this.childCalc==3)E++}}if((!B.unParsed)&&((B.XMLload)||(!this.XMLsource)))B._acc=E;H._correctLine(B);H._correctPlus(B);if((this.childCalc)&&(!G))H._fixChildCountLabel(B)};dhtmlXTreeObject.prototype._createSelf=function(){var A=document.createElement("div");A.className="containerTableStyle";A.style.width=this.width;A.style.height=this.height;this.parentObject.appendChild(A);return A};dhtmlXTreeObject.prototype._xcloseAll=function(D){if(D.unParsed)return;if(this.rootId!=D.id){if(!D.htmlNode)return;var B=D.htmlNode.childNodes[0].childNodes,A=B.length;for(var C=1;C<A;C++)B[C].style.display="none";this._correctPlus(D)}for(C=0;C<D.childsCount;C++)if(D.childNodes[C].childsCount)this._xcloseAll(D.childNodes[C])};dhtmlXTreeObject.prototype._xopenAll=function(B){this._HideShow(B,2);for(var A=0;A<B.childsCount;A++)this._xopenAll(B.childNodes[A])};dhtmlXTreeObject.prototype._correctPlus=function(E){if(!E.htmlNode)return;var D=E.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild,A=E.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0],C=this.lineArray;if((this.XMLsource)&&(!E.XMLload)){C=this.plusArray;this._setSrc(A,this.iconURL+E.images[2]);if(this._txtimg)return(D.innerHTML="[+]")}else if((E.childsCount)||(E.unParsed)){if((E.htmlNode.childNodes[0].childNodes[1])&&(E.htmlNode.childNodes[0].childNodes[1].style.display!="none")){if(!E.wsign)C=this.minusArray;this._setSrc(A,this.iconURL+E.images[1]);if(this._txtimg)return(D.innerHTML="[-]")}else{if(!E.wsign)C=this.plusArray;this._setSrc(A,this.iconURL+E.images[2]);if(this._txtimg)return(D.innerHTML="[+]")}}else this._setSrc(A,this.iconURL+E.images[0]);var B=2;if(!E.treeNod.treeLinesOn)this._setSrc(D,this.imPath+C[3]);else{if(E.parentObject)B=this._getCountStatus(E.id,E.parentObject);this._setSrc(D,this.imPath+C[B])}};dhtmlXTreeObject.prototype._correctLine=function(C){if(!C.htmlNode)return;var A=C.parentObject;if(A)if((this._getLineStatus(C.id,A)==0)||(!this.treeLinesOn)){for(var B=1;B<=C.childsCount;B++){if(!C.htmlNode.childNodes[0].childNodes[B])break;C.htmlNode.childNodes[0].childNodes[B].childNodes[0].style.backgroundImage="";C.htmlNode.childNodes[0].childNodes[B].childNodes[0].style.backgroundRepeat=""}}else for(B=1;B<=C.childsCount;B++){if(!C.htmlNode.childNodes[0].childNodes[B])break;C.htmlNode.childNodes[0].childNodes[B].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";C.htmlNode.childNodes[0].childNodes[B].childNodes[0].style.backgroundRepeat="repeat-y"}};dhtmlXTreeObject.prototype._getCountStatus=function(A,B){if(B.childsCount<=1)if(B.id==this.rootId)return 4;else return 0;if(B.childNodes[0].id==A)if(B.id==this.rootId)return 2;else return 1;if(B.childNodes[B.childsCount-1].id==A)return 0;return 1};dhtmlXTreeObject.prototype._getLineStatus=function(A,B){if(B.childNodes[B.childsCount-1].id==A)return 0;return 1};dhtmlXTreeObject.prototype._HideShow=function(E,D){if((this.XMLsource)&&(!E.XMLload)){if(D==1)return;E.XMLload=1;this._loadDynXML(E.id);return}if(E.unParsed)this.reParse(E);var B=E.htmlNode.childNodes[0].childNodes,A=B.length;if(A>1){if(((B[1].style.display!="none")||(D==1))&&(D!=2)){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";nodestyle="none"}else nodestyle="";for(var C=1;C<A;C++)B[C].style.display=nodestyle}this._correctPlus(E)};dhtmlXTreeObject.prototype._getOpenState=function(B){if(!B.htmlNode)return 0;var A=B.htmlNode.childNodes[0].childNodes;if(A.length<=1)return 0;if(A[1].style.display!="none")return 1;else return-1};dhtmlXTreeObject.prototype.onRowClick2=function(){var A=this.parentObject.treeNod;if(!A.callEvent("onDblClick",[this.parentObject.id,A]))return false;if((this.parentObject.closeble)&&(this.parentObject.closeble!="0"))A._HideShow(this.parentObject);else A._HideShow(this.parentObject,2);if(A.checkEvent("onOpenEnd"))if(!A.xmlstate)A.callEvent("onOpenEnd",[this.parentObject.id,A._getOpenState(this.parentObject)]);else{A._oie_onXLE.push(A.onXLE);A.onXLE=A._epnFHe}return false};dhtmlXTreeObject.prototype.onRowClick=function(){var A=this.parentObject.treeNod;if(!A.callEvent("onOpenStart",[this.parentObject.id,A._getOpenState(this.parentObject)]))return 0;if((this.parentObject.closeble)&&(this.parentObject.closeble!="0"))A._HideShow(this.parentObject);else A._HideShow(this.parentObject,2);if(A.checkEvent("onOpenEnd"))if(!A.xmlstate)A.callEvent("onOpenEnd",[this.parentObject.id,A._getOpenState(this.parentObject)]);else{A._oie_onXLE.push(A.onXLE);A.onXLE=A._epnFHe}};dhtmlXTreeObject.prototype._epnFHe=function(B,A,C){if(A!=this.rootId)this.callEvent("onOpenEnd",[A,B.getOpenState(A)]);B.onXLE=B._oie_onXLE.pop();if(!C&&!B._oie_onXLE.length)if(B.onXLE)B.onXLE(B,A)};dhtmlXTreeObject.prototype.onRowClickDown=function(B){B=B||window.event;var A=this.parentObject.treeNod;A._selectItem(this.parentObject,B)};dhtmlXTreeObject.prototype.getSelectedItemId=function(){var A=new Array();for(var B=0;B<this._selected.length;B++)A[B]=this._selected[B].id;return(A.join(this.dlmtr))};dhtmlXTreeObject.prototype._selectItem=function(A,B){if(this.checkEvent("onSelect"))this._onSSCFold=this.getSelectedItemId();if((!this._amsel)||(!B)||((!B.ctrlKey)&&(!B.metaKey)&&(!B.shiftKey)))this._unselectItems();if((A.i_sel)&&(this._amsel)&&(B)&&(B.ctrlKey||B.metaKey))this._unselectItem(A);else if((!A.i_sel)&&((!this._amselS)||(this._selected.length==0)||(this._selected[0].parentObject==A.parentObject)))if((this._amsel)&&(B)&&(B.shiftKey)&&(this._selected.length!=0)&&(this._selected[this._selected.length-1].parentObject==A.parentObject)){var E=this._getIndex(this._selected[this._selected.length-1]),C=this._getIndex(A);if(C<E){var D=E;E=C;C=D}for(var G=E;G<=C;G++)if(!A.parentObject.childNodes[G].i_sel)this._markItem(A.parentObject.childNodes[G])}else this._markItem(A);if(this.checkEvent("onSelect")){var F=this.getSelectedItemId();if(F!=this._onSSCFold)this.callEvent("onSelect",[F])}};dhtmlXTreeObject.prototype._markItem=function(A){if(A.scolor)A.span.style.color=A.scolor;A.span.className="selectedTreeRow";A.i_sel=true;this._selected[this._selected.length]=A};dhtmlXTreeObject.prototype.getIndexById=function(A){var B=this._globalIdStorageFind(A);if(!B)return null;return this._getIndex(B)};dhtmlXTreeObject.prototype._getIndex=function(A){var B=A.parentObject;for(var C=0;C<B.childsCount;C++)if(B.childNodes[C]==A)return C};dhtmlXTreeObject.prototype._unselectItem=function(A){if((A)&&(A.i_sel)){A.span.className="standartTreeRow";if(A.acolor)A.span.style.color=A.acolor;A.i_sel=false;for(var B=0;B<this._selected.length;B++)if(!this._selected[B].i_sel){this._selected.splice(B,1);break}}};dhtmlXTreeObject.prototype._unselectItems=function(){for(var B=0;B<this._selected.length;B++){var A=this._selected[B];A.span.className="standartTreeRow";if(A.acolor)A.span.style.color=A.acolor;A.i_sel=false}this._selected=new Array()};dhtmlXTreeObject.prototype.onRowSelect=function(C,B,F){C=C||window.event;var E=this.parentObject;if(B)E=B.parentObject;var A=E.treeNod,D=A.getSelectedItemId();if((!C)||(!C.skipUnSel))A._selectItem(E,C);if(!F)if(E.actionHandler)E.actionHandler(E.id,D);else A.callEvent("onClick",[E.id,D])};dhtmlXTreeObject.prototype._correctCheckStates=function(E){if(!this.tscheck)return;if(!E)return;if(E.id==this.rootId)return;var B=E.childNodes,A=0,D=0;if(E.childsCount==0)return;for(var C=0;C<E.childsCount;C++){if(B[C].dscheck)continue;if(B[C].checkstate==0)A=1;else if(B[C].checkstate==1)D=1;else{A=1;D=1;break}}if((A)&&(D))this._setCheck(E,"unsure");else if(A)this._setCheck(E,false);else this._setCheck(E,true);this._correctCheckStates(E.parentObject)};dhtmlXTreeObject.prototype.onCheckBoxClick=function(A){if(!this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate]))return;if(this.parentObject.dscheck)return true;if(this.treeNod.tscheck){if(this.parentObject.checkstate==1)this.treeNod._setSubChecked(false,this.parentObject);else this.treeNod._setSubChecked(true,this.parentObject)}else if(this.parentObject.checkstate==1)this.treeNod._setCheck(this.parentObject,false);else this.treeNod._setCheck(this.parentObject,true);this.treeNod._correctCheckStates(this.parentObject.parentObject);return this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])};dhtmlXTreeObject.prototype._createItem=function(L,M,F){var E=document.createElement("table");E.cellSpacing=0;E.cellPadding=0;E.border=0;if(this.hfMode)E.style.tableLayout="fixed";E.style.margin=0;E.style.padding=0;var G=document.createElement("tbody"),C=document.createElement("tr"),H=document.createElement("td");H.className="standartTreeImage";if(this._txtimg){var A=document.createElement("div");H.appendChild(A);A.className="dhx_tree_textSign"}else{A=this._getImg(M.id);A.border="0";if(A.tagName=="IMG")A.align="absmiddle";H.appendChild(A);A.style.padding=0;A.style.margin=0;A.style.width=this.def_line_img_x;A.style.height=this.def_line_img_y}var I=document.createElement("td"),B=this._getImg(this.cBROf?this.rootId:M.id);B.checked=0;this._setSrc(B,this.imPath+this.checkArray[0]);B.style.width="16px";B.style.height="16px";if(!L)((!_isIE)?I:B).style.display="none";I.appendChild(B);if((!this.cBROf)&&(B.tagName=="IMG"))B.align="absmiddle";B.onclick=this.onCheckBoxClick;B.treeNod=this;B.parentObject=M;if(!window._KHTMLrv)I.width="20px";else I.width="16px";var J=document.createElement("td");J.className="standartTreeImage";var D=this._getImg(this.timgen?M.id:this.rootId);D.onmousedown=this._preventNsDrag;D.ondragstart=this._preventNsDrag;D.border="0";if(this._aimgs){D.parentObject=M;if(D.tagName=="IMG")D.align="absmiddle";D.onclick=this.onRowSelect}if(!F)this._setSrc(D,this.iconURL+this.imageArray[0]);J.appendChild(D);D.style.padding=0;D.style.margin=0;if(this.timgen){J.style.width=D.style.width=this.def_img_x;D.style.height=this.def_img_y}else{D.style.width="0px";D.style.height="0px";if(_isOpera||window._KHTMLrv)J.style.display="none"}var K=document.createElement("td");K.className="standartTreeRow";M.span=document.createElement("span");M.span.className="standartTreeRow";if(this.mlitems){M.span.style.width=this.mlitems;M.span.style.display="block"}else K.noWrap=true;if(_isIE&&_isIE>7)K.style.width="999999px";else if(!window._KHTMLrv)K.style.width="100%";M.span.innerHTML=M.label;K.appendChild(M.span);K.parentObject=M;H.parentObject=M;K.onclick=this.onRowSelect;H.onclick=this.onRowClick;K.ondblclick=this.onRowClick2;if(this.ettip)C.title=M.label;if(this.dragAndDropOff){if(this._aimgs){this.dragger.addDraggableItem(J,this);J.parentObject=M}this.dragger.addDraggableItem(K,this)}M.span.style.paddingLeft="5px";M.span.style.paddingRight="5px";K.style.verticalAlign="";K.style.fontSize="10pt";K.style.cursor=this.style_pointer;C.appendChild(H);C.appendChild(I);C.appendChild(J);C.appendChild(K);G.appendChild(C);E.appendChild(G);if(this.ehlt||this.checkEvent("onMouseIn")||this.checkEvent("onMouseOut")){C.onmousemove=this._itemMouseIn;C[(_isIE)?"onmouseleave":"onmouseout"]=this._itemMouseOut}return E};dhtmlXTreeObject.prototype.setImagePath=function(A){this.imPath=A;this.iconURL=A};dhtmlXTreeObject.prototype.setIconPath=function(A){this.iconURL=A};dhtmlXTreeObject.prototype._getLeafCount=function(A){var C=0;for(var B=0;B<A.childsCount;B++)if(A.childNodes[B].childsCount==0)C++;return C};dhtmlXTreeObject.prototype._getChildCounterValue=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;if((A.unParsed)||((!A.XMLload)&&(this.XMLsource)))return A._acc;switch(this.childCalc){case 1:return A.childsCount;break;case 2:return this._getLeafCount(A);break;case 3:return A._acc;break;case 4:return A._acc;break}};dhtmlXTreeObject.prototype._fixChildCountLabel=function(A,B){if(this.childCalc==null)return;if((A.unParsed)||((!A.XMLload)&&(this.XMLsource))){if(A._acc)A.span.innerHTML=A.label+this.htmlcA+A._acc+this.htmlcB;else A.span.innerHTML=A.label;return}switch(this.childCalc){case 1:if(A.childsCount!=0)A.span.innerHTML=A.label+this.htmlcA+A.childsCount+this.htmlcB;else A.span.innerHTML=A.label;break;case 2:var E=this._getLeafCount(A);if(E!=0)A.span.innerHTML=A.label+this.htmlcA+E+this.htmlcB;else A.span.innerHTML=A.label;break;case 3:if(A.childsCount!=0){var D=0;for(var C=0;C<A.childsCount;C++){if(!A.childNodes[C]._acc)A.childNodes[C]._acc=0;D+=A.childNodes[C]._acc*1}D+=A.childsCount*1;A.span.innerHTML=A.label+this.htmlcA+D+this.htmlcB;A._acc=D}else{A.span.innerHTML=A.label;A._acc=0}if((A.parentObject)&&(A.parentObject!=this.htmlNode))this._fixChildCountLabel(A.parentObject);break;case 4:if(A.childsCount!=0){D=0;for(C=0;C<A.childsCount;C++){if(!A.childNodes[C]._acc)A.childNodes[C]._acc=1;D+=A.childNodes[C]._acc*1}A.span.innerHTML=A.label+this.htmlcA+D+this.htmlcB;A._acc=D}else{A.span.innerHTML=A.label;A._acc=1}if((A.parentObject)&&(A.parentObject!=this.htmlNode))this._fixChildCountLabel(A.parentObject);break}};dhtmlXTreeObject.prototype.setChildCalcMode=function(A){switch(A){case"child":this.childCalc=1;break;case"leafs":this.childCalc=2;break;case"childrec":this.childCalc=3;break;case"leafsrec":this.childCalc=4;break;case"disabled":this.childCalc=null;break;default:this.childCalc=4}};dhtmlXTreeObject.prototype.setChildCalcHTML=function(B,A){this.htmlcA=B;this.htmlcB=A};dhtmlXTreeObject.prototype.setOnRightClickHandler=function(A){this.attachEvent("onRightClick",A)};dhtmlXTreeObject.prototype.setOnClickHandler=function(A){this.attachEvent("onClick",A)};dhtmlXTreeObject.prototype.setOnSelectStateChange=function(A){this.attachEvent("onSelect",A)};dhtmlXTreeObject.prototype.setXMLAutoLoading=function(A){this.XMLsource=A};dhtmlXTreeObject.prototype.setOnCheckHandler=function(A){this.attachEvent("onCheck",A)};dhtmlXTreeObject.prototype.setOnOpenHandler=function(A){this.attachEvent("onOpenStart",A)};dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(A){this.attachEvent("onOpenStart",A)};dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(A){this.attachEvent("onOpenEnd",A)};dhtmlXTreeObject.prototype.setOnDblClickHandler=function(A){this.attachEvent("onDblClick",A)};dhtmlXTreeObject.prototype.openAllItems=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;this._xopenAll(A)};dhtmlXTreeObject.prototype.getOpenState=function(B){var A=this._globalIdStorageFind(B);if(!A)return"";return this._getOpenState(A)};dhtmlXTreeObject.prototype.closeAllItems=function(B){if(B===window.undefined)B=this.rootId;var A=this._globalIdStorageFind(B);if(!A)return 0;this._xcloseAll(A);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype.setUserData=function(D,A,B){var C=this._globalIdStorageFind(D,0,true);if(!C)return;if(A=="hint")C.htmlNode.childNodes[0].childNodes[0].title=B;if(typeof(C.userData["t_"+A])=="undefined")if(!C._userdatalist)C._userdatalist=A;else C._userdatalist+=","+A;C.userData["t_"+A]=B};dhtmlXTreeObject.prototype.getUserData=function(C,A){var B=this._globalIdStorageFind(C,0,true);if(!B)return;return B.userData["t_"+A]};dhtmlXTreeObject.prototype.getItemColor=function(C){var B=this._globalIdStorageFind(C);if(!B)return 0;var A=new Object();if(B.acolor)A.acolor=B.acolor;if(B.scolor)A.scolor=B.scolor;return A};dhtmlXTreeObject.prototype.setItemColor=function(D,B,A){if((D)&&(D.span))var C=D;else C=this._globalIdStorageFind(D);if(!C)return 0;else{if(C.i_sel){if(A)C.span.style.color=A}else if(B)C.span.style.color=B;if(A)C.scolor=A;if(B)C.acolor=B}};dhtmlXTreeObject.prototype.getItemText=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;return(A.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML)};dhtmlXTreeObject.prototype.getParentId=function(B){var A=this._globalIdStorageFind(B);if((!A)||(!A.parentObject))return"";return A.parentObject.id};dhtmlXTreeObject.prototype.changeItemId=function(C,B){if(C==B)return;var A=this._globalIdStorageFind(C);if(!A)return 0;A.id=B;A.span.contextMenuId=B;this._idpull[B]=this._idpull[C];delete this._idpull[C]};dhtmlXTreeObject.prototype.doCut=function(){if(this.nodeCut)this.clearCut();this.nodeCut=(new Array()).concat(this._selected);for(var B=0;B<this.nodeCut.length;B++){var A=this.nodeCut[B];A._cimgs=new Array();A._cimgs[0]=A.images[0];A._cimgs[1]=A.images[1];A._cimgs[2]=A.images[2];A.images[0]=A.images[1]=A.images[2]=this.cutImage;this._correctPlus(A)}};dhtmlXTreeObject.prototype.doPaste=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;for(var C=0;C<this.nodeCut.length;C++){if(this._checkPNodes(A,this.nodeCut[C]))continue;this._moveNode(this.nodeCut[C],A)}this.clearCut()};dhtmlXTreeObject.prototype.clearCut=function(){for(var B=0;B<this.nodeCut.length;B++){var A=this.nodeCut[B];A.images[0]=A._cimgs[0];A.images[1]=A._cimgs[1];A.images[2]=A._cimgs[2];this._correctPlus(A)}this.nodeCut=new Array()};dhtmlXTreeObject.prototype._moveNode=function(F,A){var E=this.dadmodec;if(E==1){var D=A;if(this.dadmodefix<0){while(true){D=this._getPrevNode(D);if((D==-1)){D=this.htmlNode;break}if((D.tr==0)||(D.tr.style.display=="")||(!D.parentObject))break}var C=D,B=A}else{if((D.tr)&&(D.tr.nextSibling)&&(D.tr.nextSibling.nodem)&&!this._getOpenState(D))D=D.tr.nextSibling.nodem;else{D=this._getNextNode(D);if((D==-1))D=this.htmlNode}B=D,C=A}if(this._getNodeLevel(C,0)>this._getNodeLevel(B,0)){if(!this.dropLower)return this._moveNodeTo(F,C.parentObject);else if(B.id!=this.rootId)return this._moveNodeTo(F,B.parentObject,B);else return this._moveNodeTo(F,this.htmlNode,null)}else return this._moveNodeTo(F,B.parentObject,B)}else return this._moveNodeTo(F,A)};dhtmlXTreeObject.prototype._fixNodesCollection=function(D,G){var B=0,C=0,F=D.childNodes,A=D.childsCount-1;if(G==F[A])return;for(var H=0;H<A;H++)if(F[H]==F[A]){F[H]=F[H+1];F[H+1]=F[A]}for(H=0;H<A+1;H++)if(B){var E=F[H];F[H]=B;B=E}else if(F[H]==G){B=F[H];F[H]=F[A]}};dhtmlXTreeObject.prototype._recreateBranch=function(I,A,D,C){var H,F="";if(D){for(H=0;H<A.childsCount;H++)if(A.childNodes[H]==D)break;if(H!=0)D=A.childNodes[H-1];else{F="TOP";D=""}}var B=this._onradh;this._onradh=null;var G=this._attachChildNode(A,I.id,I.label,0,I.images[0],I.images[1],I.images[2],F,0,D);G._userdatalist=I._userdatalist;G.userData=I.userData.clone();if(I._attrs){G._attrs={};for(var E in I._attrs)G._attrs[E]=I._attrs[E]}G.XMLload=I.XMLload;if(B){this._onradh=B;this._onradh(G.id)}if(I.treeNod.dpcpy)I.treeNod._globalIdStorageFind(I.id);else G.unParsed=I.unParsed;this._correctPlus(G);for(H=0;H<I.childsCount;H++)this._recreateBranch(I.childNodes[H],G,0,1);if((!C)&&(this.childCalc))this._redrawFrom(this,A);return G};dhtmlXTreeObject.prototype._moveNodeTo=function(L,A,E){if(L.treeNod._nonTrivialNode)return L.treeNod._nonTrivialNode(this,A,E,L);if(this._checkPNodes(A,L))return false;if(A.mytype)var M=(L.treeNod.lWin!=A.lWin);else M=(L.treeNod.lWin!=A.treeNod.lWin);if(!this.callEvent("onDrag",[L.id,A.id,(E?E.id:null),L.treeNod,A.treeNod]))return false;if((A.XMLload==0)&&(this.XMLsource)){A.XMLload=1;this._loadDynXML(A.id)}this.openItem(A.id);var B=L.treeNod,F=L.parentObject.childsCount,J=L.parentObject;if((M)||(B.dpcpy)){var K=L.id;L=this._recreateBranch(L,A,E);if(!B.dpcpy)B.deleteItem(K)}else{var C=A.childsCount,I=A.childNodes;if(C==0)A._open=true;B._unselectItem(L);I[C]=L;L.treeNod=A.treeNod;A.childsCount++;var G=this._drawNewTr(I[C].htmlNode);if(!E){A.htmlNode.childNodes[0].appendChild(G);if(this.dadmode==1)this._fixNodesCollection(A,E)}else{A.htmlNode.childNodes[0].insertBefore(G,E.tr);this._fixNodesCollection(A,E);I=A.childNodes}}if((!B.dpcpy)&&(!M)){var D=L.tr;if((document.all)&&(navigator.appVersion.search(/MSIE\ 5\.0/gi)!=-1))window.setTimeout(function(){D.parentNode.removeChild(D)},250);else L.parentObject.htmlNode.childNodes[0].removeChild(L.tr);if((!E)||(A!=L.parentObject)){for(var H=0;H<J.childsCount;H++)if(J.childNodes[H].id==L.id){J.childNodes[H]=0;break}}else J.childNodes[J.childsCount-1]=0;B._compressChildList(J.childsCount,J.childNodes);J.childsCount--}if((!M)&&(!B.dpcpy)){L.tr=G;G.nodem=L;L.parentObject=A;if(B!=A.treeNod){if(L.treeNod._registerBranch(L,B))return;this._clearStyles(L);this._redrawFrom(this,L.parentObject);if(this._onradh)this._onradh(L.id)}this._correctPlus(A);this._correctLine(A);this._correctLine(L);this._correctPlus(L);if(E)this._correctPlus(E);else if(A.childsCount>=2){this._correctPlus(I[A.childsCount-2]);this._correctLine(I[A.childsCount-2])}this._correctPlus(I[A.childsCount-1]);if(this.tscheck)this._correctCheckStates(A);if(B.tscheck)B._correctCheckStates(J)}if(F>1){B._correctPlus(J.childNodes[F-2]);B._correctLine(J.childNodes[F-2])}B._correctPlus(J);B._correctLine(J);this._fixChildCountLabel(A);B._fixChildCountLabel(J);this.callEvent("onDrop",[L.id,A.id,(E?E.id:null),B,A.treeNod]);return L.id};dhtmlXTreeObject.prototype._clearStyles=function(D){if(!D.htmlNode)return;var A=D.htmlNode.childNodes[0].childNodes[0].childNodes[1],B=A.nextSibling.nextSibling;D.span.innerHTML=D.label;D.i_sel=false;if(D._aimgs)this.dragger.removeDraggableItem(A.nextSibling);if(this.checkBoxOff){A.childNodes[0].style.display="";A.childNodes[0].onclick=this.onCheckBoxClick;this._setSrc(A.childNodes[0],this.imPath+this.checkArray[D.checkstate])}else A.childNodes[0].style.display="none";A.childNodes[0].treeNod=this;this.dragger.removeDraggableItem(B);if(this.dragAndDropOff)this.dragger.addDraggableItem(B,this);if(this._aimgs)this.dragger.addDraggableItem(A.nextSibling,this);B.childNodes[0].className="standartTreeRow";B.onclick=this.onRowSelect;B.ondblclick=this.onRowClick2;A.previousSibling.onclick=this.onRowClick;this._correctLine(D);this._correctPlus(D);for(var C=0;C<D.childsCount;C++)this._clearStyles(D.childNodes[C])};dhtmlXTreeObject.prototype._registerBranch=function(C,A){if(A)A._globalIdStorageSub(C.id);C.id=this._globalIdStorageAdd(C.id,C);C.treeNod=this;for(var B=0;B<C.childsCount;B++)this._registerBranch(C.childNodes[B],A);return 0};dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(A){this.tscheck=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.setOnMouseInHandler=function(A){this.ehlt=true;this.attachEvent("onMouseIn",A)};dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(A){this.ehlt=true;this.attachEvent("onMouseOut",A)};dhtmlXTreeObject.prototype.enableMercyDrag=function(A){this.dpcpy=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.enableTreeImages=function(A){this.timgen=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.enableFixedMode=function(A){this.hfMode=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.enableCheckBoxes=function(B,A){this.checkBoxOff=convertStringToBoolean(B);this.cBROf=(!(this.checkBoxOff||convertStringToBoolean(A)))};dhtmlXTreeObject.prototype.setStdImages=function(B,A,C){this.imageArray[0]=B;this.imageArray[1]=A;this.imageArray[2]=C};dhtmlXTreeObject.prototype.enableTreeLines=function(A){this.treeLinesOn=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.setImageArrays=function(D,B,A,E,C,F){switch(D){case"plus":this.plusArray[0]=B;this.plusArray[1]=A;this.plusArray[2]=E;this.plusArray[3]=C;this.plusArray[4]=F;break;case"minus":this.minusArray[0]=B;this.minusArray[1]=A;this.minusArray[2]=E;this.minusArray[3]=C;this.minusArray[4]=F;break}};dhtmlXTreeObject.prototype.openItem=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;else return this._openItem(A)};dhtmlXTreeObject.prototype._openItem=function(A){var B=this._getOpenState(A);if((B<0)||(((this.XMLsource)&&(!A.XMLload)))){if(!this.callEvent("onOpenStart",[A.id,B]))return 0;this._HideShow(A,2);if(this.checkEvent("onOpenEnd")){if(this.onXLE==this._epnFHe)this._epnFHe(this,A.id,true);if(!this.xmlstate||!this.XMLsource)this.callEvent("onOpenEnd",[A.id,this._getOpenState(A)]);else{this._oie_onXLE.push(this.onXLE);this.onXLE=this._epnFHe}}}else if(this._srnd)this._HideShow(A,2);if(A.parentObject&&!this._skip_open_parent)this._openItem(A.parentObject)};dhtmlXTreeObject.prototype.closeItem=function(B){if(this.rootId==B)return 0;var A=this._globalIdStorageFind(B);if(!A)return 0;if(A.closeble)this._HideShow(A,1)};dhtmlXTreeObject.prototype.getLevel=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;return this._getNodeLevel(A,0)};dhtmlXTreeObject.prototype.setItemCloseable=function(C,A){A=convertStringToBoolean(A);if((C)&&(C.span))var B=C;else B=this._globalIdStorageFind(C);if(!B)return 0;B.closeble=A};dhtmlXTreeObject.prototype._getNodeLevel=function(B,A){if(B.parentObject)return this._getNodeLevel(B.parentObject,A+1);return(A)};dhtmlXTreeObject.prototype.hasChildren=function(B){var A=this._globalIdStorageFind(B);if(!A)return 0;else if((this.XMLsource)&&(!A.XMLload))return true;else return A.childsCount};dhtmlXTreeObject.prototype._getLeafCount=function(A){var C=0;for(var B=0;B<A.childsCount;B++)if(A.childNodes[B].childsCount==0)C++;return C};dhtmlXTreeObject.prototype.setItemText=function(D,A,C){var B=this._globalIdStorageFind(D);if(!B)return 0;B.label=A;B.span.innerHTML=A;if(this.childCalc)this._fixChildCountLabel(B);B.span.parentNode.parentNode.title=C||""};dhtmlXTreeObject.prototype.getItemTooltip=function(B){var A=this._globalIdStorageFind(B);if(!A)return"";return(A.span.parentNode.parentNode._dhx_title||A.span.parentNode.parentNode.title||"")};dhtmlXTreeObject.prototype.refreshItem=function(B){if(!B)B=this.rootId;var A=this._globalIdStorageFind(B);this.deleteChildItems(B);this._loadDynXML(B)};dhtmlXTreeObject.prototype.setItemImage2=function(D,B,A,E){var C=this._globalIdStorageFind(D);if(!C)return 0;C.images[1]=A;C.images[2]=E;C.images[0]=B;this._correctPlus(C)};dhtmlXTreeObject.prototype.setItemImage=function(D,B,A){var C=this._globalIdStorageFind(D);if(!C)return 0;if(A){C.images[1]=B;C.images[2]=A}else C.images[0]=B;this._correctPlus(C)};dhtmlXTreeObject.prototype.getSubItems=function(B){var A=this._globalIdStorageFind(B,0,1);if(!A)return 0;if(A.unParsed)return(this._getSubItemsXML(A.unParsed));var C="";for(i=0;i<A.childsCount;i++)if(!C)C=A.childNodes[i].id;else C+=this.dlmtr+A.childNodes[i].id;return C};dhtmlXTreeObject.prototype._getAllScraggyItems=function(A){var C="";for(var D=0;D<A.childsCount;D++)if((A.childNodes[D].unParsed)||(A.childNodes[D].childsCount>0)){if(A.childNodes[D].unParsed)var B=this._getAllScraggyItemsXML(A.childNodes[D].unParsed,1);else B=this._getAllScraggyItems(A.childNodes[D]);if(B)if(C)C+=this.dlmtr+B;else C=B}else if(!C)C=A.childNodes[D].id;else C+=this.dlmtr+A.childNodes[D].id;return C};dhtmlXTreeObject.prototype._getAllFatItems=function(A){var C="";for(var D=0;D<A.childsCount;D++)if((A.childNodes[D].unParsed)||(A.childNodes[D].childsCount>0)){if(!C)C=A.childNodes[D].id;else C+=this.dlmtr+A.childNodes[D].id;if(A.childNodes[D].unParsed)var B=this._getAllFatItemsXML(A.childNodes[D].unParsed,1);else B=this._getAllFatItems(A.childNodes[D]);if(B)C+=this.dlmtr+B}return C};dhtmlXTreeObject.prototype._getAllSubItems=function(D,E,A){if(A)C=A;else var C=this._globalIdStorageFind(D);if(!C)return 0;E="";for(var F=0;F<C.childsCount;F++){if(!E)E=C.childNodes[F].id;else E+=this.dlmtr+C.childNodes[F].id;var B=this._getAllSubItems(0,E,C.childNodes[F]);if(B)E+=this.dlmtr+B}if(C.unParsed)E=this._getAllSubItemsXML(D,E,C.unParsed);return E};dhtmlXTreeObject.prototype.selectItem=function(C,E,D){E=convertStringToBoolean(E);var B=this._globalIdStorageFind(C);if((!B)||(!B.parentObject))return 0;if(this.XMLloadingWarning)B.parentObject.openMe=1;else this._openItem(B.parentObject);var A=null;if(D){A=new Object;A.ctrlKey=true;if(B.i_sel)A.skipUnSel=true}if(E)this.onRowSelect(A,B.htmlNode.childNodes[0].childNodes[0].childNodes[3],false);else this.onRowSelect(A,B.htmlNode.childNodes[0].childNodes[0].childNodes[3],true)};dhtmlXTreeObject.prototype.getSelectedItemText=function(){var A=new Array();for(var B=0;B<this._selected.length;B++)A[B]=this._selected[B].span.innerHTML;return(A.join(this.dlmtr))};dhtmlXTreeObject.prototype._compressChildList=function(A,B){A--;for(var C=0;C<A;C++)if(B[C]==0){B[C]=B[C+1];B[C+1]=0}};dhtmlXTreeObject.prototype._deleteNode=function(H,A,G){if((!A)||(!A.parentObject))return 0;var E=0,D=0;if(A.tr.nextSibling)E=A.tr.nextSibling.nodem;if(A.tr.previousSibling)D=A.tr.previousSibling.nodem;var C=A.parentObject,B=C.childsCount,F=C.childNodes;for(var I=0;I<B;I++)if(F[I].id==H){if(!G)C.htmlNode.childNodes[0].removeChild(F[I].tr);F[I]=0;break}this._compressChildList(B,F);if(!G)C.childsCount--;if(E){this._correctPlus(E);this._correctLine(E)}if(D){this._correctPlus(D);this._correctLine(D)}if(this.tscheck)this._correctCheckStates(C);if(!G)this._globalIdStorageRecSub(A)};dhtmlXTreeObject.prototype.setCheck=function(C,A){var B=this._globalIdStorageFind(C,0,1);if(!B)return;if(A==="unsure")this._setCheck(B,A);else{A=convertStringToBoolean(A);if((this.tscheck)&&(this.smcheck))this._setSubChecked(A,B);else this._setCheck(B,A)}if(this.smcheck)this._correctCheckStates(B.parentObject)};dhtmlXTreeObject.prototype._setCheck=function(B,A){if(!B)return;if(((B.parentObject._r_logic)||(this._frbtr))&&(A))if(this._frbtrs){if(this._frbtrL)this.setCheck(this._frbtrL.id,0);this._frbtrL=B}else for(var D=0;D<B.parentObject.childsCount;D++)this._setCheck(B.parentObject.childNodes[D],0);var C=B.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(A=="unsure")B.checkstate=2;else if(A)B.checkstate=1;else B.checkstate=0;if(B.dscheck)B.checkstate=B.dscheck;this._setSrc(C,this.imPath+((B.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[B.checkstate])};dhtmlXTreeObject.prototype.setSubChecked=function(C,A){var B=this._globalIdStorageFind(C);this._setSubChecked(A,B);this._correctCheckStates(B.parentObject)};dhtmlXTreeObject.prototype._setSubChecked=function(A,B){A=convertStringToBoolean(A);if(!B)return;if(((B.parentObject._r_logic)||(this._frbtr))&&(A))for(var D=0;D<B.parentObject.childsCount;D++)this._setSubChecked(0,B.parentObject.childNodes[D]);if(B.unParsed)this._setSubCheckedXML(A,B.unParsed);if(B._r_logic||this._frbtr)this._setSubChecked(A,B.childNodes[0]);else for(D=0;D<B.childsCount;D++)this._setSubChecked(A,B.childNodes[D]);var C=B.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(A)B.checkstate=1;else B.checkstate=0;if(B.dscheck)B.checkstate=B.dscheck;this._setSrc(C,this.imPath+((B.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[B.checkstate])};dhtmlXTreeObject.prototype.isItemChecked=function(B){var A=this._globalIdStorageFind(B);if(!A)return;return A.checkstate};dhtmlXTreeObject.prototype.deleteChildItems=function(C){var A=this._globalIdStorageFind(C);if(!A)return;var B=A.childsCount;for(var D=0;D<B;D++)this._deleteNode(A.childNodes[0].id,A.childNodes[0])};dhtmlXTreeObject.prototype.deleteItem=function(B,A){if((!this._onrdlh)||(this._onrdlh(B))){var C=this._deleteItem(B,A);if(C)this._fixChildCountLabel(C)}this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype._deleteItem=function(E,C,D){C=convertStringToBoolean(C);var B=this._globalIdStorageFind(E);if(!B)return;var A=this.getParentId(E),F=B.parentObject;this._deleteNode(E,B,D);if(this._editCell&&this._editCell.id==E)this._editCell=null;this._correctPlus(F);this._correctLine(F);if((C)&&(A!=this.rootId))this.selectItem(A,1);return F};dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(C){for(var B=0;B<C.childsCount;B++){this._globalIdStorageRecSub(C.childNodes[B]);this._globalIdStorageSub(C.childNodes[B].id)}this._globalIdStorageSub(C.id);var A=C;A.span=null;A.tr.nodem=null;A.tr=null;A.htmlNode=null};dhtmlXTreeObject.prototype.insertNewNext=function(I,F,H,B,D,C,J,A,E){var G=this._globalIdStorageFind(I);if((!G)||(!G.parentObject))return(0);var K=this._attachChildNode(0,F,H,B,D,C,J,A,E,G);if((!this.XMLloadingWarning)&&(this.childCalc))this._fixChildCountLabel(G.parentObject);return K};dhtmlXTreeObject.prototype.getItemIdByIndex=function(B,A){var C=this._globalIdStorageFind(B);if((!C)||(A>=C.childsCount))return null;return C.childNodes[A].id};dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(B,A){var C=this._globalIdStorageFind(B);if((!C)||(A>=C.childsCount))return null;return C.childNodes[A].id};dhtmlXTreeObject.prototype.setDragHandler=function(A){this.attachEvent("onDrag",A)};dhtmlXTreeObject.prototype._clearMove=function(){if(this._lastMark){this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,"");this._lastMark=null}this.selectionBar.style.display="none";this.allTree.className=this.allTree.className.replace(" selectionBox","")};dhtmlXTreeObject.prototype.enableDragAndDrop=function(B,A){if(B=="temporary_disabled"){this.dADTempOff=false;B=true}else this.dADTempOff=true;this.dragAndDropOff=convertStringToBoolean(B);if(this.dragAndDropOff)this.dragger.addDragLanding(this.allTree,this);if(arguments.length>1)this._ddronr=(!convertStringToBoolean(A))};dhtmlXTreeObject.prototype._setMove=function(A,G,F){if(A.parentObject.span){var B=getAbsoluteTop(A),C=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;this.dadmodec=this.dadmode;this.dadmodefix=0;if(this.dadmode==2){var E=F-B+(document.body.scrollTop||document.documentElement.scrollTop)-2-A.offsetHeight/2;if((Math.abs(E)-A.offsetHeight/6)>0){this.dadmodec=1;if(E<0)this.dadmodefix=0-A.offsetHeight}else this.dadmodec=0}if(this.dadmodec==0){var D=A.parentObject.span;D.className+=" dragAndDropRow";this._lastMark=D}else{this._clearMove();this.selectionBar.style.top=(B-C+((parseInt(A.parentObject.span.parentNode.previousSibling.childNodes[0].style.height)||18)-1)+this.dadmodefix)+"px";this.selectionBar.style.left="5px";if(this.allTree.offsetWidth>20)this.selectionBar.style.width=(this.allTree.offsetWidth-(_isFF?30:25))+"px";this.selectionBar.style.display=""}this._autoScroll(null,B,C)}};dhtmlXTreeObject.prototype._autoScroll=function(A,B,C){if(this.autoScroll){if(A){B=getAbsoluteTop(A);C=getAbsoluteTop(this.allTree)-this.allTree.scrollTop}if((B-C-parseInt(this.allTree.scrollTop))>(parseInt(this.allTree.offsetHeight)-50))this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20;if((B-C)<(parseInt(this.allTree.scrollTop)+30))this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20}};dhtmlXTreeObject.prototype._createDragNode=function(C,D){if(!this.dADTempOff)return null;var E=C.parentObject;if(!this.callEvent("onBeforeDrag",[E.id,D]))return null;if(!E.i_sel)this._selectItem(E,D);this._checkMSelectionLogic();var A=document.createElement("div"),B=new Array();if(this._itim_dg){for(var F=0;F<this._selected.length;F++)B[F]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[F].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+this._selected[F].span.innerHTML+"</td></tr></table>"}else B=this.getSelectedItemText().split(this.dlmtr);A.innerHTML=B.join("");A.style.position="absolute";A.className="dragSpanDiv";this._dragged=(new Array()).concat(this._selected);return A};dhtmlXTreeObject.prototype._focusNode=function(A){var B=getAbsoluteTop(A.htmlNode)-getAbsoluteTop(this.allTree);if((B>(this.allTree.offsetHeight-30))||(B<0))this.allTree.scrollTop=B+this.allTree.scrollTop};dhtmlXTreeObject.prototype._preventNsDrag=function(A){if((A)&&(A.preventDefault)){A.preventDefault();return false}return false};dhtmlXTreeObject.prototype._drag=function(B,H,A){if(this._autoOpenTimer)clearTimeout(this._autoOpenTimer);if(!A.parentObject){A=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];this.dadmodec=0}this._clearMove();var F=B.parentObject.treeNod;if((F)&&(F._clearMove))F._clearMove("");if((!this.dragMove)||(this.dragMove())){if((!F)||(!F._clearMove)||(!F._dragged))var C=new Array(B.parentObject);else C=F._dragged;var E=A.parentObject;for(var G=0;G<C.length;G++){var D=this._moveNode(C[G],E);if((this.dadmodec)&&(D!==false))E=this._globalIdStorageFind(D,true,true);if((D)&&(!this._sADnD))this.selectItem(D,0,1)}}if(F)F._dragged=new Array()};dhtmlXTreeObject.prototype._dragIn=function(A,C,H,F){if(!this.dADTempOff)return 0;var E=C.parentObject,B=A.parentObject;if((!B)&&(this._ddronr))return;if(!this.callEvent("onDragIn",[E.id,B?B.id:null,E.treeNod,this])){if(B)this._autoScroll(A);return 0}if(!B)this.allTree.className+=" selectionBox";else{if(E.childNodes==null){this._setMove(A,H,F);return A}var D=E.treeNod;for(var G=0;G<D._dragged.length;G++)if(this._checkPNodes(B,D._dragged[G])){this._autoScroll(A);return 0}this.selectionBar.parentNode.removeChild(this.selectionBar);B.span.parentNode.appendChild(this.selectionBar);this._setMove(A,H,F);if(this._getOpenState(B)<=0){this._autoOpenId=B.id;this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1000)}}return A};dhtmlXTreeObject.prototype._autoOpenItem=function(A,B){B.openItem(B._autoOpenId)};dhtmlXTreeObject.prototype._dragOut=function(A){this._clearMove();if(this._autoOpenTimer)clearTimeout(this._autoOpenTimer)};dhtmlXTreeObject.prototype._getNextNode=function(A,B){if((!B)&&(A.childsCount))return A.childNodes[0];if(A==this.htmlNode)return-1;if((A.tr)&&(A.tr.nextSibling)&&(A.tr.nextSibling.nodem))return A.tr.nextSibling.nodem;return this._getNextNode(A.parentObject,true)};dhtmlXTreeObject.prototype._lastChild=function(A){if(A.childsCount)return this._lastChild(A.childNodes[A.childsCount-1]);else return A};dhtmlXTreeObject.prototype._getPrevNode=function(A,B){if((A.tr)&&(A.tr.previousSibling)&&(A.tr.previousSibling.nodem))return this._lastChild(A.tr.previousSibling.nodem);if(A.parentObject)return A.parentObject;else return-1};dhtmlXTreeObject.prototype.findItem=function(B,A,D){var C=this._findNodeByLabel(B,A,(D?this.htmlNode:null));if(C){this.selectItem(C.id,true);this._focusNode(C);return C.id}else return null};dhtmlXTreeObject.prototype.findItemIdByLabel=function(B,A,D){var C=this._findNodeByLabel(B,A,(D?this.htmlNode:null));if(C)return C.id;else return null};dhtmlXTreeObject.prototype.findStrInXML=function(B,A,C){if(!B.childNodes&&B.item)return this.findStrInJSON(B,A,C);if(!B.childNodes)return false;for(var E=0;E<B.childNodes.length;E++)if(B.childNodes[E].nodeType==1){var D=B.childNodes[E].getAttribute(A);if(!D&&B.childNodes[E].tagName=="itemtext")D=B.childNodes[E].firstChild.data;if((D)&&(D.toLowerCase().search(C)!=-1))return true;if(this.findStrInXML(B.childNodes[E],A,C))return true}return false};dhtmlXTreeObject.prototype.findStrInJSON=function(B,A,C){for(var E=0;E<B.item.length;E++){var D=B.item[E].text;if((D)&&(D.toLowerCase().search(C)!=-1))return true;if(B.item[E].item&&this.findStrInJSON(B.item[E],A,C))return true}return false};dhtmlXTreeObject.prototype._findNodeByLabel=function(D,A,B){var D=D.replace(new RegExp("^( )+"),"").replace(new RegExp("( )+$"),"");D=new RegExp(D.replace(/([\?\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi");if(!B){B=this._selected[0];if(!B)B=this.htmlNode}var C=B;if(!A){if((B.unParsed)&&(this.findStrInXML(B.unParsed.d,"text",D)))this.reParse(B);B=this._getNextNode(C);if(B==-1)B=this.htmlNode.childNodes[0]}else{var E=this._getPrevNode(C);if(E==-1)E=this._lastChild(this.htmlNode);if((E.unParsed)&&(this.findStrInXML(E.unParsed.d,"text",D))){this.reParse(E);B=this._getPrevNode(C)}else B=E;if(B==-1)B=this._lastChild(this.htmlNode)}while((B)&&(B!=C)){if((B.label)&&(B.label.search(D)!=-1))return(B);if(!A){if(B==-1){if(C==this.htmlNode)break;B=this.htmlNode.childNodes[0]}if((B.unParsed)&&(this.findStrInXML(B.unParsed.d,"text",D)))this.reParse(B);B=this._getNextNode(B);if(B==-1)B=this.htmlNode}else{E=this._getPrevNode(B);if(E==-1)E=this._lastChild(this.htmlNode);if((E.unParsed)&&(this.findStrInXML(E.unParsed.d,"text",D))){this.reParse(E);B=this._getPrevNode(B)}else B=E;if(B==-1)B=this._lastChild(this.htmlNode)}}return null};dhtmlXTreeObject.prototype.moveItem=function(E,H,C,G){var B=this._globalIdStorageFind(E);if(!B)return(0);switch(H){case"right":alert("Not supported yet");break;case"item_child":var D=(G||this)._globalIdStorageFind(C);if(!D)return(0);(G||this)._moveNodeTo(B,D,0);break;case"item_sibling":D=(G||this)._globalIdStorageFind(C);if(!D)return(0);(G||this)._moveNodeTo(B,D.parentObject,D);break;case"item_sibling_next":D=(G||this)._globalIdStorageFind(C);if(!D)return(0);if((D.tr)&&(D.tr.nextSibling)&&(D.tr.nextSibling.nodem))(G||this)._moveNodeTo(B,D.parentObject,D.tr.nextSibling.nodem);else(G||this)._moveNodeTo(B,D.parentObject);break;case"left":if(B.parentObject.parentObject)this._moveNodeTo(B,B.parentObject.parentObject,B.parentObject);break;case"up":var F=this._getPrevNode(B);if((F==-1)||(!F.parentObject))return;this._moveNodeTo(B,F.parentObject,F);break;case"up_strict":F=this._getIndex(B);if(F!=0)this._moveNodeTo(B,B.parentObject,B.parentObject.childNodes[F-1]);break;case"down_strict":var F=this._getIndex(B),A=B.parentObject.childsCount-2;if(F==A)this._moveNodeTo(B,B.parentObject);else if(F<A)this._moveNodeTo(B,B.parentObject,B.parentObject.childNodes[F+2]);break;case"down":F=this._getNextNode(this._lastChild(B));if((F==-1)||(!F.parentObject))return;if(F.parentObject==B.parentObject)F=this._getNextNode(F);if(F==-1)this._moveNodeTo(B,B.parentObject);else{if((F==-1)||(!F.parentObject))return;this._moveNodeTo(B,F.parentObject,F)}break}if(_isIE&&_isIE<8){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"}};dhtmlXTreeObject.prototype.setDragBehavior=function(B,A){this._sADnD=(!convertStringToBoolean(A));switch(B){case"child":this.dadmode=0;break;case"sibling":this.dadmode=1;break;case"complex":this.dadmode=2;break}};dhtmlXTreeObject.prototype._loadDynXML=function(A,C){C=C||this.XMLsource;var B=(new Date()).valueOf();this._ld_id=A;if(this.xmlalb=="function"){if(C)C(this._escape(A))}else if(this.xmlalb=="name")this.loadXML(C+this._escape(A));else if(this.xmlalb=="xmlname")this.loadXML(C+this._escape(A)+".xml?uid="+B);else this.loadXML(C+getUrlSymbol(C)+"uid="+B+"&id="+this._escape(A))};dhtmlXTreeObject.prototype.enableMultiselection=function(B,A){this._amsel=convertStringToBoolean(B);this._amselS=convertStringToBoolean(A)};dhtmlXTreeObject.prototype._checkMSelectionLogic=function(){var A=new Array();for(var C=0;C<this._selected.length;C++)for(var B=0;B<this._selected.length;B++)if((C!=B)&&(this._checkPNodes(this._selected[B],this._selected[C])))A[A.length]=this._selected[B];for(C=0;C<A.length;C++)this._unselectItem(A[C])};dhtmlXTreeObject.prototype._checkPNodes=function(B,A){if(this._dcheckf)return false;if(A==B)return 1;if(B.parentObject)return this._checkPNodes(B.parentObject,A);else return 0};dhtmlXTreeObject.prototype.disableDropCheck=function(A){this._dcheckf=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.enableDistributedParsing=function(C,A,B){this._edsbps=convertStringToBoolean(C);this._edsbpsA=new Array();this._edsbpsC=A||10;this._edsbpsD=B||250};dhtmlXTreeObject.prototype.getDistributedParsingState=function(){return(!((!this._edsbpsA)||(!this._edsbpsA.length)))};dhtmlXTreeObject.prototype.getItemParsingState=function(A){var B=this._globalIdStorageFind(A,true,true);if(!B)return 0;if(this._edsbpsA)for(var C=0;C<this._edsbpsA.length;C++)if(this._edsbpsA[C][2]==A)return-1;return 1};dhtmlXTreeObject.prototype._distributedStart=function(B,D,A,C,E){if(!this._edsbpsA)this._edsbpsA=new Array();this._edsbpsA[this._edsbpsA.length]=[B,D,A,C,E]};dhtmlXTreeObject.prototype._distributedStep=function(A){var E=this;if((!this._edsbpsA)||(!this._edsbpsA.length)){E.XMLloadingWarning=0;return}var F=this._edsbpsA[0];this.parsedArray=new Array();this._parse(F[0],F[2],F[3],F[1]);var B=this._globalIdStorageFind(F[2]);this._redrawFrom(this,B,F[4],this._getOpenState(B));var C=this.setCheckList.split(this.dlmtr);for(var D=0;D<C.length;D++)if(C[D])this.setCheck(C[D],1);this._edsbpsA=(new Array()).concat(this._edsbpsA.slice(1));if((!this._edsbpsA.length)){window.setTimeout(function(){if(E.onXLE)E.onXLE(E,A);E.callEvent("onXLE",[E,A])},1);E.xmlstate=0}};dhtmlXTreeObject.prototype.enableTextSigns=function(A){this._txtimg=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.preventIECaching=function(A){this.no_cashe=convertStringToBoolean(A);this.XMLLoader.rSeed=this.no_cashe};dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching;dhtmlXTreeObject.prototype.disableCheckbox=function(B,C){if(typeof(B)!="object")var A=this._globalIdStorageFind(B,0,1);else A=B;if(!A)return;A.dscheck=convertStringToBoolean(C)?(((A.checkstate||0)%3)+3):((A.checkstate>2)?(A.checkstate-3):A.checkstate);this._setCheck(A);if(A.dscheck<3)A.dscheck=false};dhtmlXTreeObject.prototype.smartRefreshBranch=function(B,A){this._branchUpdate=1;this.smartRefreshItem(B,A)};dhtmlXTreeObject.prototype.smartRefreshItem=function(C,A){var B=this._globalIdStorageFind(C);for(var D=0;D<B.childsCount;D++)B.childNodes[D]._dmark=true;this.waitUpdateXML=true;if(A&&A.exists)this._parse(A,C);else this._loadDynXML(C,A)};dhtmlXTreeObject.prototype.refreshItems=function(B,A){var C=B.toString().split(this.dlmtr);this.waitUpdateXML=new Array();for(var D=0;D<C.length;D++)this.waitUpdateXML[C[D]]=true;this.loadXML((A||this.XMLsource)+getUrlSymbol(A||this.XMLsource)+"ids="+this._escape(B))};dhtmlXTreeObject.prototype.updateItem=function(H,E,D,C,B,G,A){var F=this._globalIdStorageFind(H);F.userData=new cObject();if(E)F.label=E;F.images=new Array(D||this.imageArray[0],C||this.imageArray[1],B||this.imageArray[2]);this.setItemText(H,E);if(G)this._setCheck(F,true);if(A=="1")F.XMLload=0;this._correctPlus(F);F._dmark=false;return F};dhtmlXTreeObject.prototype.setDropHandler=function(A){this.attachEvent("onDrop",A)};dhtmlXTreeObject.prototype.setOnLoadingStart=function(A){this.attachEvent("onXLS",A)};dhtmlXTreeObject.prototype.setOnLoadingEnd=function(A){this.attachEvent("onXLE",A)};dhtmlXTreeObject.prototype.setXMLAutoLoadingBehaviour=function(A){this.xmlalb=A};dhtmlXTreeObject.prototype.enableSmartCheckboxes=function(A){this.smcheck=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.getXMLState=function(){return(this.xmlstate==1)};dhtmlXTreeObject.prototype.setItemTopOffset=function(D,C){var B;if(typeof(D)!="object")B=this._globalIdStorageFind(D);else B=D;var E=B.span.parentNode.parentNode;B.span.style.paddingBottom="1px";for(var F=0;F<E.childNodes.length;F++){if(F!=0){if(_isIE){E.childNodes[F].style.height="18px";E.childNodes[F].style.paddingTop=parseInt(C)+"px"}else E.childNodes[F].style.height=18+parseInt(C)+"px"}else{var A=E.childNodes[F].firstChild;if(E.childNodes[F].firstChild.tagName!="DIV"){A=document.createElement("DIV");E.childNodes[F].insertBefore(A,E.childNodes[F].firstChild)}A.style.height=parseInt(C)+"px";if((B.parentObject.id!=this.rootId||B.parentObject.childNodes[0]!=B)&&this.treeLinesOn)A.style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";A.innerHTML="&nbsp;";A.style.overflow="hidden";if(parseInt(C)==0)E.childNodes[F].removeChild(A)}if(!_isIE)E.childNodes[F].style.verticalAlign="bottom";if(_isIE){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"}}};dhtmlXTreeObject.prototype.setIconSize=function(C,A,E){if(E){if((E)&&(E.span))var D=E;else D=this._globalIdStorageFind(E);if(!D)return(0);var B=D.span.parentNode.previousSibling.childNodes[0];if(C){B.style.width=C;if(window._KHTMLrv)B.parentNode.style.width=C}if(A){B.style.height=A;if(window._KHTMLrv)B.parentNode.style.height=A}}else{this.def_img_x=C;this.def_img_y=A}};dhtmlXTreeObject.prototype.getItemImage=function(E,B,D){var A=this._globalIdStorageFind(E);if(!A)return"";var C=A.images[B||0];if(D)C=this.iconURL+C;return C};dhtmlXTreeObject.prototype.enableRadioButtons=function(B,D){if(arguments.length==1){this._frbtr=convertStringToBoolean(B);this.checkBoxOff=this.checkBoxOff||this._frbtr;return}var A=this._globalIdStorageFind(B);if(!A)return"";D=convertStringToBoolean(D);if((D)&&(!A._r_logic)){A._r_logic=true;for(var C=0;C<A.childsCount;C++)this._setCheck(A.childNodes[C],A.childNodes[C].checkstate)}if((!D)&&(A._r_logic)){A._r_logic=false;for(C=0;C<A.childsCount;C++)this._setCheck(A.childNodes[C],A.childNodes[C].checkstate)}};dhtmlXTreeObject.prototype.enableSingleRadioMode=function(A){this._frbtrs=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.openOnItemAdded=function(A){this._hAdI=!convertStringToBoolean(A)};dhtmlXTreeObject.prototype.openOnItemAdding=function(A){this._hAdI=!convertStringToBoolean(A)};dhtmlXTreeObject.prototype.enableMultiLineItems=function(A){if(A===true)this.mlitems="100%";else this.mlitems=A};dhtmlXTreeObject.prototype.enableAutoTooltips=function(A){this.ettip=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.clearSelection=function(A){if(A)this._unselectItem(this._globalIdStorageFind(A));else this._unselectItems()};dhtmlXTreeObject.prototype.showItemSign=function(C,A){var B=this._globalIdStorageFind(C);if(!B)return 0;var D=B.span.parentNode.previousSibling.previousSibling.previousSibling;if(!convertStringToBoolean(A)){this._openItem(B);B.closeble=false;B.wsign=true}else{B.closeble=true;B.wsign=false}this._correctPlus(B)};dhtmlXTreeObject.prototype.showItemCheckbox=function(D,C){if(!D)for(var B in this._idpull)this.showItemCheckbox(this._idpull[B],C);if(typeof(D)!="object")D=this._globalIdStorageFind(D,0,0);if(!D)return 0;D.nocheckbox=!convertStringToBoolean(C);var A=D.span.parentNode.previousSibling.previousSibling.childNodes[0];A.style.display=(!D.nocheckbox)?"":"none";if(window._KHTMLrv)A.parentNode.style.display=(!D.nocheckbox)?"":"none"};dhtmlXTreeObject.prototype.setListDelimeter=function(A){this.dlmtr=A};dhtmlXTreeObject.prototype.setEscapingMode=function(A){this.utfesc=A};dhtmlXTreeObject.prototype.enableHighlighting=function(A){this.ehlt=true;this.ehlta=convertStringToBoolean(A)};dhtmlXTreeObject.prototype._itemMouseOut=function(){var A=this.childNodes[3].parentObject,B=A.treeNod;B.callEvent("onMouseOut",[A.id]);if(A.id==B._l_onMSI)B._l_onMSI=null;if(!B.ehlta)return;A.span.className=A.span.className.replace("_lor","")};dhtmlXTreeObject.prototype._itemMouseIn=function(){var A=this.childNodes[3].parentObject,B=A.treeNod;if(B._l_onMSI!=A.id)B.callEvent("onMouseIn",[A.id]);B._l_onMSI=A.id;if(!B.ehlta)return;A.span.className=A.span.className.replace("_lor","");A.span.className=A.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor")};dhtmlXTreeObject.prototype.enableActiveImages=function(A){this._aimgs=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.focusItem=function(B){var A=this._globalIdStorageFind(B);if(!A)return(0);this._focusNode(A)};dhtmlXTreeObject.prototype.getAllSubItems=function(A){return this._getAllSubItems(A)};dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless;dhtmlXTreeObject.prototype._getAllScraggyItems=function(A){var C="";for(var D=0;D<A.childsCount;D++)if((A.childNodes[D].unParsed)||(A.childNodes[D].childsCount>0)){if(A.childNodes[D].unParsed)var B=this._getAllScraggyItemsXML(A.childNodes[D].unParsed,1);else B=this._getAllScraggyItems(A.childNodes[D]);if(B)if(C)C+=this.dlmtr+B;else C=B}else if(!C)C=A.childNodes[D].id;else C+=this.dlmtr+A.childNodes[D].id;return C};dhtmlXTreeObject.prototype._getAllFatItems=function(A){var C="";for(var D=0;D<A.childsCount;D++)if((A.childNodes[D].unParsed)||(A.childNodes[D].childsCount>0)){if(!C)C=A.childNodes[D].id;else C+=this.dlmtr+A.childNodes[D].id;if(A.childNodes[D].unParsed)var B=this._getAllFatItemsXML(A.childNodes[D].unParsed,1);else B=this._getAllFatItems(A.childNodes[D]);if(B)C+=this.dlmtr+B}return C};dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids;dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)};dhtmlXTreeObject.prototype.getAllUnchecked=function(A){if(A)A=this._globalIdStorageFind(A);return this._getAllChecked(A,"",0)};dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)};dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var B=[this._getAllChecked("","",1)],A=this._getAllChecked("","",2);if(A)B.push(A);return B.join(this.dlmtr)};dhtmlXTreeObject.prototype._getAllChecked=function(A,B,E){if(!A)A=this.htmlNode;if(A.checkstate==E)if(!A.nocheckbox)if(B)B+=this.dlmtr+A.id;else B=A.id;var C=A.childsCount;for(var D=0;D<C;D++)B=this._getAllChecked(A.childNodes[D],B,E);if(A.unParsed)B=this._getAllCheckedXML(A.unParsed,B,E);if(B)return B;else return""};dhtmlXTreeObject.prototype.setItemStyle=function(D,A,C){var C=C||false,B=this._globalIdStorageFind(D);if(!B)return 0;if(!B.span.style.cssText)B.span.setAttribute("style",B.span.getAttribute("style")+";"+A);else B.span.style.cssText=C?A:B.span.style.cssText+";"+A};dhtmlXTreeObject.prototype.enableImageDrag=function(A){this._itim_dg=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.setOnDragIn=function(A){this.attachEvent("onDragIn",A)};dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(A){this.autoScroll=convertStringToBoolean(A)};dhtmlXTreeObject.prototype.setSkin=function(A){var B=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=B+" dhxtree_"+A;if(A=="dhx_terrace")this.enableTreeLines(false)};(function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(A){return[A.parent,(A.width||"100%"),(A.height||"100%"),(A.root_id||0)]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",xml:"loadXML",skin:"setSkin"},{})})();dhtmlXTreeObject.prototype._dp_init=function(A){A.attachEvent("insertCallback",function(E,A,D){var C=this._loader.doXPath(".//item",E),B=C[0].getAttribute("text");this.obj.insertNewItem(D,A,B,0,0,0,0,"CHILD")});A.attachEvent("updateCallback",function(E,A,D){var C=this._loader.doXPath(".//item",E),B=C[0].getAttribute("text");this.obj.setItemText(A,B);if(this.obj.getParentId(A)!=D)this.obj.moveItem(A,"item_child",D);this.setUpdated(A,true,"updated")});A.attachEvent("deleteCallback",function(C,A,B){this.obj.setUserData(A,this.action_param,"true_deleted");this.obj.deleteItem(A,false)});A._methods=["setItemStyle","","changeItemId","deleteItem"];this.attachEvent("onEdit",function(C,B){if(C==3)A.setUpdated(B,true);return true});this.attachEvent("onDrop",function(B,F,D,C,E){if(C==E)A.setUpdated(B,true)});this._onrdlh=function(B){var C=A.getState(B);if(C=="inserted"){A.set_invalid(B,false);A.setUpdated(B,false);return true}if(C=="true_deleted"){A.setUpdated(B,false);return true}A.setUpdated(B,true,"deleted");return false};this._onradh=function(B){A.setUpdated(B,true,"inserted")};A._getRowData=function(C){var A={},D=this.obj._globalIdStorageFind(C),B=D.parentObject,E=0;for(E=0;E<B.childsCount;E++)if(B.childNodes[E]==D)break;A["tr_id"]=D.id;A["tr_pid"]=B.id;A["tr_order"]=E;A["tr_text"]=D.span.innerHTML;B=(D._userdatalist||"").split(",");for(E=0;E<B.length;E++)A[B[E]]=D.userData["t_"+B[E]];return A}};dhtmlXTreeObject.prototype.parserExtension={_parseExtension:function(B,A,C){this._idpull[A.id]._attrs=A}};dhtmlXTreeObject.prototype.getAttribute=function(A,C){this._globalIdStorageFind(A);var B=this._idpull[A]._attrs;return B?B[C]:window.undefined};dhtmlXTreeObject.prototype.setAttribute=function(A,C,D){this._globalIdStorageFind(A);var B=(this._idpull[A]._attrs)||{};B[C]=D;this._idpull[A]._attrs=B};dhtmlXTreeObject.prototype.makeDraggable=function(B,A){if(typeof(B)!="object")B=document.getElementById(B);dragger=new dhtmlDragAndDropObject();dropper=new dhx_dragSomethingInTree();dragger.addDraggableItem(B,dropper);B.dragLanding=null;B.ondragstart=dropper._preventNsDrag;B.onselectstart=new Function("return false;");B.parentObject=new Object;B.parentObject.img=B;B.parentObject.treeNod=dropper;dropper._customDrop=A};dhtmlXTreeObject.prototype.makeDragable=dhtmlXTreeObject.prototype.makeDraggable;dhtmlXTreeObject.prototype.makeAllDraggable=function(A){var B=document.getElementsByTagName("div");for(var C=0;C<B.length;C++)if(B[C].getAttribute("dragInDhtmlXTree"))this.makeDragable(B[C],A)};function dhx_dragSomethingInTree(){this.lWin=window;this._createDragNode=function(B){var A=document.createElement("div");A.style.position="absolute";A.innerHTML=(B.innerHTML||B.value);A.className="dragSpanDiv";return A};this._preventNsDrag=function(A){(A||window.event).cancelBubble=true;if((A)&&(A.preventDefault)){A.preventDefault();return false}return false};this._nonTrivialNode=function(D,E,G,C){if(this._customDrop)return this._customDrop(D,C.img.id,E.id,G?G.id:null);var F=(C.img.getAttribute("image")||""),A=C.img.id||"new",B=(C.img.getAttribute("text")||(_isIE?C.img.innerText:C.img.textContent));D[G?"insertNewNext":"insertNewItem"](G?G.id:E.id,A,B,"",F,F,F)}}dhtmlXTreeObject.prototype.enableItemEditor=function(A){this._eItEd=convertStringToBoolean(A);if(!this._eItEdFlag){this._edn_click_IE=true;this._edn_dblclick=true;this._ie_aFunc=this.aFunc;this._ie_dblclickFuncHandler=this.dblclickFuncHandler;this.setOnDblClickHandler(function(B,A){if(this._edn_dblclick)this._editItem(B,A);return true});this.setOnClickHandler(function(B,A){this._stopEditItem(B,A);if((this.ed_hist_clcik==B)&&(this._edn_click_IE))this._editItem(B,A);this.ed_hist_clcik=B;return true});this._eItEdFlag=true}};dhtmlXTreeObject.prototype.setOnEditHandler=function(A){this.attachEvent("onEdit",A)};dhtmlXTreeObject.prototype.setEditStartAction=function(B,A){this._edn_click_IE=convertStringToBoolean(B);this._edn_dblclick=convertStringToBoolean(A)};dhtmlXTreeObject.prototype._stopEdit=function(C,F){if(this._editCell){this.dADTempOff=this.dADTempOffEd;if(this._editCell.id!=C){var B=true;if(!F)B=this.callEvent("onEdit",[2,this._editCell.id,this,this._editCell.span.childNodes[0].value]);else{B=false;this.callEvent("onEditCancel",[this._editCell.id,this._editCell._oldValue])}if(B===true)B=this._editCell.span.childNodes[0].value;else if(B===false)B=this._editCell._oldValue;var E=(B!=this._editCell._oldValue);this._editCell.span.innerHTML=B;this._editCell.label=this._editCell.span.innerHTML;var D=this._editCell.i_sel?"selectedTreeRow":"standartTreeRow";this._editCell.span.className=D;this._editCell.span.parentNode.className="standartTreeRow";this._editCell.span.style.paddingRight=this._editCell.span.style.paddingLeft="5px";this._editCell.span.onclick=this._editCell.span.ondblclick=function(){};var A=this._editCell.id;if(this.childCalc)this._fixChildCountLabel(this._editCell);this._editCell=null;if(!F)this.callEvent("onEdit",[3,A,this,E]);if(this._enblkbrd){this.parentObject.lastChild.focus();this.parentObject.lastChild.focus()}}}};dhtmlXTreeObject.prototype._stopEditItem=function(A,B){this._stopEdit(A)};dhtmlXTreeObject.prototype.stopEdit=function(A){if(this._editCell)this._stopEdit(this._editCell.id+"_non",A)};dhtmlXTreeObject.prototype.editItem=function(A){this._editItem(A,this)};dhtmlXTreeObject.prototype._editItem=function(A,B){if(this._eItEd){this._stopEdit();var C=this._globalIdStorageFind(A);if(!C)return;editText=this.callEvent("onEdit",[0,A,this,C.span.innerHTML]);if(editText===true)editText=(C.span.innerText||C.span.textContent);else if(editText===false)return;this.dADTempOffEd=this.dADTempOff;this.dADTempOff=false;this._editCell=C;C._oldValue=editText;C.span.innerHTML="<input type='text' class='intreeeditRow' />";C.span.style.paddingRight=C.span.style.paddingLeft="0px";C.span.onclick=C.span.ondblclick=function(A){(A||event).cancelBubble=true};C.span.childNodes[0].value=editText;C.span.childNodes[0].onselectstart=function(A){(A||event).cancelBubble=true;return true};C.span.childNodes[0].onmousedown=function(A){(A||event).cancelBubble=true;return true};C.span.childNodes[0].focus();C.span.childNodes[0].focus();C.span.onclick=function(A){(A||event).cancelBubble=true;return false};C.span.className="";C.span.parentNode.className="";var D=this;C.span.childNodes[0].onkeydown=function(A){if(!A)A=window.event;if(A.keyCode==13){A.cancelBubble=true;D._stopEdit(window.undefined)}else if(A.keyCode==27){D._editCell.span.childNodes[0].value=D._editCell._oldValue;D._stopEdit(window.undefined)}(A||event).cancelBubble=true};this.callEvent("onEdit",[1,A,this])}};function jsonPointer(A,B){this.d=A;this.dp=B}jsonPointer.prototype={text:function(){var A=function(C){var A=[];for(var D=0;D<C.length;D++)A.push("{"+B(C[D])+"}");return A.join(",")},B=function(E){var D=[];for(var C in E)if(typeof(E[C])=="object"){if(C.length)D.push("\""+C+"\":["+A(E[C])+"]");else D.push("\""+C+"\":{"+B(E[C])+"}")}else D.push("\""+C+"\":\""+E[C]+"\"");return D.join(",")};return"{"+B(this.d)+"}"},get:function(A){return this.d[A]},exists:function(){return!!this.d},content:function(){return this.d.content},each:function(E,A,B){var D=this.d[E],C=new jsonPointer();if(D)for(var F=0;F<D.length;F++){C.d=D[F];A.apply(B,[C,F])}},get_all:function(){return this.d},sub:function(A){return new jsonPointer(this.d[A],this.d)},sub_exists:function(A){return!!this.d[A]},each_x:function(F,E,A,B,G){var D=this.d[F],C=new jsonPointer(0,this.d);if(D)for(G=G||0;G<D.length;G++)if(D[G][E]){C.d=D[G];if(A.apply(B,[C,G])==-1)return}},up:function(A){return new jsonPointer(this.dp,this.d)},set:function(B,A){this.d[B]=A},clone:function(A){return new jsonPointer(this.d,this.dp)},through:function(H,G,C,B,D){var F=this.d[H];if(F.length)for(var I=0;I<F.length;I++){if(F[I][G]!=null&&F[I][G]!=""&&(!C||F[I][G]==C)){var E=new jsonPointer(F[I],this.d);B.apply(D,[E,I])}var A=this.d;this.d=F[I];if(this.sub_exists(H))this.through(H,G,C,B,D);this.d=A}}};dhtmlXTreeObject.prototype.loadJSArrayFile=function(file,afterCall){if(!this.parsCount)this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var that=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){eval("var z="+arguments[4].xmlDoc.responseText);that.loadJSArray(z)},this,true,this.no_cashe);if(afterCall)this.XMLLoader.waitCall=afterCall;this.XMLLoader.loadXML(file)};dhtmlXTreeObject.prototype.loadCSV=function(C,B){if(!this.parsCount)this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var A=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){A.loadCSVString(arguments[4].xmlDoc.responseText)},this,true,this.no_cashe);if(B)this.XMLLoader.waitCall=B;this.XMLLoader.loadXML(C)};dhtmlXTreeObject.prototype.loadJSArray=function(C,B){var D=[];for(var F=0;F<C.length;F++){if(!D[C[F][1]])D[C[F][1]]=[];D[C[F][1]].push({id:C[F][0],text:C[F][2]})}var E={id:this.rootId},A=function(C,A){if(D[C.id]){C.item=D[C.id];for(var B=0;B<C.item.length;B++)A(C.item[B],A)}};A(E,A);this.loadJSONObject(E,B)};dhtmlXTreeObject.prototype.loadCSVString=function(E,C){var F=[],D=E.split("\n");for(var H=0;H<D.length;H++){var B=D[H].split(",");if(!F[B[1]])F[B[1]]=[];F[B[1]].push({id:B[0],text:B[2]})}var G={id:this.rootId},A=function(C,A){if(F[C.id]){C.item=F[C.id];for(var B=0;B<C.item.length;B++)A(C.item[B],A)}};A(G,A);this.loadJSONObject(G,C)};dhtmlXTreeObject.prototype.loadJSONObject=function(A,B){if(!this.parsCount)this.callEvent("onXLS",[this,null]);this.xmlstate=1;var C=new jsonPointer(A);this._parse(C);this._p=C;if(B)B()};dhtmlXTreeObject.prototype.loadJSON=function(file,afterCall){if(!this.parsCount)this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var that=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){try{eval("var t="+arguments[4].xmlDoc.responseText)}catch(e){dhtmlxError.throwError("LoadXML","Incorrect JSON",[(arguments[4].xmlDoc),this]);return}var p=new jsonPointer(t);that._parse(p);that._p=p},this,true,this.no_cashe);if(afterCall)this.XMLLoader.waitCall=afterCall;this.XMLLoader.loadXML(file)};dhtmlXTreeObject.prototype.serializeTreeToJSON=function(){var C=["{\"id\":\""+this.rootId+"\", \"item\":["],A=[];for(var B=0;B<this.htmlNode.childsCount;B++)A.push(this._serializeItemJSON(this.htmlNode.childNodes[B]));C.push(A.join(","));C.push("]}");return C.join("")};dhtmlXTreeObject.prototype._serializeItemJSON=function(B){var G=[];if(B.unParsed)return(B.unParsed.text());if(this._selected.length)var A=this._selected[0].id;else A="";var C=B.span.innerHTML;C=C.replace(/\"/g,"\\\"",C);if(!this._xfullXML)G.push("{\"id\":\""+B.id+"\", "+(this._getOpenState(B)==1?" \"open\":\"1\", ":"")+(A==B.id?" \"select\":\"1\",":"")+" \"text\":\""+C+"\""+(((this.XMLsource)&&(B.XMLload==0))?", \"child\":\"1\" ":""));else G.push("{\"id\":\""+B.id+"\", "+(this._getOpenState(B)==1?" \"open\":\"1\", ":"")+(A==B.id?" \"select\":\"1\",":"")+" \"text\":\""+C+"\", \"im0\":\""+B.images[0]+"\", \"im1\":\""+B.images[1]+"\", \"im2\":\""+B.images[2]+"\" "+(B.acolor?(", \"aCol\":\""+B.acolor+"\" "):"")+(B.scolor?(", \"sCol\":\""+B.scolor+"\" "):"")+(B.checkstate==1?", \"checked\":\"1\" ":(B.checkstate==2?", \"checked\":\"-1\"":""))+(B.closeable?", \"closeable\":\"1\" ":"")+(((this.XMLsource)&&(B.XMLload==0))?", \"child\":\"1\" ":""));if((this._xuserData)&&(B._userdatalist)){G.push(", \"userdata\":[");var D=B._userdatalist.split(","),E=[];for(var F=0;F<D.length;F++)E.push("{\"name\":\""+D[F]+"\" , \"content\":\""+B.userData["t_"+D[F]]+"\" }");G.push(E.join(","));G.push("]")}if(B.childsCount){G.push(", \"item\":[");E=[];for(F=0;F<B.childsCount;F++)E.push(this._serializeItemJSON(B.childNodes[F]));G.push(E.join(","));G.push("]\n")}G.push("}\n");return G.join("")};dhtmlXTreeObject.prototype.enableKeyboardNavigation=function(C){this._enblkbrd=convertStringToBoolean(C);if(this._enblkbrd){if(_isFF){var B=window.getComputedStyle(this.parentObject,null)["position"];if((B!="absolute")&&(B!="relative"))this.parentObject.style.position="relative"}this._navKeys=[["up",38],["down",40],["open",39],["close",37],["call",13],["edit",113]];var A=this,B=document.createElement("INPUT");B.className="a_dhx_hidden_input";B.autocomplete="off";if(window._KHTMLrv)B.style.color="white";this.parentObject.appendChild(B);this.parentObject[_isOpera?"onkeypress":"onkeydown"]=function(B){if(A.callEvent("onKeyPress",[(B||window.event).keyCode,(B||window.event)]))return A._onKeyDown(B||window.event)};this.parentObject.onclick=function(A){if(_isFF||_isIE)B.select();if(window._KHTMLrv||_isOpera)B.focus()}}else this.parentObject.onkeydown=null};dhtmlXTreeObject.prototype._onKeyDown=function(A){if(window.globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject.isActive)return true;var B=this;for(var C=0;C<this._navKeys.length;C++)if(this._navKeys[C][1]==A.keyCode){this["_onkey_"+this._navKeys[C][0]].apply(this,[this.getSelectedItemId()]);if(A.preventDefault)A.preventDefault();(A||event).cancelBubble=true;return false}if(this._textSearch)return this._searchItemByKey(A);return true};dhtmlXTreeObject.prototype._onkey_up=function(A){var C=this._globalIdStorageFind(A);if(!C)return;var B=this._getPrevVisibleNode(C);if(B.id==this.rootId)return;this.focusItem(B.id);this.selectItem(B.id,false)};dhtmlXTreeObject.prototype._onkey_down=function(A){var C=this._globalIdStorageFind(A);if(!C)return;var B=this._getNextVisibleNode(C);if(B.id==this.rootId)return;this.focusItem(B.id);this.selectItem(B.id,false)};dhtmlXTreeObject.prototype._onkey_open=function(A){this.openItem(A)};dhtmlXTreeObject.prototype._onkey_close=function(A){this.closeItem(A)};dhtmlXTreeObject.prototype._onkey_call=function(A){if(this.stopEdit){this.stopEdit();this.parentObject.lastChild.focus();this.parentObject.lastChild.focus();this.selectItem(A,true)}else this.selectItem(this.getSelectedItemId(),true)};dhtmlXTreeObject.prototype._onkey_edit=function(A){if(this.editItem)this.editItem(A)};dhtmlXTreeObject.prototype._getNextVisibleNode=function(A,B){if((!B)&&(this._getOpenState(A)>0))return A.childNodes[0];if((A.tr)&&(A.tr.nextSibling)&&(A.tr.nextSibling.nodem))return A.tr.nextSibling.nodem;if(A.parentObject)return this._getNextVisibleNode(A.parentObject,1);return A};dhtmlXTreeObject.prototype._getPrevVisibleNode=function(A){if((A.tr)&&(A.tr.previousSibling)&&(A.tr.previousSibling.nodem))return this._lastVisibleChild(A.tr.previousSibling.nodem);if(A.parentObject)return A.parentObject;else return A};dhtmlXTreeObject.prototype._lastVisibleChild=function(A){if(this._getOpenState(A)>0)return this._lastVisibleChild(A.childNodes[A.childsCount-1]);else return A};dhtmlXTreeObject.prototype._searchItemByKey=function(A){if(A.keyCode==8){this._textSearchString="";return true}var B=String.fromCharCode(A.keyCode).toUpperCase();if(B.match(/[A-Z,a-z,0-9\ ]/)){this._textSearchString+=B;this._textSearchInProgress=true;if(!(this.getSelectedItemText()||"").match(RegExp("^"+this._textSearchString,"i")))this.findItem("^"+this._textSearchString,0);this._textSearchInProgress=false;if(A.preventDefault)A.preventDefault();(A||event).cancelBubble=true;return false}return true};dhtmlXTreeObject.prototype.assignKeys=function(A){this._navKeys=A};dhtmlXTreeObject.prototype.enableKeySearch=function(B){this._textSearch=convertStringToBoolean(B);if(!this._textSearch)return;this._textSearchString="";var A=this;this._markItem2=this._markItem;this._markItem=function(B){if(!A._textSearchInProgress)A._textSearchString="";A._markItem2(B)}};dhtmlXTreeObject.prototype.enableLoadingItem=function(A){this.attachEvent("onXLS",this._showFakeItem);this.attachEvent("onXLE",this._hideFakeItem);this._tfi_text=A||"Loading..."};dhtmlXTreeObject.prototype._showFakeItem=function(B,A){if((A===null)||(this._globalIdStorageFind("fake_load_xml_"+A)))return;var C=this.XMLsource;this.XMLsource=null;this.insertNewItem(A,"fake_load_xml_"+A,this._tfi_text);this.XMLsource=C};dhtmlXTreeObject.prototype._hideFakeItem=function(B,A){if(A===null)return;this.deleteItem("fake_load_xml_"+A)};dhtmlXTreeObject.prototype.isLocked=function(A){if(!this._locker)this._init_lock();return(this._locker[A]==true)};dhtmlXTreeObject.prototype._lockItem=function(E,B,C){if(!this._locker)this._init_lock();if(B){if(this._locker[E.id]==true)return;this._locker[E.id]=true;E.bIm0=E.images[0];E.bIm1=E.images[1];E.bIm2=E.images[2];E.images[0]=this.lico0;E.images[1]=this.lico1;E.images[2]=this.lico2;var A=E.span.parentNode,D=A.previousSibling;this.dragger.removeDraggableItem(A);this.dragger.removeDraggableItem(D)}else{if(this._locker[E.id]!=true)return;this._locker[E.id]=false;E.images[0]=E.bIm0;E.images[1]=E.bIm1;E.images[2]=E.bIm2;A=E.span.parentNode,D=A.previousSibling;this.dragger.addDraggableItem(A,this);this.dragger.addDraggableItem(D,this)}if(!C)this._correctPlus(E)};dhtmlXTreeObject.prototype.lockItem=function(C,A){if(!this._locker)this._init_lock();this._lockOn=false;var B=this._globalIdStorageFind(C);this._lockOn=true;this._lockItem(B,convertStringToBoolean(A))};dhtmlXTreeObject.prototype.setLockedIcons=function(C,B,A){if(!this._locker)this._init_lock();this.lico0=C;this.lico1=B;this.lico2=A};dhtmlXTreeObject.prototype._init_lock=function(){this._locker=new Array();this._locker_count="0";this._lockOn=true;this._globalIdStorageFindA=this._globalIdStorageFind;this._globalIdStorageFind=this._lockIdFind;if(this._serializeItem){this._serializeItemA=this._serializeItem;this._serializeItem=this._serializeLockItem;this._serializeTreeA=this.serializeTree;this.serializeTree=this._serializeLockTree}this.setLockedIcons(this.imageArray[0],this.imageArray[1],this.imageArray[2])};dhtmlXTreeObject.prototype._lockIdFind=function(C,B,A){if(!this.skipLock)if((!A)&&(this._lockOn==true)&&(this._locker[C]==true))return null;return this._globalIdStorageFindA(C,B,A)};dhtmlXTreeObject.prototype._serializeLockItem=function(A){if(this._locker[A.id]==true)return"";return this._serializeItemA(A)};dhtmlXTreeObject.prototype._serializeLockTree=function(){var A=this._serializeTreeA();return A.replace(/<item[^>]+locked\=\"1\"[^>]+\/>/g,"")};dhtmlXTreeObject.prototype._moveNodeToA=dhtmlXTreeObject.prototype._moveNodeTo;dhtmlXTreeObject.prototype._moveNodeTo=function(C,A,B){if((A.treeNod.isLocked)&&(A.treeNod.isLocked(A.id)))return false;return this._moveNodeToA(C,A,B)};dhtmlXTreeObject.prototype.lockTree=function(A){if(convertStringToBoolean(A))this._initTreeLocker();else if(this._TreeLocker){this._TreeLocker.parentNode.removeChild(this._TreeLocker);this._TreeLocker=null}};dhtmlXTreeObject.prototype._initTreeLocker=function(B){if(this._TreeLocker)return;this.parentObject.style.overflow="hidden";if(this.parentObject.style.position!="absolute")this.parentObject.style.position="relative";var A=document.createElement("div");A.style.position="absolute";A.style.left="0px";A.style.top="0px";A.className="dhx_tree_opacity";A.style.width=this.allTree.offsetWidth+"px";A.style.backgroundColor="#FFFFFF";A.style.height=this.allTree.offsetHeight+"px";this._TreeLocker=A;this.parentObject.appendChild(this._TreeLocker)};dhtmlXTreeObject.prototype.enableRTL=function(B){var A=convertStringToBoolean(B);if(((A)&&(!this.rtlMode))||((!A)&&(this.rtlMode))){this.rtlMode=A;this._switchToRTL(this.rtlMode)}};dhtmlXTreeObject.prototype._switchToRTL=function(A){if(A){this.allTree.className=this._ltr_line=this.lineArray;this._ltr_min=this.minusArray;this._ltr_plus=this.plusArray;this.lineArray=new Array("line2_rtl.gif","line3_rtl.gif","line4_rtl.gif","blank.gif","blank.gif","line1_rtl.gif");this.minusArray=new Array("minus2_rtl.gif","minus3_rtl.gif","minus4_rtl.gif","minus.gif","minus5_rtl.gif");this.plusArray=new Array("plus2_rtl.gif","plus3_rtl.gif","plus4_rtl.gif","plus.gif","plus5_rtl.gif");this.allTree.className="containerTableStyleRTL"}else{this.allTree.className="containerTableStyle";this.lineArray=this._ltr_line;this.minusArray=this._ltr_min;this.plusArray=this._ltr_plus}if(this.htmlNode.childsCount)this._redrawFrom(this,this.htmlNode)};dhtmlXTreeObject.prototype.sortTree=function(A,B,C){var D=this._globalIdStorageFind(A);if(!D)return false;this._reorderBranch(D,(B.toString().toLowerCase()=="asc"),convertStringToBoolean(C))};dhtmlXTreeObject.prototype.setCustomSortFunction=function(A){this._csfunca=A};dhtmlXTreeObject.prototype._reorderBranch=function(A,C,D){var G=[],B=A.childsCount;if(!B)return;var E=A.childNodes[0].tr.parentNode;for(var H=0;H<B;H++){G[H]=A.childNodes[H];E.removeChild(G[H].tr)}var F=this;if(C==1){if(this._csfunca)G.sort(function(B,A){return F._csfunca(B.id,A.id)});else G.sort(function(B,A){return((B.span.innerHTML.toUpperCase()>A.span.innerHTML.toUpperCase())?1:((B.span.innerHTML.toUpperCase()==A.span.innerHTML.toUpperCase())?0:-1))})}else if(this._csfunca)G.sort(function(B,A){return F._csfunca(A.id,B.id)});else G.sort(function(B,A){return((B.span.innerHTML.toUpperCase()<A.span.innerHTML.toUpperCase())?1:((B.span.innerHTML.toUpperCase()==A.span.innerHTML.toUpperCase())?0:-1))});for(H=0;H<B;H++){E.appendChild(G[H].tr);A.childNodes[H]=G[H];if((D)&&(G[H].unParsed))G[H].unParsed.set("order",C?1:-1);else if((D)&&(G[H].childsCount))this._reorderBranch(G[H],C,D)}for(H=0;H<B;H++){this._correctPlus(G[H]);this._correctLine(G[H])}};dhtmlXTreeObject.prototype._reorderXMLBranch=function(A){var D=A.getAttribute("order");if(D=="none")return;var C=(D==1),B=A.childNodes.length;if(!B)return;var E=new Array(),F=0;for(var G=0;G<B;G++)if(A.childNodes[G].nodeType==1){E[F]=A.childNodes[G];F++}for(G=B-1;G!=0;G--)A.removeChild(A.childNodes[G]);if(C)E.sort(function(B,A){return((B.getAttribute("text")>A.getAttribute("text"))?1:((B.getAttribute("text")==A.getAttribute("text"))?0:-1))});else E.sort(function(B,A){return((B.getAttribute("text")<A.getAttribute("text"))?1:((B.getAttribute("text")==A.getAttribute("text"))?0:-1))});for(G=0;G<F;G++){E[G].setAttribute("order",D);A.appendChild(E[G])}A.setAttribute("order","none")};dhtmlXTreeObject.prototype.enableSmartRendering=function(){this.enableSmartXMLParsing(true);this._srnd=true;this.itemHeight=18;var A=this;this.allTree.onscroll=function(){if(A._srndT)return;A._srndT=window.setTimeout(function(){A._srndT=null;A._renderState()},300)};this.attachEvent("onXLE",function(){A._renderState()});this._singleTimeSRND()};dhtmlXTreeObject.prototype._renderState=function(){if(!this._idpull[this.rootId]._sready)this.prepareSR(this.rootId,true);var C=this.allTree.scrollTop,B=Math.floor(C/this.itemHeight),A=Math.ceil(this.allTree.offsetHeight/this.itemHeight);this._group_render=true;this._getItemByPos(C,this.itemHeight,A,null,false,this._renderItemSRND);this._group_render=false};dhtmlXTreeObject.prototype._renderItemSRND=function(D,B){if(!D.span){D.span=-1;var F=D.parentObject.htmlNode.childNodes[0].childNodes,A=B*this.itemHeight,J=null;for(var I=1;I<F.length;I++){J=F[I];var H=J.nodem?this.itemHeight:(J.offsetHeight||parseInt(J.childNodes[1].firstChild.style.height));A-=H;if(A<0){if(A==-1){A++;continue}var G=J.childNodes[1].firstChild;G.style.height=(parseInt(G.style.height)-(H-Math.abs(A)+this.itemHeight))+"px";if(Math.abs(A)!=H){var C=this._drawNewHolder(A+H,true);J.parentNode.insertBefore(C,J)}J.tr={nextSibling:J};break}}if(G&&G.style.height!="0px"&&!J.offsetHeight){var E=this._hAdI;this._hAdI=true}this._parseItem(D._sxml,D.parentObject,null,J);if(G&&G.style.height!="0px"&&!J.offsetHeight)this._hAdI=E;if(D.unParsed)this._correctPlus(D);if(G&&G.style.height=="0px")J.parentNode.removeChild(J)}};dhtmlXTreeObject.prototype._buildSRND=function(B,A){if(B.parentObject)this._globalIdStorageFind(B.parentObject.id);if(!this._idpull[this.rootId]._sready)this.prepareSR(this.rootId,true);this._renderItemSRND(B,this._getIndex(B));if((B.unParsed)&&(!A))this.reParse(B,0);if(!B.prepareSR)this.prepareSR(B.id)};dhtmlXTreeObject.prototype._getIndex=function(B){for(var A=0;A<B.parentObject.childsCount;A++)if(B.parentObject.childNodes[A]==B)return A};dhtmlXTreeObject.prototype.prepareSR=function(A,C){A=this._idpull[A];if(A._sready)return;var B=this._drawNewHolder(this.itemHeight*A.childsCount,C);A.htmlNode.childNodes[0].appendChild(B);A._sready=true};dhtmlXTreeObject.prototype._drawNewHolder=function(C,F){var A=document.createElement("TR"),B=document.createElement("TD"),D=document.createElement("TD"),E=document.createElement("DIV");E.innerHTML="&nbsp;";B.appendChild(E);A.appendChild(D);A.appendChild(B);if(!F)A.style.display="none";E.style.height=C+"px";return A};dhtmlXTreeObject.prototype._getNextNodeSR=function(A,B){if((!B)&&(A.childsCount))return A.childNodes[0];if(A==this.htmlNode)return-1;if((A.tr)&&(A.tr.nextSibling)&&(A.tr.nextSibling.nodem))return A.tr.nextSibling.nodem;return this._getNextNode(A.parentObject,true)};dhtmlXTreeObject.prototype._getItemByPos=function(G,E,B,F,C,A){if(!F){this._pos_c=G;F=this._idpull[this.rootId]}for(var D=0;D<F.childsCount;D++){this._pos_c-=E;if(this._pos_c<=0)C=true;if(C){A.apply(this,[F.childNodes[D],D]);B--}if(B<0)return B;if(F.childNodes[D]._open){B=this._getItemByPos(null,E,B,F.childNodes[D],C,A);if(B<0)return B}}return B};dhtmlXTreeObject.prototype._addItemSRND=function(E,A,C){var D=this._idpull[E],B=D.childsCount,F=D.childNodes;F[B]=new dhtmlXTreeItemObject(A,"",D,this,null,1);itemId=F[B].id;F[B]._sxml=C.clone();D.childsCount++};dhtmlXTreeObject.prototype._singleTimeSRND=function(){this._redrawFrom=function(){};var A=dhtmlXTreeItemObject;this._singleTimeSRND=function(){};window.dhtmlXTreeItemObject=function(D,C,B,G,E,F){if(!G._srnd)return A.call(this,D,C,B,G,E,F);this.htmlNode="";this.acolor="";this.scolor="";this.tr=0;this.childsCount=0;this.tempDOMM=0;this.tempDOMU=0;this.dragSpan=0;this.dragMove=0;this.span=0;this.closeble=1;this.childNodes=new Array();this.userData=new cObject();this.checkstate=0;this.treeNod=G;this.label=C;this.parentObject=B;this.actionHandler=E;this.images=new Array(G.imageArray[0],G.imageArray[1],G.imageArray[2]);this.id=G._globalIdStorageAdd(D,this);if(D==G.rootId){if(this.treeNod.checkBoxOff)this.htmlNode=this.treeNod._createItem(1,this,F);else this.htmlNode=this.treeNod._createItem(0,this,F);this.htmlNode.objBelong=this}return this};this.setCheckSR=this.setCheck;this.setCheck=function(B,A){this._globalIdStorageFind(B);return this.setCheckSR(B,A)};this._get_srnd_p=function(A){var B=[];while(A!=this.rootId){var C=this.getParentId(A);for(var D=0;D<this._idpull[C].childsCount;D++)if(this._idpull[C].childNodes[D].id==A){B.push([C,D]);break}A=C}B.reverse();return B};this._get_srnd_p_last=function(A,B,C){B=B||[];var E=0;while(true){var D=this._idpull[A];if(D._sxml&&this.findStrInXML(D._sxml.d,"text",C))this._globalIdStorageFind(D.id);E=D.childsCount;if(!E)break;B.push([A,E-1]);A=D.childNodes[E-1].id}return B};this._get_prev_srnd=function(B,D){var A;if(!B.length){B.push.apply(B,this._get_srnd_p_last(this.rootId,null,D));A=B[B.length-1];return this._idpull[A[0]].childNodes[A[1]]}A=B[B.length-1];if(A[1]){A[1]--;var C=this._idpull[A[0]].childNodes[A[1]];this._get_srnd_p_last(C.id,B,D);A=B[B.length-1];return this._idpull[A[0]].childNodes[A[1]]}else{B.pop();if(!B.length)return this._get_prev_srnd(B,D);A=B[B.length-1];return this._idpull[A[0]].childNodes[A[1]]}};this._get_next_srnd=function(B,D){if(!B.length){B.push([this.rootId,0]);return this._idpull[this.rootId].childNodes[0]}var A=B[B.length-1],C=this._idpull[A[0]].childNodes[A[1]];if(C.childsCount&&!D){B.push([C.id,0]);return C.childNodes[0]}A[1]++;C=this._idpull[A[0]].childNodes[A[1]];if(C)return C;B.pop();if(!B.length)return this.htmlNode;return this._get_next_srnd(B,true)};this._findNodeByLabel=function(E,A,C){var E=E.replace(new RegExp("^( )+"),"").replace(new RegExp("( )+$"),"");E=new RegExp(E.replace(/([\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi");if(!C){C=this._selected[0];if(!C)C=this.htmlNode}var D=C,B=this._get_srnd_p(D.id);while(C=(A?this._get_prev_srnd(B,E):this._get_next_srnd(B))){if(C.label){if(C.label.search(E)!=-1)return C}else if(C._sxml){if(C._sxml.get("text").search(E)!=-1)return C;if(this.findStrInXML(C._sxml.d,"text",E))this._globalIdStorageFind(C.id)}if((C.unParsed)&&(this.findStrInXML(C.unParsed.d,"text",E)))this.reParse(C);if(D.id==C.id)break;if(A&&B.length==1&&B[0][1]==0)break}return null};this.deleteChildItems=function(A){if(this.rootId==A){this._selected=new Array();this._idpull={};this._p=this._pos_c=this._pullSize=null;this.allTree.removeChild(this.htmlNode.htmlNode);this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree.insertBefore(this.htmlNode.htmlNode,this.selectionBar);if(_isFF){this.allTree.childNodes[0].width="100%";this.allTree.childNodes[0].style.overflow="hidden"}}};this._HideShow=function(F,E){if((this.XMLsource)&&(!F.XMLload)){if(E==1)return;F.XMLload=1;this._loadDynXML(F.id);return}if(!F.span)this._buildSRND(F);if(F.unParsed){this.reParse(F);this.prepareSR(F.id)}if(F.childsCount==0)return;var C=F.htmlNode.childNodes[0].childNodes,A=C.length;if(A>1){if(((C[1].style.display!="none")||(E==1))&&(E!=2)){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";var B="none";F._open=false}else{B="";F._open=true}for(var D=1;D<A;D++)C[D].style.display=B;this._renderState()}this._correctPlus(F)}};function dhtmlXTreeFromHTML(obj){if(typeof(obj)!="object")obj=document.getElementById(obj);var n=obj,id=n.id,cont="";for(var j=0;j<obj.childNodes.length;j++)if(obj.childNodes[j].nodeType=="1"){if(obj.childNodes[j].tagName=="XMP"){var cHead=obj.childNodes[j];for(var m=0;m<cHead.childNodes.length;m++)cont+=cHead.childNodes[m].data}else if(obj.childNodes[j].tagName.toLowerCase()=="ul")cont=dhx_li2trees(obj.childNodes[j],new Array(),0);break}obj.innerHTML="";var t=new dhtmlXTreeObject(obj,"100%","100%",0),z_all=new Array();for(b in t)z_all[b.toLowerCase()]=b;var atr=obj.attributes;for(var a=0;a<atr.length;a++)if((atr[a].name.indexOf("set")==0)||(atr[a].name.indexOf("enable")==0)){var an=atr[a].name;if(!t[an])an=z_all[atr[a].name];t[an].apply(t,atr[a].value.split(","))}if(typeof(cont)=="object"){t.XMLloadingWarning=1;for(var i=0;i<cont.length;i++){n=t.insertNewItem(cont[i][0],cont[i][3],cont[i][1]);if(cont[i][2])t._setCheck(n,cont[i][2])}t.XMLloadingWarning=0;t.lastLoadedXMLId=0;t._redrawFrom(t)}else t.loadXMLString("<tree id='0'>"+cont+"</tree>");window[id]=t;var oninit=obj.getAttribute("oninit");if(oninit)eval(oninit);return t}function dhx_init_trees(){var A=document.getElementsByTagName("div");for(var B=0;B<A.length;B++)if(A[B].className=="dhtmlxTree")dhtmlXTreeFromHTML(A[B])}function dhx_li2trees(F,G,E){for(var J=0;J<F.childNodes.length;J++){var I=F.childNodes[J];if((I.nodeType==1)&&(I.tagName.toLowerCase()=="li")){var D="",A=null,B=I.getAttribute("checked");for(var H=0;H<I.childNodes.length;H++){var C=I.childNodes[H];if(C.nodeType==3)D+=C.data;else if(C.tagName.toLowerCase()!="ul")D+=dhx_outer_html(C);else A=C}G[G.length]=[E,D,B,(I.id||(G.length+1))];if(A)G=dhx_li2trees(A,G,(I.id||G.length))}}return G}function dhx_outer_html(A){if(A.outerHTML)return A.outerHTML;var B=document.createElement("DIV");B.appendChild(A.cloneNode(true));B=B.innerHTML;return B}if(window.addEventListener)window.addEventListener("load",dhx_init_trees,false);else if(window.attachEvent)window.attachEvent("onload",dhx_init_trees);dhtmlXTreeObject.prototype._serEnts=[["&","&amp;"],["<","&lt;"],[">","&gt;"]];dhtmlXTreeObject.prototype.registerXMLEntity=function(A,B){this._serEnts[this._serEnts.length]=[A,B,new RegExp(A,"g")]};dhtmlXTreeObject.prototype.setSerializationLevel=function(D,B,C,A,E){this._xuserData=convertStringToBoolean(D);this._xfullXML=convertStringToBoolean(B);this._dtd=E;this._xescapeEntities=convertStringToBoolean(C);if(convertStringToBoolean(A)){this._apreUC="<![CDATA[";this._apstUC="]]>"}for(var F=0;F<this._serEnts.length;F++)this._serEnts[F][2]=new RegExp(this._serEnts[F][0],"g")};dhtmlXTreeObject.prototype.serializeTree=function(){if(this.stopEdit)this.stopEdit();this._apreUC=this._apreUC||"";this._apstUC=this._apstUC||"";var C="<?xml version=\"1.0\"?>";if(this._dtd)C+="<!DOCTYPE tree SYSTEM \""+this._dtd+"\">";C+="<tree id=\""+this.rootId+"\">";if((this._xuserData)&&(this._idpull[this.rootId]._userdatalist)){var A=this._idpull[this.rootId]._userdatalist.split(",");for(var B=0;B<A.length;B++)C+="<userdata name=\""+A[B]+"\">"+this._apreUC+this._idpull[this.rootId].userData["t_"+A[B]]+this._apstUC+"</userdata>"}for(B=0;B<this.htmlNode.childsCount;B++)C+=this._serializeItem(this.htmlNode.childNodes[B]);C+="</tree>";return C};dhtmlXTreeObject.prototype._serializeItem=function(B){if(B.unParsed)if(document.all)return B.unParsed.d.xml;else{var D=new XMLSerializer();return D.serializeToString(B.unParsed.d)}var G="";if(this._selected.length)var A=this._selected[0].id;else A="\"";var C=B.span.innerHTML;if(this._xescapeEntities)for(var F=0;F<this._serEnts.length;F++)C=C.replace(this._serEnts[F][2],this._serEnts[F][1]);if(!this._xfullXML)G="<item id=\""+B.id+"\" "+(this._getOpenState(B)==1?" open=\"1\" ":"")+(A==B.id?" select=\"1\"":"")+" text=\""+C+"\""+(((this.XMLsource)&&(B.XMLload==0))?" child=\"1\" ":"")+">";else G="<item id=\""+B.id+"\" "+(this._getOpenState(B)==1?" open=\"1\" ":"")+(A==B.id?" select=\"1\"":"")+" text=\""+C+"\" im0=\""+B.images[0]+"\" im1=\""+B.images[1]+"\" im2=\""+B.images[2]+"\" "+(B.acolor?("aCol=\""+B.acolor+"\" "):"")+(B.scolor?("sCol=\""+B.scolor+"\" "):"")+(B.checkstate==1?"checked=\"1\" ":(B.checkstate==2?"checked=\"-1\"":""))+(B.closeable?"closeable=\"1\" ":"")+(((this.XMLsource)&&(B.XMLload==0))?" child=\"1\" ":"")+">";if((this._xuserData)&&(B._userdatalist)){var E=B._userdatalist.split(",");for(F=0;F<E.length;F++)G+="<userdata name=\""+E[F]+"\">"+this._apreUC+B.userData["t_"+E[F]]+this._apstUC+"</userdata>"}for(F=0;F<B.childsCount;F++)G+=this._serializeItem(B.childNodes[F]);G+="</item>";return G};dhtmlXTreeObject.prototype.saveSelectedItem=function(B,A){B=B||"";this.setCookie("treeStateSelected"+B,this.getSelectedItemId(),A)};dhtmlXTreeObject.prototype.restoreSelectedItem=function(A){A=A||"";var B=this.getCookie("treeStateSelected"+A);this.selectItem(B,false)};dhtmlXTreeObject.prototype.enableAutoSavingSelected=function(B,A){this.assMode=convertStringToBoolean(B);if((this.assMode)&&(!this.oldOnSelect)){this.oldOnSelect=this.onRowSelect;this.onRowSelect=function(B,A,C){if(!A)A=this;A.parentObject.treeNod.oldOnSelect(B,A,C);if(A.parentObject.treeNod.assMode)A.parentObject.treeNod.saveSelectedItem(A.parentObject.treeNod.assCookieName)}}this.assCookieName=A};dhtmlXTreeObject.prototype.saveState=function(C,B){var D=this._escape(this.serializeTree()),A=4000;if(D.length>A){if(navigator.appName.indexOf("Microsoft")!=-1)return false;this.setCookie("treeStatex"+C,Math.ceil(D.length/A));for(var E=0;E<Math.ceil(D.length/A);E++)this.setCookie("treeStatex"+C+"x"+E,D.substr(E*A,A),B)}else this.setCookie("treeStatex"+C,D,B);D=this.getCookie("treeStatex"+C);if(!D){this.setCookie("treeStatex"+C,"",B);return false}return true};dhtmlXTreeObject.prototype.loadState=function(A){var C=this.getCookie("treeStatex"+A);if(!C)return false;if(C.length){if(C.toString().length<4){var B="";for(var D=0;D<C;D++)B+=this.getCookie("treeStatex"+A+"x"+D);C=B}this.loadXMLString((this.utfesc=="utf8")?decodeURI(C):unescape(C))}return true};dhtmlXTreeObject.prototype.setCookie=function(C,D,A){var B=C+"="+D+(A?(";"+A):"");document.cookie=B};dhtmlXTreeObject.prototype.getCookie=function(B){var A=B+"=";if(document.cookie.length>0){var C=document.cookie.indexOf(A);if(C!=-1){C+=A.length;var D=document.cookie.indexOf(";",C);if(D==-1)D=document.cookie.length;return document.cookie.substring(C,D)}}};dhtmlXTreeObject.prototype.saveOpenStates=function(B,A){var C=[];for(var D=0;D<this.htmlNode.childsCount;D++)C=C.concat(this._collectOpenStates(this.htmlNode.childNodes[D]));C=C.join(this.dlmtr);this.setCookie("treeOpenStatex"+B,C,A)};dhtmlXTreeObject.prototype.loadOpenStates=function(C){for(var E=0;E<this.htmlNode.childsCount;E++)this._xcloseAll(this.htmlNode.childNodes[E]);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";var D=getCookie("treeOpenStatex"+C);if(D){var A=D.split(this.dlmtr);for(E=0;E<A.length;E++){var B=this._globalIdStorageFind(A[E]);if(B)if((this.XMLsource)&&(!B.XMLload)&&(B.id!=this.rootId)){this._delayedLoad(B,"loadOpenStates('"+C+"')");return}else this.openItem(A[E])}}this.callEvent("onAllOpenDynamic",[])};dhtmlXTreeObject.prototype._delayedLoad=function(A,B){this.afterLoadMethod=B;this.onLoadReserve=this.onXLE;this.onXLE=this._delayedLoadStep2;this._loadDynXML(A.id)};dhtmlXTreeObject.prototype._delayedLoadStep2=function(tree){tree.onXLE=tree.onLoadReserve;window.setTimeout(function(){eval("tree."+tree.afterLoadMethod)},100);if(tree.onXLE)tree.onXLE(tree);tree.callEvent("onXLE",[tree])};dhtmlXTreeObject.prototype._collectOpenStates=function(A){var B=[];if(this._getOpenState(A)==1){B.push(A.id);for(var C=0;C<A.childsCount;C++)B=B.concat(this._collectOpenStates(A.childNodes[C]))}return B};function setCookie(A,B){document.cookie=A+"="+B}function getCookie(B){var A=B+"=";if(document.cookie.length>0){var C=document.cookie.indexOf(A);if(C!=-1){C+=A.length;var D=document.cookie.indexOf(";",C);if(D==-1)D=document.cookie.length;return(document.cookie.substring(C,D))}}}dhtmlXTreeObject.prototype.openAllItemsDynamic=function(B){this.ClosedElem=new Array();this.G_node=null;var A=this._globalIdStorageFind(B||this.rootId);if(A.id!=this.rootId&&this.getOpenState(A.id)!=0)this.openItem(B);this._openAllNodeChilds(A,0);if(this.ClosedElem.length>0){this.onLoadReserve=this.onXLE;this.onXLE=this._loadAndOpen;this._loadAndOpen(this)}};dhtmlXTreeObject.prototype._openAllNodeChilds=function(A){if((A.XMLload==0)||(A.unParsed))this.ClosedElem.push(A);for(var B=0;B<A.childsCount;B++){if(this._getOpenState(A.childNodes[B])<0)this._HideShow(A.childNodes[B],2);if(A.childNodes[B].childsCount>0)this._openAllNodeChilds(A.childNodes[B]);if((A.childNodes[B].XMLload==0)||(A.childNodes[B].unParsed))this.ClosedElem.push(A.childNodes[B])}};dhtmlXTreeObject.prototype._loadAndOpen=function(A){if(A.G_node){A._openItem(A.G_node);A._openAllNodeChilds(A.G_node);A.G_node=null}if(A.ClosedElem.length>0)A.G_node=A.ClosedElem.shift();if(A.G_node){if(A.G_node.unParsed)A.reParse(A.G_node);else window.setTimeout(function(){A._loadDynXML(A.G_node.id)},100)}else{A.onXLE=A.onLoadReserve;if(A.onXLE)A.onXLE(A);A.callEvent("onAllOpenDynamic",[A])}};dhtmlXTreeObject.prototype.openItemsDynamic=function(B,A){if(this.onXLE==this._stepOpen)return;this._opnItmsDnmcFlg=convertStringToBoolean(A);this.onLoadReserve=this.onXLE;this.onXLE=this._stepOpen;this.ClosedElem=B.split(",").reverse();this._stepOpen(this)};dhtmlXTreeObject.prototype._stepOpen=function(A){if(!A.ClosedElem.length){A.onXLE=A.onLoadReserve;if(A._opnItmsDnmcFlg)A.selectItem(A.G_node,true);if((A.onXLE)&&(arguments[1]))A.onXLE.apply(A,arguments);A.callEvent("onOpenDynamicEnd",[]);return}A.G_node=A.ClosedElem.pop();var B=A._globalIdStorageFind(A.G_node);if(B.XMLload===0)A.openItem(A.G_node);else{A.openItem(A.G_node);A._stepOpen(A)}};function dhtmlXLayoutPanel(){}function dhtmlXLayoutObject(B,D,F){if(!window.dhtmlXContainer){alert(this.i18n.dhxcontalert);return}var A=this;this._autodetectSkin=function(){var B=document.createElement("DIV");B.className="dhxlayout_skin_detect";if(document.body.childNodes.length>0)document.body.insertBefore(B,document.body.childNodes[0]);else document.body.appendChild(B);var A=B.offsetWidth;document.body.removeChild(B);B=null;if(A==199)return"dhx_skyblue";if(A==299)return"dhx_blue";if(A==399)return"dhx_black";if(A==499)return"dhx_web";if(A==599)return"dhx_terrace";return"dhx_skyblue"};this.skin=(F!=null?F:(typeof(dhtmlx)!="undefined"&&typeof(dhtmlx.skin)=="string"?dhtmlx.skin:this._autodetectSkin()));this.setSkin=function(B){if(!this.skinParams[B])return;this.skin=B;this._CPanelHeight=this.skinParams[this.skin]["cpanel_height"];this._collapsedW=this.skinParams[this.skin]["cpanel_collapsed_width"];this._collapsedH=this.skinParams[this.skin]["cpanel_collapsed_height"];this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin+(this._r?" dhxlayout_rtl":"");this.sizer.className="dhxLayout_Sizer_"+this.skin;if(this.dhxWins)this.dhxWins.setSkin(this.skin);for(var A in this.polyObj)this.polyObj[A].skin=this.skin;this.base.skin=this.skin;this._fixIcons();this.setSizes()};this._isIPad=(navigator.userAgent.search(/iPad/gi)>=0);this._dblClickTM=600;this._mTop=0;this._mBottom=0;if(typeof(B)=="string")B=document.getElementById(B);if((B._isWindow==true||B._isCell)&&!this.base){if(B._isCell&&B.attachLayout)return B.attachLayout(D,F);if(B.isWindow)return B.attachLayout(D,F);this.base=B}if(B==document.body&&!this.base)document.body.style.overflow="hidden";if((typeof(B)=="object"||B==document.body)&&!this.base){var C=document.createElement("DIV");C.className="dhxcont_global_layout_area";B.appendChild(C);B._isLayout=true;this.cont=new dhtmlXContainer(B);this.cont.setContent(C);if(B==document.body){if(this.skin=="dhx_skyblue"||this.skin=="dhx_blue"){this.cont.obj._offsetTop=2;this.cont.obj._offsetLeft=2;this.cont.obj._offsetHeight=-4;this.cont.obj._offsetWidth=-4}if(this.skin=="dhx_web"){this.cont.obj._offsetTop=9;this.cont.obj._offsetLeft=9;this.cont.obj._offsetHeight=-18;this.cont.obj._offsetWidth=-18}if(this.skin=="dhx_terrace"){this.cont.obj._offsetTop=14;this.cont.obj._offsetLeft=14;this.cont.obj._offsetHeight=-28;this.cont.obj._offsetWidth=-28}document.body.className+=" dhxlayout_fullscreened"}B.adjustContent(B,this._mTop,null,null,this._mBottom);this.base=document.createElement("DIV");this.base.style.overflow="hidden";this.base.style.position="absolute";this.base.style.left="0px";this.base.style.top="0px";this.base.style.width=C.childNodes[0].style.width;this.base.style.height=C.childNodes[0].style.height;C.childNodes[0].appendChild(this.base);if(B==document.body){this._tmTime=null;this._lw=null;this._doOnResizeStart=function(){window.clearTimeout(this._tmTime);this._tmTime=window.setTimeout(function(){A._doOnResizeEnd()},200)};this._doOnResizeEnd=function(){this.setSizes(false)};if(_isIE)window.attachEvent("onresize",A._doOnResizeStart);else window.addEventListener("resize",A._doOnResizeStart,false)}B._doOnAttachToolbar=function(){if(A!=null&&typeof(A.setSizes)=="function")A.setSizes()}}this.items=new Array();this.cells=function(A){if(this.polyObj[A]!=null)return this.polyObj[A];return null};this.getIdByIndex=function(A){if(A<0)return null;if(A>=this.items.length)return null;return this.items[A]._idd};this.getIndexById=function(A){if(this.cells(A)!=null)return this.cells(A).getIndex();return null};this.imagePath=dhtmlx.image_path||"codebase/imgs/";this.setImagePath=function(A){this.imagePath=A};this.polyObj={};this.sepHor=new Array();this.sepVer=new Array();this._layoutView=(D!=null?String(D).toUpperCase():"3E");this._minWidth=40;this._minHeight=40;this._CPanelBtnsWidth=32;this.skinParams={"dhx_black":{"hor_sep_height":5,"ver_sep_width":5,"cpanel_height":34,"cpanel_collapsed_width":18,"cpanel_collapsed_height":18},"dhx_blue":{"hor_sep_height":5,"ver_sep_width":5,"cpanel_height":34,"cpanel_collapsed_width":18,"cpanel_collapsed_height":18},"dhx_skyblue":{"hor_sep_height":5,"ver_sep_width":5,"cpanel_height":26,"cpanel_collapsed_width":18,"cpanel_collapsed_height":18},"dhx_web":{"hor_sep_height":9,"ver_sep_width":9,"cpanel_height":27,"cpanel_collapsed_width":18,"cpanel_collapsed_height":18,"cell_pading_max":1,"cell_pading_min":0},"dhx_terrace":{"hor_sep_height":14,"ver_sep_width":14,"cpanel_height":37,"cpanel_collapsed_width":18,"cpanel_collapsed_height":18,"cell_pading_max":1,"cell_pading_min":0}};this._CPanelHeight=this.skinParams[this.skin]["cpanel_height"];this._collapsedW=this.skinParams[this.skin]["cpanel_collapsed_width"];this._collapsedH=this.skinParams[this.skin]["cpanel_collapsed_height"];this.tpl=document.createElement("TABLE");this.tpl.dir="ltr";this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin;this.tpl.cellSpacing=0;this.tpl.cellPadding=0;var E=document.createElement("TBODY");this.tpl.appendChild(E);this.tpl.border=0;this.tplSizes={};this._effects={"collapse":false,"resize":false,"highlight":true};this.sizer=document.createElement("DIV");this.sizer.className="dhxLayout_Sizer_"+this.skin;this.sizer.style.display="none";document.body.appendChild(this.sizer);this._attachSizer=function(B){A.sizer.style.left=getAbsoluteLeft(B)+"px";A.sizer.style.top=getAbsoluteTop(B)+"px";A.sizer.style.width=B.offsetWidth+"px";A.sizer.style.height=B.offsetHeight+"px";if(A._sizerML!=null)A.sizer.style.marginLeft=A._sizerML+"px";if(A._sizerMT!=null)A.sizer.style.marginTop=A._sizerMT+"px";A.sizer.style.display="";A.sizer.className="dhxLayout_Sizer_"+A.skin;if(B._dir!=null)A.sizer.className+=" "+(B._dir=="hor"?"dhxCursorNResize":"dhxCursorWResize")};this.listViews=function(){var A=new Array();for(var B in this.tplData)A[A.length]=B;return A};this._init=function(){this.obj=document.createElement("DIV");this.obj.className="dhtmlxLayoutObject";this.base.appendChild(this.obj);this.obj.appendChild(this.tpl);this.w=this.obj.offsetWidth;this.h=this.obj.offsetHeight;this._xmlLoader.loadXMLString(this.tplData[this._layoutView]!=null?this.tplData[this._layoutView]:this.tplData["3E"]);this._initWindows()};this._autoHor=new Array();this._autoVer=new Array();this._dimension=new Array(320,200);this._rowsRatio=100;this._colsRatio=100;this._xmlParser=function(){var I=new Array(),L=new Array(),F={},D=this.getXMLTopNode("layout");for(var b=0;b<D.childNodes.length;b++){if(D.childNodes[b].tagName=="row"){var W=D.childNodes[b],C=document.createElement("TR");A.tpl.childNodes[0].appendChild(C);for(var Y=0;Y<W.childNodes.length;Y++)if(W.childNodes[Y].tagName=="cell"){var U=W.childNodes[Y],G=document.createElement("TD");G._dir="null";if(U.getAttribute("obj")!=null){var f=U.getAttribute("obj"),P=String(U.getAttribute("wh")).split(","),O=isNaN(P[0]),g=(isNaN(P[0])?parseInt(A.polyObj[P[0]].style.width):0);for(var S=0;S<I.length;S++)for(var X=0;X<I[S].length;X++)if(I[S][X]==f){if(!O){O=true;var V=A.base.offsetWidth-F[f][0]*A.skinParams[A.skin]["ver_sep_width"];for(var a=0;a<I[S].length;a++)if(!isNaN(I[S][a])){V-=I[S][a];P[0]-=1}g=Math.ceil(V/P[0])}I[S][X]=g}G.style.width=g+"px";var O=isNaN(P[1]),B=(isNaN(P[1])?parseInt(A.polyObj[P[1]].style.height):0);for(S=0;S<L.length;S++)for(X=0;X<L[S].length;X++)if(L[S][X]==f){if(!O){O=true;var J=A.base.offsetHeight-F[f][1]*A.skinParams[A.skin]["hor_sep_height"];for(a=0;a<L.length;a++)if(!isNaN(L[a][X])){J-=L[a][X];P[1]-=1}B=Math.ceil(J/P[1])}L[S][X]=B}G.style.height=B+"px";G.className="dhtmlxLayoutSinglePoly";G.innerHTML="";G._minW=(U.getAttribute("minWidth")!=null?Number(U.getAttribute("minWidth")):A._minWidth);G._minH=(U.getAttribute("minHeight")!=null?Number(U.getAttribute("minHeight")):A._minHeight);G._initCPanel=(U.getAttribute("cpanel")!=null?(U.getAttribute("cpanel")=="false"?false:true):true);G._resize=U.getAttribute("resize");var H=String(U.getAttribute("neighbors")).split(";");for(var Q=0;Q<H.length;Q++){var c=String(H[Q]).split(",");if(c.length>1)H[Q]=c}G._rowData=H;A.polyObj[f]=G}if(U.getAttribute("sep")!=null){var e=U.getAttribute("sep");if(e=="hor"){G.className="dhtmlxLayoutPolySplitterHor";G._dir="hor";var N=U.getAttribute("top").split(";");for(Q=0;Q<N.length;Q++){c=String(N[Q]).split(",");if(c.length>1)N[Q]=c}G._top=N;var d=U.getAttribute("bottom").split(";");for(Q=0;Q<d.length;Q++){c=String(d[Q]).split(",");if(c.length>1)d[Q]=c}G._bottom=d;A.sepHor[A.sepHor.length]=G}else{G.className="dhtmlxLayoutPolySplitterVer";G._dir="ver";var K=U.getAttribute("left").split(";");for(Q=0;Q<K.length;Q++){c=String(K[Q]).split(",");if(c.length>1)K[Q]=c}G._left=K;var M=U.getAttribute("right").split(";");for(Q=0;Q<M.length;Q++){c=String(M[Q]).split(",");if(c.length>1)M[Q]=c}G._right=M;A.sepVer[A.sepVer.length]=G}G._dblClick=U.getAttribute("dblclick");G._isSep=true;G.innerHTML="<div style=\"height:2px;overflow:hidden;\">&nbsp;</div>"}if(U.getAttribute("colspan")!=null)G.colSpan=U.getAttribute("colspan");if(U.getAttribute("rowspan")!=null)G.rowSpan=U.getAttribute("rowspan");C.appendChild(G)}}if(D.childNodes[b].tagName=="autosize"){A._autoHor=(D.childNodes[b].getAttribute("hor")).split(";");A._autoVer=(D.childNodes[b].getAttribute("ver")).split(";");A._totalCols=D.childNodes[b].getAttribute("cols");A._totalRows=D.childNodes[b].getAttribute("rows");A._dimension[0]=A._totalCols*A._colsRatio;A._dimension[1]=A._totalRows*A._rowsRatio}if(D.childNodes[b].tagName=="table"){var E=D.childNodes[b].getAttribute("data"),a=String(E).split(";");for(S=0;S<a.length;S++){I[S]=new Array();L[S]=new Array();var R=String(a[S]).split(",");for(X=0;X<R.length;X++){I[S][X]=R[X];L[S][X]=R[X];if(F[R[X]]==null)F[R[X]]=new Array(0,0)}}for(var T in F){O=false;for(S=0;S<I.length;S++)for(X=0;X<I[S].length;X++)if(I[S][X]==T&&!O){O=true;for(var Z=0;Z<I[S].length;Z++)if(I[S][Z]!=T)F[T][0]++;for(Z=0;Z<I.length;Z++)if(I[Z][X]!=T)F[T][1]++}}}}I=null;L=null;A._buildSurface();this.destructor()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.listAutoSizes=function(){var D=this._availAutoSize[this._layoutView+"_hor"],C=this._availAutoSize[this._layoutView+"_ver"],B=(this._autoHor).join(";"),A=(this._autoVer).join(";");return new Array(B,A,D,C)};this.setAutoSize=function(E,D){if(E!=null){var A=false,C=this._availAutoSize[this._layoutView+"_hor"];for(var B=0;B<C.length;B++)A=A||(C[B]==E);if(A==true)this._autoHor=E.split(";")}if(D!=null){A=false,C=this._availAutoSize[this._layoutView+"_ver"];for(B=0;B<C.length;B++)A=A||(C[B]==D);if(A==true)this._autoVer=D.split(";")}};this._buildSurface=function(){for(var E=0;E<this.tpl.childNodes[0].childNodes.length;E++){var D=this.tpl.childNodes[0].childNodes[E];for(var C=0;C<D.childNodes.length;C++){var H=D.childNodes[C],B=this;if(!H._isSep){H._isCell=true;H.skin=this.skin;H.getId=function(){return this._idd};H.getIndex=function(){return this._ind};H.showHeader=function(){B.showPanel(this._idd)};H.hideHeader=function(){B.hidePanel(this._idd)};H.isHeaderVisible=function(){return B.isPanelVisible(this._idd)};H.setText=function(A){B.setText(this._idd,A)};H.getText=function(){return B.getText(this._idd)};H.expand=function(){if(!B._isCollapsed(this._idd))return;B._expand(this._idd,"hide")};H.collapse=function(){if(B._isCollapsed(this._idd))return;B._collapse(this._idd,"hide")};H.isCollapsed=function(){return B._isCollapsed(this._idd)};H.dock=function(){if(!B._isCollapsed(this._idd))return;B._expand(this._idd,"dock");B.dockWindow(this._idd)};H.undock=function(){if(B._isCollapsed(this._idd))return;B.unDockWindow(this._idd);B._collapse(this._idd,"dock")};H.setWidth=function(A){if(!Number(A))return;var C=this._isBlockedWidth||false;this._isBlockedWidth=false;B._setWidth(this._idd,A);this._isBlockedWidth=C};H.getWidth=function(){return parseInt(this.style.width)};H.setHeight=function(A){if(!Number(A))return;var C=this._isBlockedHeight||false;this._isBlockedHeight=false;B._setHeight(this._idd,A);this._isBlockedHeight=C};H.getHeight=function(){return parseInt(this.style.height)};H.fixSize=function(C,A){B._fixSize(this._idd,C,A)};H.progressOn=function(){B._progressControl(this._idd,true)};H.progressOff=function(){B._progressControl(this._idd,false)};H._doOnAttachMenu=function(){this.adjustContent(this.childNodes[0],(this._noHeader?0:B.skinParams[B.skin]["cpanel_height"]));this.updateNestedObjects()};H._doOnAttachToolbar=function(){this.adjustContent(this.childNodes[0],(this._noHeader?0:B.skinParams[B.skin]["cpanel_height"]));this.updateNestedObjects()};H._doOnAttachStatusBar=function(){this.adjustContent(this.childNodes[0],(this._noHeader?0:B.skinParams[B.skin]["cpanel_height"]));this.updateNestedObjects()};H._doOnFrameContentLoaded=function(){B.callEvent("onContentLoaded",[this._idd])};H._doOnResize=function(){this.adjustContent(this.childNodes[0],(this._noHeader?0:B.skinParams[B.skin]["cpanel_height"]));this.updateNestedObjects()};H._redraw=function(){};H.showArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display=""};H.hideArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display="none"};H.isArrowVisible=function(){return(this.childNodes[0].childNodes[0].childNodes[4].style.display!="none")}}if(H._dir=="ver"){H.onselectstart=function(A){A=A||event;A.returnValue=false};if(_isIE)H["ondblclick"]=function(){B._doOnDoubleClick(this)};H[this._isIPad?"ontouchstart":"onmousedown"]=function(E){E=E||event;if(!_isIE)if(!this._lastClick)this._lastClick=new Date().getTime();else{var D=this._lastClick;this._lastClick=new Date().getTime();if(D+B._dblClickTM>=this._lastClick)if(B._doOnDoubleClick(this)===true)return}var H=B._findDockCellsVer(this);B._resAreaData=new Array();if(H[0]!=null&&H[1]!=null){if(String(document.body.className).search("dhxCursorWResize")==-1)document.body.className+=" dhxCursorWResize";B._resObj=this;B._anyExpL=H[0];B._anyExpR=H[1];B._collectResAreaData(H);B._resX=(B._isIPad?E.touches[0].clientX:E.clientX);if(B._effects["resize"]==false){B._attachSizer(this);B.sizer._leftXStart=parseInt(B.sizer.style.left);var I=B.polyObj[B._anyExpL[0]];B._resXMaxWidthLeft=parseInt(I.style.width)-B._minWidth;var G=B.polyObj[B._anyExpR[0]];B._resXMaxWidthRight=parseInt(G.style.width)-B._minWidth;if(B._alterSizes.length>0)for(var F=0;F<B._alterSizes.length;F++){for(var A=0;A<B._anyExpL.length;A++)if(B._alterSizes[F][0]==B._anyExpL[A]){var C=B._resXMaxWidthLeft=parseInt(I.style.width)-B._alterSizes[F][1];if(C<B._resXMaxWidthLeft)B._resXMaxWidthLeft=C}for(A=0;A<B._anyExpR.length;A++)if(B._alterSizes[F][0]==B._anyExpR[A]){C=parseInt(G.style.width)-B._alterSizes[F][1];if(C<B._resXMaxWidthRight)B._resXMaxWidthRight=C}}B._resXStart=B._resX}B._resFunc=B._resizeVer;B._showCovers();if(B._isIPad)E.preventDefault()}};H.onmouseup=function(){if(B._effects["resize"]==true){B._resizeStop();B._anyExpL=null;B._anyExpR=null}}}if(H._dir=="hor"){H.onselectstart=function(A){A=A||event;A.returnValue=false};H[this._isIPad?"ontouchstart":"onmousedown"]=function(E){E=E||event;if(!this._lastClick)this._lastClick=new Date().getTime();else{var D=this._lastClick;this._lastClick=new Date().getTime();if(D+B._dblClickTM>=this._lastClick)if(B._doOnDoubleClick(this)===true)return}var H=B._findDockCellsHor(this);B._resAreaData=new Array();if(H[0]!=null&&H[1]!=null){if(String(document.body.className).search("dhxCursorNResize")==-1)document.body.className+=" dhxCursorNResize";B._resObj=this;B._anyExpT=H[0];B._anyExpB=H[1];B._collectResAreaData(H);B._resY=(B._isIPad?E.touches[0].clientY:E.clientY);if(B._effects["resize"]==false){B._attachSizer(this);B.sizer._topYStart=parseInt(B.sizer.style.top);var G=B.polyObj[B._anyExpT[0]];B._resYMaxHeightTop=parseInt(G.style.height)-B._minHeight;var I=B.polyObj[B._anyExpB[0]];B._resYMaxHeightBottom=parseInt(I.style.height)-B._minHeight;if(B._alterSizes.length>0)for(var F=0;F<B._alterSizes.length;F++){for(var A=0;A<B._anyExpT.length;A++)if(B._alterSizes[F][0]==B._anyExpT[A]){var C=parseInt(G.style.height)-B._alterSizes[F][2]-(G.childNodes[0].style.display!="none"?B.skinParams[B.skin]["cpanel_height"]:0);if(C<B._resYMaxHeightTop)B._resYMaxHeightTop=C}for(A=0;A<B._anyExpB.length;A++)if(B._alterSizes[F][0]==B._anyExpB[A]){C=parseInt(I.style.height)-B._alterSizes[F][2]-(I.childNodes[0].style.display!="none"?B.skinParams[B.skin]["cpanel_height"]:0);if(C<B._resYMaxHeightBottom)B._resYMaxHeightBottom=C}}B._resYStart=B._resY}B._resFunc=B._resizeHor;B._showCovers();if(B._isIPad)E.preventDefault()}};H.onmouseup=function(){if(B._effects["resize"]==true){B._resizeStop();B._anyExpT=null;B._anyExpB=null}}}}}for(var F in this.polyObj){this.polyObj[F]._collapsed=false;this.polyObj[F]._idd=F;this.polyObj[F]._ind=this.items.length;this.items[this.items.length]=this.polyObj[F];var A=document.createElement("DIV");A.style.position="relative";A.style.left="0px";A.style.top="0px";A.style.width=this.polyObj[F].style.width;A.style.height=this.polyObj[F].style.height;A.style.overflow="hidden";this.polyObj[F].appendChild(A);var J=document.createElement("DIV");J._dockCell=F;J._resize=this.polyObj[F]._resize;J.className="dhtmlxPolyInfoBar";J.innerHTML="<div class='dhtmlxInfoBarLabel'>"+F+"</div>"+"<div class='dhtmlxInfoBarButtonsFake'><div class='dhtmlxInfoBarButtonsFake2'></div></div>"+"<div class='dhtmlxInfoButtonDock' title='"+this.i18n.dock+"'></div>"+"<div class='dhtmlxInfoButtonUnDock' style='display: none;' title='"+this.i18n.undock+"'></div>"+"<div class='dhtmlxInfoButtonShowHide_"+J._resize+"' title='"+this.i18n.collapse+"'></div>"+"<div class='dhtmlxLineL'></div>"+"<div class='dhtmlxLineR'></div>";if(this.polyObj[F]._initCPanel==true){J._h=this._CPanelHeight;J.style.display=""}else{J._h=0;J.style.display="none"}this.polyObj[F].childNodes[0].appendChild(J);J.ondblclick=function(){B.callEvent("onDblClick",[this._dockCell])};J.childNodes[4].onclick=function(){var A=this.parentNode._dockCell;if(B._isCollapsed(A))B._expand(A,"hide");else B._collapse(A,"hide")};for(E=0;E<J.childNodes.length;E++)J.childNodes[E].onselectstart=function(A){A=A||event;A.returnValue=false};var G=document.createElement("DIV");G.className="dhxcont_global_content_area";this.polyObj[F].childNodes[0].appendChild(G);var I=new dhtmlXContainer(this.polyObj[F]);I.setContent(G);if(this.skin=="dhx_web")this.polyObj[F]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_layout_dhx_web");if(this.skin=="dhx_terrace")this.polyObj[F]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_layout_dhx_terrace");this.polyObj[F].adjustContent(this.polyObj[F].childNodes[0],this.skinParams[this.skin]["cpanel_height"])}this._fixIcons()};this._resX=null;this._resY=null;this._resObj=null;this._resFunc=null;this._anyExpL=null;this._anyExpR=null;this._anyExpT=null;this._anyExpB=null;this._expand=function(A,B){this._doExpand(this.polyObj[A]._resize,A,this.polyObj[A]._rowData,B)};this._collapse=function(A,B){if(this._isCollapsed(A))return;this.polyObj[A]._savedW=parseInt(this.polyObj[A].style.width);this.polyObj[A]._savedH=parseInt(this.polyObj[A].style.height);this._doCollapse(this.polyObj[A]._resize,A,this.polyObj[A]._rowData,B)};this._isCollapsed=function(A){return this.polyObj[A]._collapsed};this._checkAlterMinSize=function(D){this._alterSizes=new Array();for(var C=0;C<D.length;C++)for(var A=0;A<D[C].length;A++)if(this.polyObj[D[C][A]].vs[this.polyObj[D[C][A]].av].layout!=null){var B=this.polyObj[D[C][A]].vs[this.polyObj[D[C][A]].av].layout._defineWindowMinDimension(this.polyObj[D[C][A]],true);B[0]=D[C][A];this._alterSizes[this._alterSizes.length]=B}};this._findDockCellsVer=function(F){var B=new Array(null,null);if(F==null)return B;var H=null;for(var E=F._left.length-1;E>=0;E--)if(H==null)if(typeof(F._left[E])=="object"){var I=false;for(var A=0;A<F._left[E].length;A++)I=I||(this.polyObj[F._left[E][A]]._isBlockedWidth||false);if(!I)H=F._left[E]}else if(this.polyObj[F._left[E]]._collapsed==false)if(!this.polyObj[F._left[E]]._isBlockedWidth)H=F._left[E];var C=null;for(E=0;E<F._right.length;E++)if(C==null)if(typeof(F._right[E])=="object"){I=false;for(A=0;A<F._right[E].length;A++)I=I||(this.polyObj[F._right[E][A]]._isBlockedWidth||false);if(!I)C=F._right[E]}else if(this.polyObj[F._right[E]]._collapsed==false)if(!this.polyObj[F._right[E]]._isBlockedWidth)C=F._right[E];if(H==null||C==null)return B;if(typeof(H)=="string")H=new Array(H);if(typeof(C)=="string")C=new Array(C);B[0]=H;B[1]=C;this._checkAlterMinSize(B);this._minWLAlter=0;this._minWRAlter=0;if(this._alterSizes.length>0&&this._effects["resize"]==true){var G=new Array(),D=new Array();for(E=0;E<H.length;E++)G[E]=this.polyObj[H[E]];for(E=0;E<C.length;E++)D[E]=this.polyObj[C[E]];for(E=0;E<G.length;E++)for(A=0;A<this._alterSizes.length;A++)if(this._alterSizes[A][0]==G[E]._idd&&this._minWLAlter<this._alterSizes[A][1])this._minWLAlter=this._alterSizes[A][1];for(E=0;E<D.length;E++)for(A=0;A<this._alterSizes.length;A++)if(this._alterSizes[A][0]==D[E]._idd&&this._maxWRAlter<this._alterSizes[A][1])this._minWRAlter=this._alterSizes[A][1]}return B};this._findDockCellsHor=function(H){var D=new Array(null,null);if(H==null)return D;var B=null;for(var G=H._top.length-1;G>=0;G--)if(B==null)if(typeof(H._top[G])=="object"){var I=false;for(var A=0;A<H._top[G].length;A++)I=I||(this.polyObj[H._top[G][A]]._isBlockedHeight||false);if(!I)B=H._top[G]}else if(this.polyObj[H._top[G]]._collapsed==false)if(!this.polyObj[H._top[G]]._isBlockedHeight)B=H._top[G];var C=null;for(G=0;G<H._bottom.length;G++)if(C==null)if(typeof(H._bottom[G])=="object"){I=false;for(A=0;A<H._bottom[G].length;A++)I=I||(this.polyObj[H._bottom[G][A]]._isBlockedHeight||false);if(!I)C=H._bottom[G]}else if(this.polyObj[H._bottom[G]]._collapsed==false)if(!this.polyObj[H._bottom[G]]._isBlockedHeight)C=H._bottom[G];if(B==null||C==null)return D;if(typeof(B)=="string")B=new Array(B);if(typeof(C)=="string")C=new Array(C);D[0]=B;D[1]=C;this._checkAlterMinSize(D);this._minHTAlter=0;this._minHBAlter=0;if(this._alterSizes.length>0&&this._effects["resize"]==true){var E=new Array(),F=new Array();for(G=0;G<B.length;G++)E[G]=this.polyObj[B[G]];for(G=0;G<C.length;G++)F[G]=this.polyObj[C[G]];for(G=0;G<E.length;G++)for(A=0;A<this._alterSizes.length;A++)if(this._alterSizes[A][0]==E[G]._idd&&this._minHTAlter<this._alterSizes[A][2])this._minHTAlter=this._alterSizes[A][2];for(G=0;G<F.length;G++)for(A=0;A<this._alterSizes.length;A++)if(this._alterSizes[A][0]==F[G]._idd&&this._minHBAlter<this._alterSizes[A][2])this._minHBAlter=this._alterSizes[A][2]}return D};this._resizeVer=function(C){if(this._isIPad)C.preventDefault();if(this._resObj==null||this._anyExpL==null||this._anyExpR==null)return;var I=(this._isIPad?C.touches[0].clientX:C.clientX);if(this._effects["resize"]==false){this._resX=I;var E=I-this._resXStart;if(-E>this._resXMaxWidthLeft&&E<0){E=-this._resXMaxWidthLeft;this._resX=E+this._resXStart}if(E>this._resXMaxWidthRight&&E>0){E=this._resXMaxWidthRight;this._resX=E+this._resXStart}this.sizer.style.left=this.sizer._leftXStart+E+"px";return}var M=this._anyExpL,B=this._anyExpR,G=I,E=I-A._resX,N=new Array(),K=new Array();for(var L=0;L<M.length;L++)N[L]=this.polyObj[M[L]];for(L=0;L<B.length;L++)K[L]=this.polyObj[B[L]];var D=parseInt(N[0].style.width),J=parseInt(K[0].style.width);if(E<0){var H=D+E;if(H>N[0]._minW&&H>this._minWLAlter){var F=J+D-H;for(L=0;L<N.length;L++)this._setW(N[L],H);for(L=0;L<K.length;L++)this._setW(K[L],F);this._resX=G}}else if(E>0){F=J-E;if(F>K[0]._minW&&F>this._minWRAlter){H=D+J-F;for(L=0;L<N.length;L++)this._setW(N[L],H);for(L=0;L<K.length;L++)this._setW(K[L],F);this._resX=G}}};this._resizeHor=function(C){if(this._resObj==null||this._anyExpT==null||this._anyExpB==null)return;var G=(this._isIPad?C.touches[0].clientY:C.clientY);if(this._effects["resize"]==false){this._resY=G;var F=G-this._resYStart;if(-F>this._resYMaxHeightTop&&F<0){F=-this._resYMaxHeightTop;this._resY=F+this._resYStart}if(F>this._resYMaxHeightBottom&&F>0){F=this._resYMaxHeightBottom;this._resY=F+this._resYStart}this.sizer.style.top=this.sizer._topYStart+F+"px";return}var B=this._anyExpT,K=this._anyExpB,H=G,F=G-A._resY,L=new Array(),D=new Array();for(var M=0;M<B.length;M++)L[M]=this.polyObj[B[M]];for(M=0;M<K.length;M++)D[M]=this.polyObj[K[M]];var N=parseInt(L[0].style.height),I=parseInt(D[0].style.height);if(F<0){var J=N+F;if(J>L[0]._minH+this._minHTAlter){var E=I+N-J;for(M=0;M<L.length;M++)this._setH(L[M],J);for(M=0;M<D.length;M++)this._setH(D[M],E);this._resY=H}}else if(F>0){E=I-F;if(E>D[0]._minH+this._minHBAlter){J=N+I-E;for(M=0;M<L.length;M++)this._setH(L[M],J);for(M=0;M<D.length;M++)this._setH(D[M],E);this._resY=H}}};this._resizeStop=function(){var L=document.body.className;if(L.search("dhxCursorWResize")!==-1||L.search("dhxCursorNResize")!==-1)document.body.className=String(document.body.className).replace(/dhxCursorWResize/g,"").replace(/dhxCursorNResize/g,"");if(this._resObj==null)return;if(this._effects["resize"]==false){this.sizer.style.display="none";if(this._resObj._dir=="hor"){var M=(typeof(this._anyExpT[0])=="object"?this._anyExpT[0][0]:this._anyExpT[0]),B=this._resY-this._resYStart,N=parseInt(this.polyObj[M].style.height)+B;this._setHeight(M,N)}else{var H=(typeof(this._anyExpL[0])=="object"?this._anyExpL[0][0]:this._anyExpL[0]),C=this._resX-this._resXStart,E=parseInt(this.polyObj[H].style.width)+C;this._setWidth(H,E)}var J={},O=function(B){if(B!=null)for(var A=0;A<B.length;A++){if(typeof(B[A])=="object")O(B[A]);J[B[A]]=true}};O(this._anyExpT);O(this._anyExpB);O(this._anyExpL);O(this._anyExpR);var D=new Array();for(var F in J)D[D.length]=F;if(typeof(this._anyExpT)=="object"&&this._anyExpT!=null){this.updateNestedObjectsArray(this._anyExpT);this._anyExpT=null}if(typeof(this._anyExpB)=="object"&&this._anyExpB!=null){this.updateNestedObjectsArray(this._anyExpB);this._anyExpB=null}if(typeof(this._anyExpL)=="object"&&this._anyExpL!=null){this.updateNestedObjectsArray(this._anyExpL);this._anyExpL=null}if(typeof(this._anyExpR)=="object"&&this._anyExpR!=null){this.updateNestedObjectsArray(this._anyExpR);this._anyExpR=null}this._resObj=null;this._resFunc=null;this._hideCovers();this._fixToolbars();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[D]);return}var G=new Array();if(this._resObj._left!=null)for(var K=0;K<this._resObj._left.length;K++)G[G.length]=this._resObj._left[K];if(this._resObj._right!=null)for(K=0;K<this._resObj._right.length;K++)G[G.length]=this._resObj._right[K];if(this._resObj._top!=null)for(K=0;K<this._resObj._top.length;K++)G[G.length]=this._resObj._top[K];if(this._resObj._bottom!=null)for(K=0;K<this._resObj._bottom.length;K++)G[G.length]=this._resObj._bottom[K];this._resFunc=null;this._resObj=null;this._hideCovers();var A=new Array();for(K=0;K<G.length;K++)if(typeof(G[K])=="object"){for(var I=0;I<G[K].length;I++)A[A.length]=this.polyObj[G[K][I]]}else A[A.length]=this.polyObj[G[K]];for(K=0;K<A.length;K++)A[K].updateNestedObjects();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[])};this._showCovers=function(){for(var A in this.polyObj)if(this._effects["highlight"]&&this._isResizable(A))this.polyObj[A].showCoverBlocker();this._fixToolbars()};this._hideCovers=function(){for(var A in this.polyObj)this.polyObj[A].hideCoverBlocker();this._fixToolbars()};this._isResizable=function(B){var A=false;for(var C=0;C<this._resAreaData.length;C++)A=A||(this._resAreaData[C]==B);return A};this._collectResAreaData=function(B){for(var A=0;A<B.length;A++)if(typeof(B[A])=="string")this._resAreaData[this._resAreaData.length]=B[A];else if(typeof(B[A])=="object")this._collectResAreaData(B[A])};this._doOnDoubleClick=function(A){if(A._dblClick==null)return;if(this.polyObj[A._dblClick]==null)return;if(this.polyObj[A._dblClick]._noHeader)return;var B=this.polyObj[A._dblClick];if(B.childNodes[0].style.display=="none")return;if(B._collapsed==true)this._doExpand(B._resize,A._dblClick,B._rowData,"hide");else{B._savedW=parseInt(B.style.width);B._savedH=parseInt(B.style.height);this._doCollapse(B._resize,A._dblClick,B._rowData,"hide")}return true};this._doOnSelectStart=function(B){B=B||event;if(A._resObj!=null)B.returnValue=false};this._doOnMouseMove=function(B){B=B||event;if(A._resObj!=null&&A._resFunc!=null)A._resFunc(B)};this._doOnMouseUp=function(){A._resizeStop()};if(this._isIPad){document.addEventListener("touchmove",A._doOnMouseMove,false);document.addEventListener("touchend",A._doOnMouseUp,false)}else if(_isIE){document.body.attachEvent("onselectstart",A._doOnSelectStart);document.body.attachEvent("onmousemove",A._doOnMouseMove);document.body.attachEvent("onmouseup",A._doOnMouseUp)}else{document.body.addEventListener("mousemove",A._doOnMouseMove,false);document.body.addEventListener("mouseup",A._doOnMouseUp,false)}this._doExpand=function(F,D,A,C){if(A.length<=1)return;var G=-1;for(var H=0;H<A.length;H++)if(A[H]==D)G=H;if(G==-1)return;var B=null;for(H=G+1;H<A.length;H++)if(B==null)if(typeof(A[H])=="string"){if(this.polyObj[A[H]]._collapsed==false)B=A[H]}else B=A[H];if(B==null)for(H=G-1;H>=0;H--)if(B==null)if(typeof(A[H])=="string"){if(this.polyObj[A[H]]._collapsed==false)B=A[H]}else B=A[H];if(B==null)return;if(typeof(B)!="object")B=new Array(B);if(F=="hor"){var K=65536;for(H=0;H<B.length;H++){var E=(this.polyObj[B[H]].vs[this.polyObj[B[H]].av].layout!=null?this.polyObj[B[H]].vs[this.polyObj[B[H]].av].layout._defineWindowMinDimension(this.polyObj[B[H]],true):[0,0]),J=parseInt(this.polyObj[B[H]].style.width)-this._minWidth-E[1];if(J<K)K=J}var L=this.polyObj[D]._savedW;if(L>K)L=K;if(L<this._minWidth)return;var M=Math.round(L/3)}else{K=65536;for(H=0;H<B.length;H++){E=(this.polyObj[B[H]].vs[this.polyObj[B[H]].av].layout!=null?this.polyObj[B[H]].vs[this.polyObj[B[H]].av].layout._defineWindowMinDimension(this.polyObj[B[H]],true):[0,0,0]),J=parseInt(this.polyObj[B[H]].style.height)-this._minHeight-E[2];if(J<K)K=J}L=this.polyObj[D]._savedH;if(L>K)L=K;if(L<this._minHeight)return;M=Math.round(L/3)}this.polyObj[D].childNodes[0].childNodes[1].style.display="";this.polyObj[D].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar";this.polyObj[D].childNodes[0].childNodes[0].childNodes[1].style.display="";this.polyObj[D].childNodes[0].childNodes[0].childNodes[2].style.display="";this.polyObj[D].childNodes[0].childNodes[0].childNodes[4].style.display="";var I=new Array();for(H=0;H<B.length;H++)I[H]=this.polyObj[B[H]];if(this.polyObj[D].className=="dhtmlxLayoutSinglePolyTabbarCollapsed")this.polyObj[D].className="dhtmlxLayoutSinglePolyTabbar";this._expandEffect(this.polyObj[D],I,L,C,(this._effects["collapse"]==true?M:1000000),F)};this._doCollapse=function(C,A,G,I){if(G.length<=1)return;var B=-1;for(var D=0;D<G.length;D++)if(G[D]==A)B=D;if(B==-1)return;var F=null;for(D=B+1;D<G.length;D++)if(F==null)if(typeof(G[D])=="string"){if(this.polyObj[G[D]]._collapsed==false)F=G[D]}else F=G[D];if(F==null)for(D=B-1;D>=0;D--)if(F==null)if(typeof(G[D])=="string"){if(this.polyObj[G[D]]._collapsed==false)F=G[D]}else F=G[D];if(F==null)if(G[B+1]!=null)F=G[B+1];if(F==null)if(B-1>=0)if(G[B-1]!=null)F=G[B-1];if(F!=null){if(typeof(F)!="object"){if(this.polyObj[F]._collapsed==true){this.polyObj[F].childNodes[0].childNodes[1].style.display="";this.polyObj[F]._collapsed=false;this.polyObj[F].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar";this.polyObj[F].childNodes[0].childNodes[0].childNodes[1].style.display="";this.polyObj[F].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse;this.polyObj[F].childNodes[0].childNodes[0].childNodes[2].style.display="";this.polyObj[F].childNodes[0].childNodes[0].childNodes[3].style.display="none";this.polyObj[F].childNodes[0].childNodes[0].childNodes[4].style.display="";if(this.polyObj[F]._isUnDocked===true)this.dockWindow(F);if(this.polyObj[F].className=="dhtmlxLayoutSinglePolyTabbarCollapsed")this.polyObj[F].className="dhtmlxLayoutSinglePolyTabbar";this._fixSplitters();this._fixIcons();this.polyObj[F].removeAttribute("title");this._fixToolbars();this.callEvent("onExpand",[F])}F=new Array(F)}var E=new Array();for(D=0;D<F.length;D++)E[D]=this.polyObj[F[D]];if(C=="hor")var H=Math.round(Math.max(this.polyObj[A].offsetWidth,this.polyObj[F[0]].offsetWidth)/3);else H=Math.round(Math.max(this.polyObj[A].offsetHeight,this.polyObj[F[0]].offsetHeight)/3);this.polyObj[A].childNodes[0].childNodes[1].style.display="none";this._collapseEffect(this.polyObj[A],E,I,(this._effects["collapse"]==true?H:1000000),C)}};this.setEffect=function(A,B){if(this._effects[A]!=null&&typeof(B)=="boolean")this._effects[A]=B};this.getEffect=function(A){if(this._effects[A]!=null)return this._effects[A];return null};this._expandEffect=function(H,G,J,K,I,E){if(E=="hor")var D=parseInt(H.style.width),B=parseInt(G[0].style.width);else D=parseInt(H.style.height),B=parseInt(G[0].style.height);var C=D+I;if(C>J)C=J;if(E=="hor"){H.style.width=C+"px";H.childNodes[0].style.width=H.style.width}else{H.style.height=C+"px";H.childNodes[0].style.height=H.style.height}H.adjustContent(H.childNodes[0],(H._noHeader?0:this.skinParams[this.skin]["cpanel_height"]));for(var F=0;F<G.length;F++){if(E=="hor"){G[F].style.width=B+D-C+"px";G[F].childNodes[0].style.width=G[F].style.width}else{G[F].style.height=B+D-C+"px";G[F].childNodes[0].style.height=G[F].style.height}G[F].adjustContent(G[F].childNodes[0],(G[F]._noHeader?0:this.skinParams[this.skin]["cpanel_height"]))}if(C!=J)window.setTimeout(function(){A._expandEffect(H,G,J,K,I,E)},4);else{H._collapsed=false;for(F=0;F<G.length;F++)G[F].updateNestedObjects();this.polyObj[H._idd].updateNestedObjects();this.polyObj[H._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse;this._fixSplitters();this._fixIcons();H.removeAttribute("title");this._fixToolbars();this.callEvent("onExpand",[H._idd])}};this._collapseEffect=function(H,G,J,I,E){if(E=="hor")var D=parseInt(H.style.width),B=parseInt(G[0].style.width);else D=parseInt(H.style.height),B=parseInt(G[0].style.height);var C=D-I;if(E=="hor"){if(C<this._collapsedW)C=this._collapsedW;H.style.width=C+"px";H.childNodes[0].style.width=H.style.width}else{if(C<this._collapsedH)C=this._collapsedH;H.style.height=C+"px";H.childNodes[0].style.height=H.style.height}for(var F=0;F<G.length;F++){if(E=="hor"){G[F].style.width=B+(D-C)+"px";G[F].childNodes[0].style.width=G[F].style.width}else{G[F].style.height=B+(D-C)+"px";G[F].childNodes[0].style.height=G[F].style.height}G[F].adjustContent(G[F].childNodes[0],(G[F]._noHeader?0:this.skinParams[this.skin]["cpanel_height"]))}if((C>this._collapsedW&&E=="hor")||(C>this._collapsedH&&E=="ver"))window.setTimeout(function(){A._collapseEffect(H,G,J,I,E)},4);else{for(F=0;F<G.length;F++){if(E=="hor"){G[F].style.width=B+(D-C)+"px";G[F].childNodes[0].style.width=G[F].style.width}else{G[F].style.height=B+(D-C)+"px";G[F].childNodes[0].style.height=G[F].style.height}G[F].adjustContent(G[F].childNodes[0],(G[F]._noHeader?0:this.skinParams[this.skin]["cpanel_height"]))}H._collapsed=true;if(E=="hor")H.childNodes[0].childNodes[0].className="dhtmlxPolyInfoBarCollapsedVer";else H.childNodes[0].childNodes[0].className="dhtmlxPolyInfoBarCollapsedHor";for(F=0;F<G.length;F++)G[F].updateNestedObjects();if(J=="hide"){H.childNodes[0].childNodes[0].childNodes[1].style.display="";H.childNodes[0].childNodes[0].childNodes[2].style.display="none";H.childNodes[0].childNodes[0].childNodes[3].style.display="none";H.childNodes[0].childNodes[0].childNodes[4].style.display=""}else{H.childNodes[0].childNodes[0].childNodes[1].style.display="";H.childNodes[0].childNodes[0].childNodes[2].style.display="";H.childNodes[0].childNodes[0].childNodes[3].style.display="none";H.childNodes[0].childNodes[0].childNodes[4].style.display="none"}if(H.className=="dhtmlxLayoutSinglePolyTabbar")H.className="dhtmlxLayoutSinglePolyTabbarCollapsed";this.polyObj[H._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.expand;this._fixSplitters();this._fixIcons();H.title=this.getTextTooltip(H._idd);this._fixToolbars();this._fixCollapsedText();this.callEvent("onCollapse",[H._idd])}};this._setW=function(B,A){B.style.width=A+"px";B.childNodes[0].style.width=B.style.width;B.adjustContent(B.childNodes[0],(B._noHeader?0:this.skinParams[this.skin]["cpanel_height"]))};this._setH=function(A,B){A.style.height=B+"px";A.childNodes[0].style.height=A.style.height;A.adjustContent(A.childNodes[0],(A._noHeader?0:this.skinParams[this.skin]["cpanel_height"]))};this._setWidth=function(H,D){if(this.polyObj[H]==null)return;if(!Number(D))return;var K=null;for(var I=0;I<this.sepVer.length;I++){var J=this.sepVer[I]._left;if(J[J.length-1]==H)K=new Array(this.sepVer[I],"left");else if(typeof(J[J.length-1])=="object"){var G=J[J.length-1];for(var B=0;B<G.length;B++)if(G[B]==H)K=new Array(this.sepVer[I],"left")}J=this.sepVer[I]._right;if(J[0]==H)K=new Array(this.sepVer[I],"right");else if(typeof(J[0])=="object"){G=J[0];for(B=0;B<G.length;B++)if(G[B]==H)K=new Array(this.sepVer[I],"right")}}if(K!=null){var C=this._findDockCellsVer(K[0]),L=C[0],A=C[1];if(L==null||A==null)return;var E=parseInt(this.polyObj[L[0]].style.width)+parseInt(this.polyObj[A[0]].style.width);if(D<this._minWidth)D=this._minWidth;else if(D>E-this._minWidth)D=E-this._minWidth;var F=E-D;for(I=0;I<L.length;I++){this._setW(this.polyObj[L[I]],(K[1]=="left"?D:F));this.polyObj[L[I]].updateNestedObjects()}for(I=0;I<A.length;I++){this._setW(this.polyObj[A[I]],(K[1]=="right"?D:F));this.polyObj[A[I]].updateNestedObjects()}}};this._setHeight=function(F,H){if(this.polyObj[F]==null)return;if(!Number(H))return;var K=null;for(var I=0;I<this.sepHor.length;I++){var J=this.sepHor[I]._top;if(J[J.length-1]==F)K=new Array(this.sepHor[I],"top");else if(typeof(J[J.length-1])=="object"){var E=J[J.length-1];for(var B=0;B<E.length;B++)if(E[B]==F)K=new Array(this.sepHor[I],"top")}J=this.sepHor[I]._bottom;if(J[0]==F)K=new Array(this.sepHor[I],"bottom");else if(typeof(J[0])=="object"){E=J[0];for(B=0;B<E.length;B++)if(E[B]==F)K=new Array(this.sepHor[I],"bottom")}}if(K!=null){var C=this._findDockCellsHor(K[0]),A=C[0],G=C[1];if(A==null||G==null)return;var D=parseInt(this.polyObj[A[0]].style.height)+parseInt(this.polyObj[G[0]].style.height);if(H<this._minHeight)H=this._minHeight;else if(H>D-this._minHeight)H=D-this._minHeight;var L=D-H;for(I=0;I<A.length;I++){this._setH(this.polyObj[A[I]],(K[1]=="top"?H:L));this.polyObj[A[I]].updateNestedObjects()}for(I=0;I<G.length;I++){this._setH(this.polyObj[G[I]],(K[1]=="bottom"?H:L));this.polyObj[G[I]].updateNestedObjects()}}};this.updateNestedObjectsArray=function(B){for(var A=0;A<B.length;A++)if(typeof(B[A])=="object")this.updateNestedObjectsArray(B[A]);else this.polyObj[B[A]].updateNestedObjects()};this.dockWindow=function(A){if(!this.dhxWins)return;if(!this.dhxWins.window(this.dhxWinsIdPrefix+A))return;this.dhxWins.window(this.dhxWinsIdPrefix+A).close();this.dhxWins.window(this.dhxWinsIdPrefix+A).moveContentTo(this.polyObj[A]);this.polyObj[A]._isUnDocked=false;this.callEvent("onDock",[A])};this.unDockWindow=function(A){this._initWindows(A);this.polyObj[A].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+A));this.polyObj[A]._isUnDocked=true;this.callEvent("onUnDock",[A])};this._initWindows=function(A){if(!window.dhtmlXWindows)return;if(!this.dhxWins){this.dhxWins=new dhtmlXWindows();this.dhxWins.setSkin(this.skin);this.dhxWins.setImagePath(this.imagePath);this.dhxWinsIdPrefix="";if(!A)return}var B=this.dhxWinsIdPrefix+A;if(!this.dhxWins.window(B)){var C=this,D=this.dhxWins.createWindow(B,20,20,320,200);D.setText(this.polyObj[A].getText());D.button("close").hide();D.attachEvent("onClose",function(A){A.hide()});D.button("dock").show();D.button("dock").attachEvent("onClick",function(B){C.polyObj[A].dock()});D.dockedCell=this.polyObj[A]}else this.dhxWins.window(B).show()};this.isPanelVisible=function(A){return(!this.polyObj[A]._noHeader)};this.showPanel=function(A){if(this.polyObj[A]==null)return;if(this.polyObj[A]._collapsed==true)return;var B=this.polyObj[A].childNodes[0].childNodes[0];B.style.display="";this.polyObj[A]._noHeader=false;if(this.skin=="dhx_web")this.polyObj[A]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_layout_dhx_web");if(this.skin=="dhx_terrace")this.polyObj[A]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_layout_dhx_terrace");this.polyObj[A].adjustContent(this.polyObj[A].childNodes[0],this.skinParams[this.skin]["cpanel_height"]);this.polyObj[A].updateNestedObjects()};this.hidePanel=function(A){if(this.polyObj[A]==null)return;if(this.polyObj[A]._collapsed==true)return;var B=this.polyObj[A].childNodes[0].childNodes[0];B.style.display="none";this.polyObj[A]._noHeader=true;if(this.skin=="dhx_web")this.polyObj[A]._setPadding(this.skinParams[this.skin]["cell_pading_min"],"");if(this.skin=="dhx_terrace")this.polyObj[A]._setPadding(this.skinParams[this.skin]["cell_pading_min"],"");this.polyObj[A].adjustContent(this.polyObj[A].childNodes[0],0);this.polyObj[A].updateNestedObjects()};this.setText=function(A,B){this._changeCPanelText(A,B)};this.getText=function(A){return this.polyObj[A].childNodes[0].childNodes[0].childNodes[0].innerHTML};this.getTextTooltip=function(A){var B=this.polyObj[A].childNodes[0].childNodes[0].childNodes[0];return(B.innerText||B.textContent)};this._changeCPanelText=function(B,C){var D=A;if(D.polyObj[B]==null)return;D.polyObj[B].childNodes[0].childNodes[0].childNodes[0].innerHTML=C;if(A.dhxWins!=null)if(A.dhxWins.window(A.dhxWinsIdPrefix+B)!=null)A.dhxWins.window(A.dhxWinsIdPrefix+B).setText(C)};this.forEachItem=function(B){for(var A=0;A<this.items.length;A++)B(this.items[A])};this._fixPositionInWin=function(A,B){this.base.style.width=A+"px";this.base.style.height=B+"px"};this.attachMenu=function(){if(this.base._isWindow)this.menu=this.base._window.attachMenu();else{this.cont.obj.skin=this.skin;this.menu=this.cont.obj.attachMenu();this.cont.obj.adjustContent(this.cont.obj,0);this.setSizes()}return this.menu};this.detachMenu=function(){if(!this.menu)return;this.cont.obj.detachMenu();this.setSizes();this.menu=null};this.showMenu=function(){if(!this.menu)return;this.cont.obj.showMenu();this.setSizes()};this.hideMenu=function(){if(!this.menu)return;this.cont.obj.hideMenu();this.setSizes()};this.attachToolbar=function(){if(this.base._isWindow)this.toolbar=this.base._window.attachToolbar();else{this.cont.obj.skin=this.skin;this.toolbar=this.cont.obj.attachToolbar();this.cont.obj.adjustContent(this.cont.obj,0);this.setSizes()}return this.toolbar};this.detachToolbar=function(){if(!this.toolbar)return;this.cont.obj.detachToolbar();this.setSizes();this.toolbar=null};this.showToolbar=function(){if(!this.toolbar)return;this.cont.obj.showToolbar();this.setSizes()};this.hideToolbar=function(){if(!this.toolbar)return;this.cont.obj.hideToolbar();this.setSizes()};this.attachStatusBar=function(){if(this.base._isWindow)this.statusbar=this.base._window.attachStatusBar();else{this.statusbar=this.cont.obj.attachStatusBar();this.cont.obj.adjustContent(this.cont.obj,0);this.setSizes()}return this.statusbar};this.detachStatusBar=function(){if(!this.statusbar)return;this.cont.obj.detachStatusBar();this.setSizes();this.statusbar=null};this.showStatusBar=function(){if(!this.statusbar)return;this.cont.obj.showStatusBar();this.setSizes()};this.hideStatusBar=function(){if(!this.statusbar)return;this.cont.obj.hideStatusBar();this.setSizes()};this.progressOn=function(){this._progressControlGlobal(true)};this.progressOff=function(){this._progressControlGlobal(false)};this._progressControl=function(A,D){if(this.polyObj[A]==null)return;if(this.polyObj[A]._progressCover==null){var C=document.createElement("DIV");C.className="dhtmlxLayoutPolyProgress";this.polyObj[A].childNodes[0].appendChild(C);var B=document.createElement("DIV");B.className="dhtmlxLayoutPolyProgressBGIMG";this.polyObj[A].childNodes[0].appendChild(B);this.polyObj[A]._progressCover=new Array(C,B)}this.polyObj[A]._progressCover[0].style.display=(D==true?"":"none");this.polyObj[A]._progressCover[1].style.display=this.polyObj[A]._progressCover[0].style.display};this._progressControlGlobal=function(C){if(this._progressCover==null){var B=document.createElement("DIV");B.className="dhtmlxLayoutPolyProgressGlobal_"+this.skin;this.obj.appendChild(B);var A=document.createElement("DIV");A.className="dhtmlxLayoutPolyProgressBGIMGGlobal_"+this.skin;this.obj.appendChild(A);this._progressCover=new Array(B,A)}this._progressCover[0].style.display=(C==true?"":"none");this._progressCover[1].style.display=this._progressCover[0].style.display};this._fixSize=function(A,C,B){if(this.polyObj[A]==null)return;this.polyObj[A]._isBlockedWidth=C;this.polyObj[A]._isBlockedHeight=B;this._fixSplitters()};this._fixSplitters=function(){for(var A=0;A<this.sepVer.length;A++){var B=this._findDockCellsVer(this.sepVer[A]);if(B[0]==null||B[1]==null){if(this.sepVer[A].className!="dhtmlxLayoutPolySplitterVerInactive")this.sepVer[A].className="dhtmlxLayoutPolySplitterVerInactive"}else if(this.sepVer[A].className!="dhtmlxLayoutPolySplitterVer")this.sepVer[A].className="dhtmlxLayoutPolySplitterVer"}for(A=0;A<this.sepHor.length;A++){B=this._findDockCellsHor(this.sepHor[A]);if(B[0]==null||B[1]==null){if(this.sepHor[A].className!="dhtmlxLayoutPolySplitterHorInactive")this.sepHor[A].className="dhtmlxLayoutPolySplitterHorInactive"}else if(this.sepHor[A].className!="dhtmlxLayoutPolySplitterHor")this.sepHor[A].className="dhtmlxLayoutPolySplitterHor"}};this._fixIcons=function(){for(var F in this.polyObj){var G=this.polyObj[F]._rowData,E=this.polyObj[F]._collapsed,B=-1;for(var D=0;D<G.length;D++)if(typeof(G[D])=="object");else if(G[D]==F)B=D;var A=null;if(B!=-1){for(D=B+1;D<G.length;D++)if(typeof(G[D])=="object")A=(this.polyObj[F]._resize=="ver"?(E?"b":"t"):(E?"r":"l"));else if(this.polyObj[G[D]]._collapsed==false)A=(this.polyObj[F]._resize=="ver"?(E?"b":"t"):(E?"r":"l"));if(A==null&&B>=1)for(D=B-1;D>=0;D--)if(typeof(G[D])=="object")A=(this.polyObj[F]._resize=="ver"?(E?"t":"b"):(E?"l":"r"));else if(this.polyObj[G[D]]._collapsed==false)A=(this.polyObj[F]._resize=="ver"?(E?"t":"b"):(E?"l":"r"))}if(A!=null){var C=this.polyObj[F]._resize;this.polyObj[F].childNodes[0].childNodes[0].childNodes[4].className="dhtmlxInfoButtonShowHide_"+C+" dhxLayoutButton_"+this.skin+"_"+C+(this.polyObj[F]._collapsed?"2":"1")+A}}};this._defineWindowMinDimension=function(G,E){if(E==true){var J=new Array();J[0]=parseInt(G.style.width);J[1]=parseInt(G.style.height)}else{J=G.getDimension();if(J[0]=="100%")J[0]=G.offsetWidth;if(J[1]=="100%")J[1]=G.offsetHeight}var O=A._getNearestParents("hor"),H=A._getNearestParents("ver");if(!E){var B=new Array(),P=new Array();for(var F in O)B[B.length]=F;for(F in H)P[P.length]=F;A._checkAlterMinSize(new Array(B,P));var C={},N={};for(var M=0;M<A._alterSizes.length;M++){var F=A._alterSizes[M][0],K=A._alterSizes[M][1],I=A._alterSizes[M][2];if(C[F]==null)C[F]=K;else if(K>C[F])C[F]=K;if(N[F]==null)N[F]=I;else if(I>N[F])N[F]=I}for(F in O)if(C[F]!=null)O[F]=O[F]-C[F]+A._minWidth;for(F in H)if(N[F]!=null)H[F]=H[F]-N[F]+A._minHeight-(A.polyObj[F].childNodes[0].style.display!="none"?A.skinParams[A.skin]["cpanel_height"]:0)}var D=65536;for(F in O)if(O[F]<D)D=O[F];D=D-A._minWidth;D=J[0]-D;if(D<A._dimension[0]&&!E)D=A._dimension[0];var L=65536;for(F in H)if(H[F]<L)L=H[F];L=L-A._minHeight;L=J[1]-L;if(L<A._dimension[1]&&!E)L=A._dimension[1];if(E==true)return["",D,L];G.setMinDimension(D,L)};this._getNearestParents=function(I){var G=(I=="hor"?this._autoHor:this._autoVer),E={};for(var F=0;F<G.length;F++){var B=G[F];if(this.polyObj[B]._collapsed==true&&this.polyObj[B]._resize==I){var H=this.polyObj[B]._rowData,C=-1;for(var A=0;A<H.length;A++)if(typeof(H[A])=="object")C=A;else if(H[A]==B)C=A;var D=C;B=null;if(C>0)for(A=C-1;A>=0;A--)if(typeof(H[A])=="object")B=H[A];else if(this.polyObj[H[A]]._collapsed==false&&B==null)B=H[A];if(B==null)for(A=D;A<H.length;A++)if(typeof(H[A])=="object")B=H[A];else if(this.polyObj[H[A]]._collapsed==false&&B==null)B=H[A]}if(B!=null){if(typeof(B)=="string")B=new Array(B);for(A=0;A<B.length;A++)E[B[A]]=parseInt(I=="hor"?this.polyObj[B[A]].style.width:this.polyObj[B[A]].style.height)}}return E};this.setSizes=function(B){var A=this._defineWindowMinDimension(this.base,true);this.cont.obj.setMinContentSize(A[1],A[2]);this.cont.obj.adjustContent(this.cont.obj,0);if(!this.base.offsetParent)return;if(this.cont&&B!==false)this.cont.obj.adjustContent(this.cont.obj,this._mTop,null,null,this._mBottom);var F=this.base.offsetParent.offsetWidth-this.base.offsetWidth+(this._baseWFix!=null?this._baseWFix:0),C=this.base.offsetParent.offsetHeight-this.base.offsetHeight+(this._baseHFix!=null?this._baseHFix:0);this.base.style.width=parseInt(this.base.style.width)+F+"px";this.base.style.height=parseInt(this.base.style.height)+C+"px";var D={};for(var E in this._getNearestParents("hor")){this.polyObj[E].style.width=Math.max(0,parseInt(this.polyObj[E].style.width)+F)+"px";this.polyObj[E].childNodes[0].style.width=this.polyObj[E].style.width;D[E]=1}for(E in this._getNearestParents("ver")){this.polyObj[E].style.height=Math.max(0,parseInt(this.polyObj[E].style.height)+C)+"px";this.polyObj[E].childNodes[0].style.height=this.polyObj[E].style.height;D[E]=1}for(E in D){this.polyObj[E].adjustContent(this.polyObj[E].childNodes[0],(this.polyObj[E]._noHeader?0:this.skinParams[this.skin]["cpanel_height"]));this.polyObj[E].updateNestedObjects()}this.callEvent("onResizeFinish",[]);return};dhtmlxEventable(this);this._init()}dhtmlXLayoutObject.prototype.unload=function(A){if(this._isIPad){document.removeEventListener("touchmove",this._doOnMouseMove,false);document.removeEventListener("touchend",this._doOnMouseUp,false)}else if(_isIE){document.body.detachEvent("onselectstart",this._doOnSelectStart);document.body.detachEvent("onmousemove",this._doOnMouseMove);document.body.detachEvent("onmouseup",this._doOnMouseUp)}else{document.body.removeEventListener("mousemove",this._doOnMouseMove,false);document.body.removeEventListener("mouseup",this._doOnMouseUp,false)}this._doOnSelectStart=null;this._doOnMouseMove=null;this._doOnMouseUp=null;for(var F in this.polyObj){var E=this.polyObj[F];E._isCell=null;E.skin=null;E.getId=null;E.getIndex=null;E.showHeader=null;E.hideHeader=null;E.isHeaderVisible=null;E.setText=null;E.getText=null;E.expand=null;E.collapse=null;E.isCollapsed=null;E.dock=null;E.undock=null;E.setWidth=null;E.getWidth=null;E.setHeight=null;E.getHeight=null;E.fixSize=null;E.progressOn=null;E.progressOff=null;E._doOnAttachMenu=null;E._doOnAttachToolbar=null;E._doOnAttachStatusBar=null;E._collapsed=null;E._idd=null;E._ind=null;E._rowData=null;E._dir=null;E._initCPanel=null;E._minW=null;E._minH=null;E._resize=null;E._savedH=null;E._savedW=null;E.ondblclick=null;var G=E.childNodes[0].childNodes[0];G.className="";G._dockCell=null;G._resize=null;G._h=null;G.ondblclick=null;G.childNodes[4].onclick=null;for(var C=0;C<G.childNodes.length;C++)G.childNodes[C].onselectstart=null;while(G.childNodes.length>0)G.removeChild(G.childNodes[0]);G.parentNode.removeChild(G);G=null;E._dhxContDestruct();E._dhxContDestruct=null;E.removeChild(E.childNodes[0]);E.parentNode.removeChild(E);E=null}for(F in this.polyObj)this.polyObj[F]=null;for(var D=0;D<this.items.length;D++)this.items[D]=null;this.polyObj=null;this.items=null;var B=this.tpl.childNodes[0];while(B.childNodes.length>0){while(B.childNodes[0].childNodes.length>0){C=B.childNodes[0].childNodes[0];C._top=null;C._bottom=null;C._left=null;C._right=null;C._dblClick=null;C._isSep=null;C._dir=null;C._lastClick=null;C.ondblclick=null;C.onmousedown=null;C.onmouseup=null;C.onselectstart=null;while(C.childNodes.length>0)C.removeChild(C.childNodes[0]);C.parentNode.removeChild(C);C=null}B.removeChild(B.childNodes[0])}B.parentNode.removeChild(B);B=null;this.tpl.parentNode.removeChild(this.tpl);this.tpl=null;for(F in this.sepHor)this.sepHor[F]=null;for(F in this.sepVer)this.sepVer[F]=null;this.sepHor=null;this.sepVer=null;if(this._ha){this.detachEvent(this._haEv);this._haEv=null;while(this._ha.childNodes.length>0)this._ha.removeChild(this._ha.childNodes[0]);this._ha.parentNode.removeChild(this._ha);this._ha=null}if(this._fa){this.detachEvent(this._faEv);this._faEv=null;while(this._fa.childNodes.length>0)this._fa.removeChild(this._fa.childNodes[0]);this._fa.parentNode.removeChild(this._fa);this._fa=null}this.attachHeader=null;this.attachFooter=null;this._autoHor=null;this._autoVer=null;this._availAutoSize=null;this._dimension=null;this._effects=null;this._layoutView=null;this._mBottom=null;this._mTop=null;this._minWidth=null;this._minHeight=null;this._resFunc=null;this._resObj=null;this._resX=null;this._resY=null;this._colsRatio=null;this._rowsRatio=null;this._totalCols=null;this._totalRows=null;this._xmlLoader=null;this.w=null;this.h=null;this.imagePath=null;this.skin=null;this.skinParams=null;this.tplData=null;this.tplSizes=null;this._CPanelBtnsWidth=null;this._CPanelHeight=null;if(this.sizer.parentNode)this.sizer.parentNode.removeChild(this.sizer);this.sizer=null;this._alterSizes=null;this._attachSizer=null;this._buildSurface=null;this._changeCPanelText=null;this._checkAlterMinSize=null;this._collapse=null;this._collapseEffect=null;this._collectResAreaData=null;this._defineWindowMinDimension=null;this._doCollapse=null;this._doExpand=null;this._expand=null;this._expandEffect=null;this._findDockCellsHor=null;this._findDockCellsVer=null;this._fixIcons=null;this._fixPositionInWin=null;this._fixSize=null;this._fixSplitters=null;this._getNearestParents=null;this._hideCovers=null;this._init=null;this._initWindows=null;this._isCollapsed=null;this._isResizable=null;this._progressControl=null;this._progressControlGlobal=null;this._resizeHor=null;this._resizeStop=null;this._resizeVer=null;this._resAreaData=null;this._setH=null;this._setHeight=null;this._setW=null;this._setWidth=null;this._showCovers=null;this._xmlParser=null;this.attachEvent=null;this.attachMenu=null;this.attachStatusBar=null;this.attachToolbar=null;this.callEvent=null;this.cells=null;this.checkEvent=null;this.detachEvent=null;this.dockWindow=null;this.eventCatcher=null;this.forEachItem=null;this.getEffect=null;this.getIdByIndex=null;this.getIndexById=null;this.getText=null;this.getTextTooltip=null;this.hidePanel=null;this.isPanelVisible=null;this.listAutoSizes=null;this.listViews=null;this.progressOff=null;this.progressOn=null;this.setAutoSize=null;this.setEffect=null;this.setImagePath=null;this.setSizes=null;this.setSkin=null;this.setText=null;this.showPanel=null;this.unDockWindow=null;this.unload=null;this.updateNestedObjectsArray=null;this.setCollapsedText=null;this.attachMenu=null;this.attachToolbar=null;this.attachStatusBar=null;this.detachMenu=null;this.detachToolbar=null;this.detachStatusBar=null;this.showMenu=null;this.showToolbar=null;this.showStatusBar=null;this.hideMenu=null;this.hideToolbar=null;this.hideStatusBar=null;this._cells=null;this._autosize=null;this._effect=null;this._isIPad=null;this.i18n=null;this.dhx_SeverCatcherPath=null;this._autodetectSkin=null;this._doOnDoubleClick=null;this._dblClickTM=null;this._collapsedH=null;this._collapsedW=null;this._minWLAlter=null;this._minWRAlter=null;this._minHBAlter=null;this._minHTAlter=null;this._resXStart=null;this._resYStart=null;this._resXMaxWidthLeft=null;this._resXMaxWidthRight=null;this._resYMaxHeightTop=null;this._resYMaxHeightBottom=null;if(this.obj){this.obj.parentNode.removeChild(this.obj);this.obj=null}if(this.base)if(this.base==document.body);else{this.base.parentNode.removeChild(this.base);this.base=null}if(this.cont){this.cont.obj._dhxContDestruct();this.cont=null}if(this.dhxWins){this.dhxWins.unload();this.dhxWins=null;this.dhxWinsIdPrefix=null}if(this._doOnResizeStart){if(_isIE)window.detachEvent("onresize",this._doOnResizeStart);else window.removeEventListener("resize",this._doOnResizeStart,false);this._doOnResizeStart=null;this._doOnResizeEnd=null;this._tmTime=null}this.detachAllEvents();this.detachAllEvents=null;that=null};dhtmlXLayoutObject.prototype.tplData={"1C":"<layout><autosize hor=\"a\" ver=\"a\" rows=\"1\" cols=\"1\"/><table data=\"a\"/><row><cell obj=\"a\" wh=\"1,1\" resize=\"ver\" neighbors=\"a\"/></row></layout>","2E":"<layout><autosize hor=\"a;b\" ver=\"b\" rows=\"2\" cols=\"1\"/><table data=\"a;b\"/><row><cell obj=\"a\" wh=\"1,2\" resize=\"ver\" neighbors=\"a;b\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a\" bottom=\"b\" dblclick=\"a\"/></row><row><cell obj=\"b\" wh=\"1,2\" resize=\"ver\" neighbors=\"a;b\"/></row></layout>","2U":"<layout><autosize hor=\"b\" ver=\"a;b\" rows=\"1\" cols=\"2\"/><table data=\"a,b\"/><row><cell obj=\"a\" wh=\"2,1\" resize=\"hor\" neighbors=\"a;b\"/><cell sep=\"ver\" left=\"a\" right=\"b\"/><cell obj=\"b\" wh=\"2,1\" resize=\"hor\" neighbors=\"a;b\"/></row></layout>","3E":"<layout><autosize hor=\"a;b;c\" ver=\"c\" rows=\"3\" cols=\"1\"/><table data=\"a;b;c\"/><row><cell obj=\"a\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b;c\"/></row><row sep=\"yes\"><cell sep=\"hor\" top=\"a\" bottom=\"b;c\" dblclick=\"a\"/></row><row><cell obj=\"b\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b;c\"/></row><row sep=\"yes\"><cell sep=\"hor\" top=\"a;b\" bottom=\"c\" dblclick=\"b\"/></row><row><cell obj=\"c\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b;c\"/></row></layout>","3W":"<layout><autosize hor=\"c\" ver=\"a;b;c\" rows=\"1\" cols=\"3\"/><table data=\"a,b,c\"/><row><cell obj=\"a\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b;c\"/><cell sep=\"ver\" left=\"a\" right=\"b;c\" dblclick=\"a\"/><cell obj=\"b\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b;c\"/><cell sep=\"ver\" left=\"a;b\" right=\"c\" dblclick=\"b\"/><cell obj=\"c\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b;c\"/></row></layout>","3J":"<layout><autosize hor=\"b\" ver=\"b;c\" rows=\"2\" cols=\"2\"/><table data=\"a,b;c,b\"/><row><cell obj=\"a\" wh=\"2,2\" resize=\"ver\" neighbors=\"a;c\"/><cell sep=\"ver\" left=\"a,c\" right=\"b\" dblclick=\"b\" rowspan=\"3\"/><cell obj=\"b\" wh=\"2,1\" resize=\"hor\" neighbors=\"a,c;b\" rowspan=\"3\"/></row><row sep=\"yes\"><cell sep=\"hor\" top=\"a\" bottom=\"c\" dblclick=\"a\"/></row><row><cell obj=\"c\" wh=\"2,2\" resize=\"ver\" neighbors=\"a;c\"/></row></layout>","3T":"<layout><autosize hor=\"a;c\" ver=\"b;c\" rows=\"2\" cols=\"2\"/><table data=\"a,a;b,c\"/><row><cell obj=\"a\" wh=\"1,2\" resize=\"ver\" neighbors=\"a;b,c\" colspan=\"3\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a\" bottom=\"b,c\" dblclick=\"a\" colspan=\"3\"/></row><row><cell obj=\"b\" wh=\"2,2\" resize=\"hor\" neighbors=\"b;c\"/><cell sep=\"ver\" left=\"b\" right=\"c\" dblclick=\"b\"/><cell obj=\"c\" wh=\"2,2\" resize=\"hor\" neighbors=\"b;c\"/></row></layout>","3L":"<layout><autosize hor=\"b;c\" ver=\"a;c\" rows=\"2\" cols=\"2\"/><table data=\"a,b;a,c\"/><row><cell obj=\"a\" wh=\"2,1\" resize=\"hor\" neighbors=\"a;b,c\" rowspan=\"3\"/><cell sep=\"ver\" left=\"a\" right=\"b,c\" dblclick=\"a\" rowspan=\"3\"/><cell obj=\"b\" wh=\"2,2\" resize=\"ver\" neighbors=\"b;c\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"b\" dblclick=\"b\" bottom=\"c\"/></row><row><cell obj=\"c\" wh=\"b,2\" resize=\"ver\" neighbors=\"b;c\"/></row></layout>","3U":"<layout><autosize hor=\"b;c\" ver=\"c\" rows=\"2\" cols=\"2\"/><table data=\"a,b;c,c\"/><row><cell obj=\"a\" wh=\"2,2\" resize=\"hor\" neighbors=\"a;b\"/><cell sep=\"ver\" left=\"a\" right=\"b\" dblclick=\"a\"/><cell obj=\"b\" wh=\"2,2\" resize=\"hor\" neighbors=\"a;b\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a,b\" bottom=\"c\" dblclick=\"c\" colspan=\"3\"/></row><row><cell obj=\"c\" wh=\"1,2\" resize=\"ver\" neighbors=\"a,b;c\" colspan=\"3\"/></row></layout>","4H":"<layout><autosize hor=\"d\" ver=\"a;c;d\" rows=\"2\" cols=\"3\"/><table data=\"a,b,d;a,c,d\"/><row><cell obj=\"a\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b,c;d\" rowspan=\"3\"/><cell sep=\"ver\" left=\"a\" right=\"b,c;d\" dblclick=\"a\" rowspan=\"3\"/><cell obj=\"b\" wh=\"3,2\" resize=\"ver\" neighbors=\"b;c\"/><cell sep=\"ver\" left=\"a;b,c\" right=\"d\" dblclick=\"d\" rowspan=\"3\"/><cell obj=\"d\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b,c;d\" rowspan=\"3\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"b\" dblclick=\"b\" bottom=\"c\"/></row><row><cell obj=\"c\" wh=\"3,2\" resize=\"ver\" neighbors=\"b;c\"/></row></layout>","4I":"<layout><autosize hor=\"a;c;d\" ver=\"d\" rows=\"3\" cols=\"2\"/><table data=\"a,a;b,c;d,d\"/><row><cell obj=\"a\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c;d\" colspan=\"3\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a\" bottom=\"b,c;d\" dblclick=\"a\" colspan=\"3\"/></row><row><cell obj=\"b\" wh=\"2,3\" resize=\"hor\" neighbors=\"b;c\"/><cell sep=\"ver\" left=\"b\" dblclick=\"b\" right=\"c\"/><cell obj=\"c\" wh=\"2,3\" resize=\"hor\" neighbors=\"b;c\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a;b,c\" bottom=\"d\" dblclick=\"d\" colspan=\"3\"/></row><row><cell obj=\"d\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c;d\" colspan=\"3\"/></row></layout>","4T":"<layout><autosize hor=\"a;d\" ver=\"b;c;d\" rows=\"2\" cols=\"3\"/><table data=\"a,a,a;b,c,d\"/><row><cell obj=\"a\" wh=\"1,2\" resize=\"ver\" neighbors=\"a;b,c,d\" colspan=\"5\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a\" bottom=\"b,c,d\" dblclick=\"a\" colspan=\"5\"/></row><row><cell obj=\"b\" wh=\"3,2\" resize=\"hor\" neighbors=\"b;c;d\"/><cell sep=\"ver\" left=\"b\" right=\"c;d\" dblclick=\"b\"/><cell obj=\"c\" wh=\"3,2\" resize=\"hor\" neighbors=\"b;c;d\"/><cell sep=\"ver\" left=\"b;c\" right=\"d\" dblclick=\"c\"/><cell obj=\"d\" wh=\"3,2\" resize=\"hor\" neighbors=\"b;c;d\"/></row></layout>","4U":"<layout><autosize hor=\"c;d\" ver=\"d\" rows=\"2\" cols=\"3\"/><table data=\"a,b,c;d,d,d\"/><row><cell obj=\"a\" wh=\"3,2\" resize=\"hor\" neighbors=\"a;b;c\"/><cell sep=\"ver\" left=\"a\" right=\"b;c\" dblclick=\"a\"/><cell obj=\"b\" wh=\"3,2\" resize=\"hor\" neighbors=\"a;b;c\"/><cell sep=\"ver\" left=\"a;b\" right=\"c\" dblclick=\"b\"/><cell obj=\"c\" wh=\"3,2\" resize=\"hor\" neighbors=\"a;b;c\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a,b,c\" bottom=\"d\" dblclick=\"d\" colspan=\"5\"/></row><row><cell obj=\"d\" wh=\"1,2\" resize=\"ver\" neighbors=\"a,b,c;d\" colspan=\"5\"/></row></layout>","5H":"<layout><autosize hor=\"b;c;d\" ver=\"a;c;e\" rows=\"3\" cols=\"3\"/><table data=\"a,b,e;a,c,e;a,d,e\"/><row><cell obj=\"a\" wh=\"3,1\" resize=\"hor\" neighbors=\"a;b,c,d\" rowspan=\"5\"/><cell sep=\"ver\" left=\"a\" right=\"b,c,d;e\" dblclick=\"a\" rowspan=\"5\"/><cell obj=\"b\" wh=\"3,3\" resize=\"ver\" neighbors=\"b;c;d\"/><cell sep=\"ver\" left=\"a;b,c,d\" right=\"e\" dblclick=\"e\" rowspan=\"5\"/><cell obj=\"e\" wh=\"3,1\" resize=\"hor\" neighbors=\"b,c,d;e\" rowspan=\"5\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"b\" dblclick=\"b\" bottom=\"c;d\"/></row><row><cell obj=\"c\" wh=\"3,3\" resize=\"ver\" neighbors=\"b;c;d\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"b;c\" dblclick=\"c\" bottom=\"d\"/></row><row><cell obj=\"d\" wh=\"3,3\" resize=\"ver\" neighbors=\"b;c;d\"/></row></layout>","5I":"<layout><autosize hor=\"a;d;e\" ver=\"e\" rows=\"3\" cols=\"3\"/><table data=\"a,a,a;b,c,d;e,e,e\"/><row><cell obj=\"a\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c,d;e\" colspan=\"5\"/></row><row sep=\"match\"><cell sep=\"hor\" top=\"a\" bottom=\"b,c,d;e\" dblclick=\"a\" colspan=\"5\"/></row><row><cell obj=\"b\" wh=\"3,3\" resize=\"hor\" neighbors=\"b;c;d\"/><cell sep=\"ver\" left=\"b\" right=\"c;d\" dblclick=\"b\"/><cell obj=\"c\" wh=\"3,3\" resize=\"hor\" neighbors=\"b;c;d\"/><cell sep=\"ver\" left=\"b;c\" right=\"d\" dblclick=\"c\"/><cell obj=\"d\" wh=\"3,3\" resize=\"hor\" neighbors=\"b;c;d\"/></row><row sep=\"match\"><cell sep=\"hor\" top=\"a;b,c,d\" bottom=\"e\" dblclick=\"e\" colspan=\"5\"/></row><row><cell obj=\"e\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c,d;e\" colspan=\"5\"/></row></layout>","6I":"<layout><autosize hor=\"a;e;f\" ver=\"f\" rows=\"3\" cols=\"4\"/><table data=\"a,a,a,a;b,c,d,e;f,f,f,f\"/><row><cell obj=\"a\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c,d,e;f\" colspan=\"7\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a\" bottom=\"b,c,d,e;f\" dblclick=\"a\" colspan=\"7\"/></row><row><cell obj=\"b\" wh=\"4,3\" resize=\"hor\" neighbors=\"b;c;d;e\"/><cell sep=\"ver\" left=\"b\" right=\"c;d;e\" dblclick=\"b\"/><cell obj=\"c\" wh=\"4,3\" resize=\"hor\" neighbors=\"b;c;d;e\"/><cell sep=\"ver\" left=\"b;c\" right=\"d;e\" dblclick=\"c\"/><cell obj=\"d\" wh=\"4,3\" resize=\"hor\" neighbors=\"b;c;d;e\"/><cell sep=\"ver\" left=\"b;c;d\" right=\"e\" dblclick=\"d\"/><cell obj=\"e\" wh=\"4,3\" resize=\"hor\" neighbors=\"b;c;d;e\"/></row><row sep=\"true\"><cell sep=\"hor\" top=\"a;b,c,d,e\" bottom=\"f\" dblclick=\"f\" colspan=\"7\"/></row><row><cell obj=\"f\" wh=\"1,3\" resize=\"ver\" neighbors=\"a;b,c,d,e;f\" colspan=\"7\"/></row></layout>"};dhtmlXLayoutObject.prototype._availAutoSize={"1C_hor":new Array("a"),"1C_ver":new Array("a"),"2E_hor":new Array("a;b"),"2E_ver":new Array("a","b"),"2U_hor":new Array("a","b"),"2U_ver":new Array("a;b"),"3E_hor":new Array("a;b;c"),"3E_ver":new Array("a","b","c"),"3W_hor":new Array("a","b","c"),"3W_ver":new Array("a;b;c"),"3J_hor":new Array("a;c","b"),"3J_ver":new Array("a;b","c;b"),"3T_hor":new Array("a;b","a;c"),"3T_ver":new Array("a","b;c"),"3L_hor":new Array("a","b;c"),"3L_ver":new Array("a;b","a;c"),"3U_hor":new Array("a;c","b;c"),"3U_ver":new Array("a;b","c"),"4H_hor":new Array("a","b;c","d"),"4H_ver":new Array("a;b;d","a;c;d"),"4I_hor":new Array("a;b;d","a;c;d"),"4I_ver":new Array("a","b;c","d"),"4T_hor":new Array("a;b","a;c","a;d"),"4T_ver":new Array("a","b;c;d"),"4U_hor":new Array("a;d","b;d","c;d"),"4U_ver":new Array("a;b;c","d"),"5H_hor":new Array("a","b;c;d","e"),"5H_ver":new Array("a;b;e","a;c;e","a;d;e"),"5I_hor":new Array("a;b;e","a;c;e","a;d;e"),"5I_ver":new Array("a","b;c;d","e"),"6I_hor":new Array("a;b;f","a;c;f","a;d;f","a;e;f"),"6I_ver":new Array("a","b;c;d;e","f")};dhtmlXLayoutObject.prototype.setCollapsedText=function(C,A){if(!this.polyObj[C])return;var D=this.polyObj[C].childNodes[0].childNodes[0];if(D.childNodes[D.childNodes.length-1]._ct===true)var B=D.childNodes[D.childNodes.length-1];else{B=document.createElement("DIV");B._ct=true;B.className="dhtmlxInfoBarLabel_collapsed_"+this.polyObj[C]._resize;D.appendChild(B)}B.innerHTML=A;this._fixCollapsedText();D=null};dhtmlXLayoutObject.prototype._fixCollapsedText=function(){for(var A in this.polyObj)if(this.polyObj[A]._resize=="hor"){var B=this.polyObj[A].childNodes[0].childNodes[0];if(B.childNodes[B.childNodes.length-1]._ct===true)B.childNodes[B.childNodes.length-1].style.width=Math.max(0,B.offsetHeight-B.childNodes[4].offsetTop-B.childNodes[4].offsetHeight-12)+"px"}};dhtmlXLayoutObject.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page",collapse:"Collapse",expand:"Expand",dock:"Dock",undock:"UnDock"};(function(){dhtmlx.extend_api("dhtmlXLayoutObject",{_init:function(A){return[A.parent,A.pattern,A.skin]},image_path:"setImagePath",effect:"_effect",cells:"_cells",autosize:"_autosize"},{_cells:function(A){for(var B=0;B<A.length;B++){var D=A[B],C=this.cells(D.id);if(C){if(D.height)C.setHeight(D.height);if(D.width)C.setWidth(D.width);if(D.text)C.setText(D.text);if(D.collapse)C.collapse();if(D.fix_size)C.fixSize(D.fix_size[0],D.fix_size[1]);if(D.header===false)C.hideHeader()}}},_autosize:function(A){this.setAutoSize(A[0],A[1])},_effect:function(A){if(A.collapse)this.setEffect("collapse",A.collapse);if(A.resize)this.setEffect("resize",A.resize);if(A.highlight)this.setEffect("highlight",A.highlight)}})})();dhtmlXLayoutObject.prototype.attachHeader=function(A){if(this._ha)return;if(typeof(A)!="object")A=document.getElementById(A);var B=A.offsetHeight+(this.skin=="dhx_web"?9:2)+2;this.cont.obj._offsetTop=B;this.cont.obj._offsetHeight=-B;this.setSizes();this._ha=document.createElement("DIV");this._ha.style.position="absolute";this._ha.style.top="2px";this._ha.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._ha.style.height=A.offsetHeight+"px";document.body.appendChild(this._ha);this._ha.appendChild(A);this._haEv=this.attachEvent("onResizeFinish",function(){this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})};dhtmlXLayoutObject.prototype.attachFooter=function(A){if(this._fa)return;if(typeof(A)!="object")A=document.getElementById(A);var B=A.offsetHeight+(this.skin=="dhx_web"?9:2)-2;this.cont.obj._offsetHeight=this.cont.obj._offsetHeight-B;this.setSizes();this._fa=document.createElement("DIV");this._fa.style.position="absolute";this._fa.style.bottom="2px";this._fa.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._fa.style.height=A.offsetHeight+"px";document.body.appendChild(this._fa);this._fa.appendChild(A);this._faEv=this.attachEvent("onResizeFinish",function(){this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})};dhtmlXLayoutObject.prototype._fixToolbars=function(){if(!_isIE)return;for(var A in this.polyObj)if(this.polyObj[A].vs[this.polyObj[A].av].toolbar!=null)this.polyObj[A].vs[this.polyObj[A].av].toolbar._fixSpacer()};dhtmlXLayoutObject.prototype._hideBorders=function(){if(this.skin!="dhx_terrace")return;this._cpm_old=this.skinParams[this.skin].cell_pading_max;this.skinParams[this.skin].cell_pading_max=[1,0,0,0];for(var A in this.polyObj){this.polyObj[A]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_layout_"+this.skin);this.polyObj[A].adjustContent(this.polyObj[A].childNodes[0],this.skinParams[this.skin]["cpanel_height"])}};function dhtmlXWindowsSngl(){}function dhtmlXWindowsBtn(){}function dhtmlXWindows(){if(!window.dhtmlXContainer){alert(this.i18n.dhx);return}this.engine="dhx";var C="_"+this.engine+"_Engine";if(!this[C]){alert(this.i18n.noenginealert);return}else this[C]();this._isIPad=(navigator.userAgent.search(/iPad/gi)>=0);var A=this;this.pathPrefix="dhxwins_";this.imagePath=dhtmlx.image_path||"codebase/imgs/";this.setImagePath=function(A){this.imagePath=A};this.skin=(typeof(dhtmlx)!="undefined"&&typeof(dhtmlx.skin)=="string"?dhtmlx.skin:"dhx_skyblue");this.skinParams={"dhx_black":{"header_height":21,"border_left_width":2,"border_right_width":2,"border_bottom_height":2},"dhx_blue":{"header_height":21,"border_left_width":2,"border_right_width":2,"border_bottom_height":2},"dhx_skyblue":{"header_height":21,"border_left_width":2,"border_right_width":2,"border_bottom_height":2}};this.setSkin=function(A){this.skin=A;this._engineRedrawSkin()};this.isWindow=function(A){var B=(this.wins[A]!=null);return B};this.findByText=function(A){var C=new Array();for(var B in this.wins)if(this.wins[B].getText().search(A,"gi")>=0)C[C.length]=this.wins[B];return C};this.window=function(A){var B=null;if(this.wins[A]!=null)B=this.wins[A];return B};this.forEachWindow=function(B){for(var A in this.wins)B(this.wins[A])};this.getBottommostWindow=function(){var B=this.getTopmostWindow();for(var A in this.wins)if(this.wins[A].zi<B.zi)B=this.wins[A];return(B.zi!=0?B:null)};this.getTopmostWindow=function(A){var C={"zi":0};for(var B in this.wins)if(this.wins[B].zi>C.zi){if(A==true&&!this._isWindowHidden(this.wins[B]))C=this.wins[B];if(A!=true)C=this.wins[B]}return(C.zi!=0?C:null)};this.wins={};for(var B in this.wins)delete this.wins[B];this.autoViewport=true;this._createViewport=function(){this.vp=document.body;this._clearVPCss();this.vp._css=(String(this.vp.className).length>0?this.vp.className:"");this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");this.modalCoverI=document.createElement("IFRAME");this.modalCoverI.frameBorder="0";this.modalCoverI.className="dhx_modal_cover_ifr";this.modalCoverI.setAttribute("src","javascript:false;");this.modalCoverI.style.display="none";this.modalCoverI.style.zIndex=0;this.vp.appendChild(this.modalCoverI);this.modalCoverD=document.createElement("DIV");this.modalCoverD.className="dhx_modal_cover_dv";this.modalCoverD.style.display="none";this.modalCoverD.style.zIndex=0;this.vp.appendChild(this.modalCoverD);this._vpcover=document.createElement("DIV");this._vpcover.className="dhx_content_vp_cover";this._vpcover.style.display="none";this.vp.appendChild(this._vpcover);this._carcass=document.createElement("DIV");this._carcass.className="dhx_carcass_resmove";this._carcass.style.display="none";if(_isIE){this._carcass.innerHTML="<iframe border=0 frameborder=0 style='filter: alpha(opacity=0);width: 100%;height:100%;position: absolute;top: 0px;left: 0px;width: 100%;height: 100%;'></iframe><div style='position: absolute;top: 0px;left: 0px;width: 100%;height: 100%;'></div>";this._carcass.childNodes[0].setAttribute("src","javascript:false;")}this._carcass.onselectstart=function(A){A=A||event;A.returnValue=false};this.vp.appendChild(this._carcass)};this._clearVPCss=function(A){this.vp.className=String(this.vp.className).replace(/[a-z_]{1,}/gi,function(A){return({"dhtmlx_skin_dhx_skyblue":1,"dhtmlx_skin_dhx_blue":1,"dhtmlx_skin_dhx_black":1,"dhtmlx_skin_dhx_web":1,"dhtmlx_skin_dhx_terrace":1}[A]==1?"":A)})};this._autoResizeViewport=function(){for(var D in this.wins){if(this.wins[D]._isFullScreened){this.wins[D]._content.style.width=document.body.offsetWidth-(_isIE?4:0)+"px";if(document.body.offsetHeight==0){if(window.innerHeight)this.wins[D]._content.style.height=window.innerHeight+"px";else this.wins[D]._content.style.height=document.body.scrollHeight+"px"}else this.wins[D]._content.style.height=document.body.offsetHeight-(_isIE?4:0)+"px";if(this.wins[D].layout!=null&&_isOpera)this.wins[D].layout._fixCellsContentOpera950();this.wins[D].updateNestedObjects()}if(this.wins[D]._isMaximized&&this.wins[D].style.display!="none"){this._restoreWindow(D);this._maximizeWindow(D)}}if(this.vp==document.body)return;if(this.autoViewport==false)return;this.vp.style.width=(_isIE?document.body.offsetWidth-4:window.innerWidth)+"px";this.vp.style.height=(_isIE?document.body.offsetHeight-4:window.innerHeight)+"px";for(D in this.wins){var E=this.wins[D],C=false,B=false;if(E.x>this.vp.offsetWidth-10){E.x=this.vp.offsetWidth-10;C=true}var A=(E._skinParams!=null?E._skinParams:this.skinParams[this.skin]);if(E.y+A["header_height"]>this.vp.offsetHeight){E.y=this.vp.offsetHeight-A["header_height"];B=true}if(C||B)this._engineRedrawWindowPos(E)}};this.enableAutoViewport=function(A){if(this.vp!=document.body)return;this.autoViewport=A;if(A==false){if(this.vp==document.body)document.body.className=this.vp._css;this.vp.removeChild(this.modalCoverI);this.vp.removeChild(this.modalCoverD);this.vp.removeChild(this._vpcover);this.vp.removeChild(this._carcass);this.vp=null;this.vp=document.createElement("DIV");this.vp.autocreated=true;this.vp.className="dhtmlx_winviewport dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");this.vp.style.left="0px";this.vp.style.top="0px";document.body.appendChild(this.vp);this.vp.ax=0;this.vp.ay=0;this._autoResizeViewport();this.vp.appendChild(this.modalCoverI);this.vp.appendChild(this.modalCoverD);this.vp.appendChild(this._vpcover);this.vp.appendChild(this._carcass)}};this.attachViewportTo=function(A){if(this.autoViewport==false){this.vp.removeChild(this.modalCoverI);this.vp.removeChild(this.modalCoverD);this.vp.removeChild(this._vpcover);this.vp.removeChild(this._carcass);if(this.vp!=document.body)this.vp.parentNode.removeChild(this.vp);this.vp=null;this.vp=(typeof(A)=="string"?document.getElementById(A):A);this.vp.autocreated=false;this._clearVPCss();this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");this.vp.style.position="relative";this.vp.style.overflow="hidden";this.vp.ax=0;this.vp.ay=0;this.vp.appendChild(this.modalCoverI);this.vp.appendChild(this.modalCoverD);this.vp.appendChild(this._vpcover);this.vp.appendChild(this._carcass)}};this.setViewport=function(E,D,B,A,C){if(this.autoViewport==false){this.vp.style.left=E+"px";this.vp.style.top=D+"px";this.vp.style.width=B+"px";this.vp.style.height=A+"px";if(C!=null)C.appendChild(this.vp);this.vp.ax=getAbsoluteLeft(this.vp);this.vp.ay=getAbsoluteTop(this.vp)}};this._effects={"move":false,"resize":false};this.setEffect=function(A,B){if((this._effects[A]!=null)&&(typeof(B)=="boolean"))this._effects[A]=B};this.getEffect=function(A){return this._effects[A]};this.createWindow=function(B,I,H,E,C){var F=document.createElement("DIV");F.className="dhtmlx_window_inactive";F.dir="ltr";for(var D in this.wins){this.wins[D].zi+=this.zIndexStep;this.wins[D].style.zIndex=this.wins[D].zi}F.zi=this.zIndexStep;F.style.zIndex=F.zi;F.active=false;F._isWindow=true;F.isWindow=true;F.w=Number(E);F.h=Number(C);F.x=I;F.y=H;this._engineFixWindowPosInViewport(F);F._isModal=false;F._allowResize=true;F.maxW="auto";F.maxH="auto";F.minW=200;F.minH=140;F.iconsPresent=true;F.icons=new Array(this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif",this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif");F._allowMove=true;F._allowMoveGlobal=true;F._allowResizeGlobal=true;F._keepInViewport=false;var G=this.skinParams[this.skin];F.idd=B;this.vp.appendChild(F);this._engineSetWindowBody(F);this._engineRedrawWindowPos(F);this._engineRedrawWindowSize(F);this._engineUpdateWindowIcon(F,F.icons[0]);this._engineDiableOnSelectInWindow(F,true);this.wins[B]=F;dhtmlxEventable(F);this._engineGetWindowHeader(F)[this._isIPad?"ontouchstart":"onmousedown"]=function(C){C=C||event;var B=A.wins[this.idd];if(!B.isOnTop())B.bringToTop();if(A._engineGetWindowHeaderState(B))return;if(!A._engineCheckHeaderMouseDown(B,C))return;if(!B._allowMove||!B._allowMoveGlobal)return;A._wasMoved=false;B.moveOffsetX=B.x-(A._isIPad?C.touches[0].clientX:C.clientX);B.moveOffsetY=B.y-(A._isIPad?C.touches[0].clientY:C.clientY);A.movingWin=B;if(A._effects["move"]==false){A._carcass.x=A.movingWin.x;A._carcass.y=A.movingWin.y;A._carcass.w=parseInt(A.movingWin.style.width)+(_isIE?0:-2);A._carcass.h=parseInt(A.movingWin.style.height)+(_isIE?0:-2);A._carcass.style.left=A._carcass.x+"px";A._carcass.style.top=A._carcass.y+"px";A._carcass.style.width=A._carcass.w+"px";A._carcass.style.height=A._carcass.h+"px";A._carcass.style.zIndex=A._getTopZIndex(true)+1;A._carcass._keepInViewport=F._keepInViewport}A._blockSwitcher(true);A._vpcover.style.zIndex=A.movingWin.style.zIndex-1;A._vpcover.style.display="";C.returnValue=false;C.cancelBubble=true;return false};this._engineGetWindowHeader(F).ondblclick=function(C){var B=A.wins[this.idd];if(!A._engineCheckHeaderMouseDown(B,C||event))return;if(B._allowResizeGlobal&&!B._isParked)if(B._isMaximized==true)A._restoreWindow(B.idd);else A._maximizeWindow(B.idd);B=null};F.setText=function(B){A._engineGetWindowLabel(this).innerHTML=B};F.getText=function(){return A._engineGetWindowLabel(this).innerHTML};F.getId=function(){return this.idd};F.show=function(){A._showWindow(this)};F.hide=function(){A._hideWindow(this)};F.minimize=function(){A._restoreWindow(this.idd)};F.maximize=function(){A._maximizeWindow(this.idd)};F.close=function(){A._closeWindow(this.idd)};F.park=function(){if(this._isParkedAllowed)A._parkWindow(this.winId)};F.stick=function(){A._stickWindow(this.idd)};F.unstick=function(){A._unstickWindow(this.idd)};F.isSticked=function(){return this._isSticked};F.setIcon=function(B,C){A._setWindowIcon(F,B,C)};F.getIcon=function(){return A._getWindowIcon(this)};F.clearIcon=function(){A._clearWindowIcons(this)};F.restoreIcon=function(){A._restoreWindowIcons(this)};F.keepInViewport=function(A){this._keepInViewport=A};F.setModal=function(B){if(B==true){if(A.modalWin!=null||A.modalWin==this)return;A._setWindowModal(this,true)}else{if(A.modalWin!=this)return;A._setWindowModal(this,false)}};F.isModal=function(){return this._isModal};F.isHidden=function(){return A._isWindowHidden(this)};F.isMaximized=function(){return this._isMaximized};F.isParked=function(){return this._isParked};F.allowPark=function(){A._allowParking(this)};F.denyPark=function(){A._denyParking(this)};F.isParkable=function(){return this._isParkedAllowed};F.allowResize=function(){A._allowReszieGlob(this)};F.denyResize=function(){A._denyResize(this)};F.isResizable=function(){return this._allowResizeGlobal};F.allowMove=function(){if(!this._isMaximized)this._allowMove=true;this._allowMoveGlobal=true};F.denyMove=function(){this._allowMoveGlobal=false};F.isMovable=function(){return this._allowMoveGlobal};F.bringToTop=function(){A._bringOnTop(this);A._makeActive(this)};F.bringToBottom=function(){A._bringOnBottom(this)};F.isOnTop=function(){return A._isWindowOnTop(this)};F.isOnBottom=function(){return A._isWindowOnBottom(this)};F.setPosition=function(C,B){this.x=C;this.y=B;A._engineFixWindowPosInViewport(this);A._engineRedrawWindowPos(this)};F.getPosition=function(){return new Array(this.x,this.y)};F.setDimension=function(C,B){if(C!=null){if(this.maxW!="auto")if(C>this.maxW)C=this.maxW;if(C<this.minW)C=this.minW;this.w=C}if(B!=null){if(this.maxH!="auto")if(B>this.maxH)B=this.maxH;if(B<this.minH)B=this.minH;this.h=B}A._fixWindowDimensionInViewport(this);A._engineFixWindowPosInViewport(this);A._engineRedrawWindowSize(this);this.updateNestedObjects()};F.getDimension=function(){return new Array(this.w,this.h)};F.setMaxDimension=function(C,B){this.maxW=(isNaN(C)?"auto":C);this.maxH=(isNaN(B)?"auto":B);A._engineRedrawWindowSize(this)};F.getMaxDimension=function(){return new Array(this.maxW,this.maxH)};F.setMinDimension=function(C,B){if(C!=null)this.minW=C;if(B!=null)this.minH=B;A._fixWindowDimensionInViewport(this);A._engineRedrawWindowPos(this)};F.getMinDimension=function(){return new Array(this.minW,this.minH)};F._adjustToContent=function(C,B){A._engineAdjustWindowToContent(this,C,B)};F._doOnAttachMenu=function(){A._engineRedrawWindowSize(this);this.updateNestedObjects()};F._doOnAttachToolbar=function(){A._engineRedrawWindowSize(this);this.updateNestedObjects()};F._doOnAttachStatusBar=function(){A._engineRedrawWindowSize(this);this.updateNestedObjects()};F._doOnFrameMouseDown=function(){this.bringToTop()};F._doOnFrameContentLoaded=function(){A.callEvent("onContentLoaded",[this])};F.addUserButton=function(B,F,D,E){var C=A._addUserButton(this,B,F,D,E);return C};F.removeUserButton=function(B){B=String(B).toLowerCase();if(!((B=="minmax1")||(B=="minmax2")||(B=="park")||(B=="close")||(B=="stick")||(B=="unstick")||(B=="help")))if(btn!=null)A._removeUserButton(this,B)};F.progressOn=function(){A._engineSwitchWindowProgress(this,true)};F.progressOff=function(){A._engineSwitchWindowProgress(this,false)};F.setToFullScreen=function(B){A._setWindowToFullScreen(this,B)};F.showHeader=function(){A._engineSwitchWindowHeader(this,true)};F.hideHeader=function(){A._engineSwitchWindowHeader(this,false)};F.progressOff();F.canStartResize=false;F.onmousemove=function(B){if(_isIE&&this._isMaximized)return true;B=B||event;var E=B.target||B.srcElement;if(String(E.className).search("dhtmlx_wins_resizer")<0)E=null;if(!this._allowResize||this._allowResizeGlobal==false||!E){if(E)if(E.style.cursor!="default")E.style.cursor="default";if(this.style.cursor!="default")this.style.cursor="default";this.canStartResize=false;return true}if(A.resizingWin!=null)return;if(A.movingWin!=null)return;if(this._isParked)return;if(A._isIPad)var C=B.touches[0].clientX,D=B.touches[0].clientY;else C=(_isIE||_isOpera?B.offsetX:B.layerX),D=(_isIE||_isOpera?B.offsetY:B.layerY);var H=A._engineAllowWindowResize(F,E,C,D);if(H==null){this.canStartResize=false;if(E.style.cursor!="default")E.style.cursor="default";if(this.style.cursor!="default")this.style.cursor="default";return}A.resizingDirs=H;var G={x:B.clientX,y:B.clientY};switch(A.resizingDirs){case"border_left":E.style.cursor="w-resize";this.resizeOffsetX=this.x-G.x;break;case"border_right":E.style.cursor="e-resize";this.resizeOffsetXW=this.x+this.w-G.x;break;case"border_top":E.style.cursor="n-resize";this.resizeOffsetY=this.y-G.y;break;case"border_bottom":E.style.cursor="n-resize";this.resizeOffsetYH=this.y+this.h-G.y;break;case"corner_left":E.style.cursor="sw-resize";this.resizeOffsetX=this.x-B.clientX;this.resizeOffsetYH=this.y+this.h-G.y;break;case"corner_up_left":E.style.cursor="nw-resize";this.resizeOffsetY=this.y-G.y;this.resizeOffsetX=this.x-G.x;break;case"corner_right":E.style.cursor="nw-resize";this.resizeOffsetXW=this.x+this.w-G.x;this.resizeOffsetYH=this.y+this.h-G.y;break;case"corner_up_right":E.style.cursor="sw-resize";this.resizeOffsetY=this.y-G.y;this.resizeOffsetXW=this.x+this.w-G.x;break}this.canStartResize=true;this.style.cursor=E.style.cursor;B.cancelBubble=true;B.returnValue=false;return false};F.onmousedown=function(B){if(A._getActive()!=this)A._makeActive(this);A._bringOnTop(this);if(this.canStartResize){A._blockSwitcher(true);A.resizingWin=this;if(!A._effects["resize"]){A._carcass.x=A.resizingWin.x;A._carcass.y=A.resizingWin.y;A._carcass.w=Number(A.resizingWin.w)+(_isIE?0:-2);A._carcass.h=Number(A.resizingWin.h)+(_isIE?0:-2);A._carcass.style.left=A._carcass.x+"px";A._carcass.style.top=A._carcass.y+"px";A._carcass.style.width=A._carcass.w+"px";A._carcass.style.height=A._carcass.h+"px";A._carcass.style.zIndex=A._getTopZIndex(true)+1;A._carcass.style.cursor=this.style.cursor;A._carcass._keepInViewport=this._keepInViewport;A._carcass.style.display=""}A._vpcover.style.zIndex=A.resizingWin.style.zIndex-1;A._vpcover.style.display="";if(this.vs[this.av].layout)this.callEvent("_onBeforeTryResize",[this]);B=B||event}};this._addDefaultButtons(F.idd);F.button=function(A){A=String(A).toLowerCase();var B=null;if(this.btns[A]!=null)B=this.btns[A];return B};F.center=function(){A._centerWindow(this,false)};F.centerOnScreen=function(){A._centerWindow(this,true)};F._attachContent("empty",null);F._redraw=function(){A._engineRedrawWindowSize(this)};F.bringToTop();this._engineRedrawWindowSize(F);return this.wins[B]};this.zIndexStep=50;this._getTopZIndex=function(A){var C=0;for(var B in this.wins)if(A==true){if(this.wins[B].zi>C)C=this.wins[B].zi}else if(this.wins[B].zi>C&&!this.wins[B]._isSticked)C=this.wins[B].zi;return C};this.movingWin=null;this._moveWindow=function(B){if(this.movingWin!=null){if(!this.movingWin._allowMove||!this.movingWin._allowMoveGlobal)return;if(this._effects["move"]==true){if(this._engineGetWindowHeader(this.movingWin).style.cursor!="move")this._engineGetWindowHeader(this.movingWin).style.cursor="move";this._wasMoved=true;this.movingWin.x=(this._isIPad?B.touches[0].clientX:B.clientX)+this.movingWin.moveOffsetX;this.movingWin.y=(this._isIPad?B.touches[0].clientY:B.clientY)+this.movingWin.moveOffsetY;this._engineFixWindowPosInViewport(this.movingWin);this._engineRedrawWindowPos(this.movingWin)}else{if(this._carcass.style.display!="")this._carcass.style.display="";if(this._carcass.style.cursor!="move")this._carcass.style.cursor="move";if(this._engineGetWindowHeader(this.movingWin).style.cursor!="move")this._engineGetWindowHeader(this.movingWin).style.cursor="move";this._carcass.x=(this._isIPad?B.touches[0].clientX:B.clientX)+this.movingWin.moveOffsetX;this._carcass.y=(this._isIPad?B.touches[0].clientY:B.clientY)+this.movingWin.moveOffsetY;this._wasMoved=true;this._engineFixWindowPosInViewport(this._carcass);this._carcass.style.left=this._carcass.x+"px";this._carcass.style.top=this._carcass.y+"px"}}if(this.resizingWin!=null){if(!this.resizingWin._allowResize)return;var D={x:B.clientX,y:B.clientY};if(this.resizingDirs=="border_left"||this.resizingDirs=="corner_left"||this.resizingDirs=="corner_up_left")if(this._effects["resize"]){var C=D.x+this.resizingWin.resizeOffsetX,A=(C>this.resizingWin.x?-1:1);newW=this.resizingWin.w+Math.abs(C-this.resizingWin.x)*A;if((newW<this.resizingWin.minW)&&(A<0)){this.resizingWin.x=this.resizingWin.x+this.resizingWin.w-this.resizingWin.minW;this.resizingWin.w=this.resizingWin.minW}else{this.resizingWin.w=newW;this.resizingWin.x=C}this._engineRedrawWindowPos(this.resizingWin);this._engineRedrawWindowSize(this.resizingWin)}else{C=D.x+this.resizingWin.resizeOffsetX,A=(C>this._carcass.x?-1:1);newW=this._carcass.w+Math.abs(C-this._carcass.x)*A;if(newW>this.resizingWin.maxW){newW=this.resizingWin.maxW;C=this._carcass.x+this._carcass.w-this.resizingWin.maxW}if((newW<this.resizingWin.minW)&&(A<0)){this._carcass.x=this._carcass.x+this._carcass.w-this.resizingWin.minW;this._carcass.w=this.resizingWin.minW}else{this._carcass.w=newW;this._carcass.x=C}this._carcass.style.left=this._carcass.x+"px";this._carcass.style.width=this._carcass.w+"px"}if(this.resizingDirs=="border_right"||this.resizingDirs=="corner_right"||this.resizingDirs=="corner_up_right")if(this._effects["resize"]){C=D.x-(this.resizingWin.x+this.resizingWin.w)+this.resizingWin.resizeOffsetXW;newW=this.resizingWin.w+C;if(newW<this.resizingWin.minW)newW=this.resizingWin.minW;this.resizingWin.w=newW;this._engineRedrawWindowPos(this.resizingWin);this._engineRedrawWindowSize(this.resizingWin)}else{C=D.x-(this._carcass.x+this._carcass.w)+this.resizingWin.resizeOffsetXW;newW=this._carcass.w+C;if(newW<this.resizingWin.minW)newW=this.resizingWin.minW;if(this.resizingWin.maxW!="auto")if(newW>this.resizingWin.maxW)newW=this.resizingWin.maxW;this._carcass.w=newW;this._carcass.style.width=this._carcass.w+"px"}if(this.resizingDirs=="border_bottom"||this.resizingDirs=="corner_left"||this.resizingDirs=="corner_right")if(this._effects["resize"]){C=D.y-(this.resizingWin.y+this.resizingWin.h)+this.resizingWin.resizeOffsetYH;newH=this.resizingWin.h+C;if(newH<this.resizingWin.minH)newH=this.resizingWin.minH;this.resizingWin.h=newH;this._engineRedrawWindowPos(this.resizingWin);this._engineRedrawWindowSize(this.resizingWin)}else{C=D.y-(this._carcass.y+this._carcass.h)+this.resizingWin.resizeOffsetYH;newH=this._carcass.h+C;if(newH<this.resizingWin.minH)newH=this.resizingWin.minH;if(newH>this.resizingWin.maxH)newH=this.resizingWin.maxH;this._carcass.h=newH;this._carcass.style.height=this._carcass.h+"px"}if(this.resizingDirs=="border_top"||this.resizingDirs=="corner_up_right"||this.resizingDirs=="corner_up_left")if(this._effects["resize"]);else{C=D.y+this.resizingWin.resizeOffsetY,A=(C>this.resizingWin.y?-1:1);newH=this.resizingWin.h+Math.abs(C-this.resizingWin.y)*A;if(newH>this.resizingWin.maxH){newH=this.resizingWin.maxH;C=this.resizingWin.y+this.resizingWin.h-this.resizingWin.maxH}if((newH<this.resizingWin.minH)&&(A<0)){this._carcass.y=this._carcass.y+this._carcass.h-this.resizingWin.minH;this._carcass.h=this.resizingWin.minH}else{this._carcass.h=newH+(_isIE?0:-2);this._carcass.y=C}this._carcass.style.top=this._carcass.y+"px";this._carcass.style.height=this._carcass.h+"px"}}};this._stopMove=function(){if(this.movingWin!=null){if(this._effects["move"]){var B=this.movingWin;this.movingWin=null;this._blockSwitcher(false);this._engineGetWindowHeader(B).style.cursor="";if(_isFF){B.h++;A._engineRedrawWindowPos(B);B.h--;A._engineRedrawWindowPos(B)}}else{this._carcass.style.cursor="";this._carcass.style.display="none";B=this.movingWin;this._engineGetWindowHeader(B).style.cursor="";this.movingWin=null;this._blockSwitcher(false);B.setPosition(parseInt(this._carcass.style.left),parseInt(this._carcass.style.top))}this._vpcover.style.display="none";if(this._wasMoved)if(B.checkEvent("onMoveFinish"))B.callEvent("onMoveFinish",[B]);else this.callEvent("onMoveFinish",[B]);this._wasMoved=false}if(this.resizingWin!=null){B=this.resizingWin;this.resizingWin=null;this._blockSwitcher(false);if(!this._effects["resize"]){this._carcass.style.display="none";B.setDimension(this._carcass.w+(_isIE?0:2),this._carcass.h+(_isIE?0:2));B.setPosition(this._carcass.x,this._carcass.y)}else B.updateNestedObjects();if(B.vs[B.av].layout)B.vs[B.av].layout.callEvent("onResize",[]);this._vpcover.style.display="none";if(B.checkEvent("onResizeFinish"))B.callEvent("onResizeFinish",[B]);else this.callEvent("onResizeFinish",[B])}};this._fixWindowDimensionInViewport=function(A){if(A.w<A.minW)A.w=A.minW;if(A._isParked)return;if(A.h<A.minH)A.h=A.minH};this._bringOnTop=function(C){var A=C.zi,D=this._getTopZIndex(C._isSticked);for(var B in this.wins)if(this.wins[B]!=C)if(C._isSticked||(!C._isSticked&&!this.wins[B]._isSticked))if(this.wins[B].zi>A){this.wins[B].zi=this.wins[B].zi-this.zIndexStep;this.wins[B].style.zIndex=this.wins[B].zi}C.zi=D;C.style.zIndex=C.zi};this._makeActive=function(D,B){for(var C in this.wins)if(this.wins[C]==D){var A=false;if(this.wins[C].className!="dhtmlx_window_active"&&!B)A=true;this.wins[C].className="dhtmlx_window_active";this._engineUpdateWindowIcon(this.wins[C],this.wins[C].icons[0]);if(A==true)if(D.checkEvent("onFocus"))D.callEvent("onFocus",[D]);else this.callEvent("onFocus",[D])}else{this.wins[C].className="dhtmlx_window_inactive";this._engineUpdateWindowIcon(this.wins[C],this.wins[C].icons[1])}};this._getActive=function(){var B=null;for(var A in this.wins)if(this.wins[A].className=="dhtmlx_window_active")B=this.wins[A];return B};this._centerWindow=function(D,A){if(D._isMaximized==true)return;if(A==true)var F=(_isIE?document.body.offsetWidth:window.innerWidth),E=(_isIE?document.body.offsetHeight:window.innerHeight);else F=(this.vp==document.body?document.body.offsetWidth:(Number(parseInt(this.vp.style.width))&&String(this.vp.style.width).search("%")==-1?parseInt(this.vp.style.width):this.vp.offsetWidth)),E=(this.vp==document.body?document.body.offsetHeight:(Number(parseInt(this.vp.style.height))&&String(this.vp.style.height).search("%")==-1?parseInt(this.vp.style.height):this.vp.offsetHeight));var B=Math.round((F/2)-(D.w/2)),C=Math.round((E/2)-(D.h/2));D.x=B;D.y=C;this._engineFixWindowPosInViewport(D);this._engineRedrawWindowPos(D)};this._addDefaultButtons=function(I){var K=this.wins[I],J=this._engineGetWindowButton(K,"stick");J.title=this.i18n.stick;J.isVisible=false;J.style.display="none";J._isEnabled=true;J.isPressed=false;J.label="stick";J._doOnClick=function(){this.isPressed=true;A._stickWindow(this.winId)};var H=this._engineGetWindowButton(K,"sticked");H.title=this.i18n.unstick;H.isVisible=false;H.style.display="none";H._isEnabled=true;H.isPressed=false;H.label="sticked";H._doOnClick=function(){this.isPressed=false;A._unstickWindow(this.winId)};var E=this._engineGetWindowButton(K,"help");E.title=this.i18n.help;E.isVisible=false;E.style.display="none";E._isEnabled=true;E.isPressed=false;E.label="help";E._doOnClick=function(){A._needHelp(this.winId)};var D=this._engineGetWindowButton(K,"park");D.titleIfParked=this.i18n.parkdown;D.titleIfNotParked=this.i18n.parkup;D.title=D.titleIfNotParked;D.isVisible=true;D._isEnabled=true;D.isPressed=false;D.label="park";D._doOnClick=function(){A._parkWindow(this.winId)};var G=this._engineGetWindowButton(K,"minmax1");G.title=this.i18n.maximize;G.isVisible=true;G._isEnabled=true;G.isPressed=false;G.label="minmax1";G._doOnClick=function(){A._maximizeWindow(this.winId)};var B=this._engineGetWindowButton(K,"minmax2");B.title=this.i18n.restore;B.isVisible=false;B.style.display="none";B._isEnabled=true;B.isPressed=false;B.label="minmax2";B._doOnClick=function(){A._restoreWindow(this.winId)};var L=this._engineGetWindowButton(K,"close");L.title=this.i18n.close;L.isVisible=true;L._isEnabled=true;L.isPressed=false;L.label="close";L._doOnClick=function(){A._closeWindow(this.winId)};var C=this._engineGetWindowButton(K,"dock");C.title=this.i18n.dock;C.style.display="none";C.isVisible=false;C._isEnabled=true;C.isPressed=false;C.label="dock";C._doOnClick=function(){};K._isSticked=false;K._isParked=false;K._isParkedAllowed=true;K._isMaximized=false;K._isDocked=false;K.btns={};K.btns["stick"]=J;K.btns["sticked"]=H;K.btns["help"]=E;K.btns["park"]=D;K.btns["minmax1"]=G;K.btns["minmax2"]=B;K.btns["close"]=L;K.btns["dock"]=C;for(var F in K.btns){K.btns[F].winId=K.idd;this._attachEventsOnButton(K.idd,F)}K=J=H=E=D=G=B=L=C=null};this._attachEventsOnButton=function(C,D){var B=this.wins[C].btns[D];if(!this._isIPad){B.onmouseover=function(){if(this._isEnabled)this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_"+(this.isPressed?"pressed":"default");else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"};B.onmouseout=function(){if(this._isEnabled){this.isPressed=false;this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_default"}else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"};B.onmousedown=function(){if(this._isEnabled){this.isPressed=true;this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_pressed"}else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"};B.onmouseup=function(){if(this._isEnabled){var B=this.isPressed;this.isPressed=false;this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_default";if(B)if(this.checkEvent("onClick"))this.callEvent("onClick",[A.wins[this.winId],this]);else this._doOnClick()}else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"}}else{B.ontouchstart=function(A){A.cancelBubble=true;A.returnValue=false;return false};B.ontouchend=function(B){B.cancelBubble=true;B.returnValue=false;if(!this._isEnabled)return false;if(this.checkEvent("onClick"))this.callEvent("onClick",[A.wins[this.winId],this]);else this._doOnClick();return false}}B.show=function(){A._showButton(A.wins[this.winId],this.label,true)};B.hide=function(){A._hideButton(A.wins[this.winId],this.label,true)};B.enable=function(){A._enableButton(A.wins[this.winId],this.label)};B.disable=function(){A._disableButton(A.wins[this.winId],this.label)};B.isEnabled=function(){return this._isEnabled};B.isHidden=function(){return(!this.isVisible)};dhtmlxEventable(B);B=null};this._parkWindow=function(C,B){var D=this.wins[C];if(!D._isParkedAllowed&&!B)return;if(this.enableParkEffect&&D.parkBusy)return;if(D._isParked){if(this.enableParkEffect&&!B){D.parkBusy=true;this._doParkDown(D)}else{D.h=D.lastParkH;this._engineRedrawWindowSize(D);this._engineDoOnWindowParkDown(D);D.updateNestedObjects();D.btns["park"].title=D.btns["park"].titleIfNotParked;if(D._allowResizeGlobal==true){this._enableButton(D,"minmax1");this._enableButton(D,"minmax2")}D._isParked=false;if(!B)if(D.checkEvent("onParkDown"))D.callEvent("onParkDown",[D]);else this.callEvent("onParkDown",[D])}}else if(this.enableParkEffect&&!B){D.lastParkH=(String(D.h).search(/\%$/)==-1?D.h:D.offsetHeight);if(D._allowResizeGlobal==true){this._disableButton(D,"minmax1");this._disableButton(D,"minmax2")}if(this.enableParkEffect){D.parkBusy=true;this._doParkUp(D)}else{var A=(D._skinParams!=null?D._skinParams:this.skinParams[this.skin]);D.h=A["header_height"]+A["border_bottom_height"];D.btns["park"].title=D.btns["park"].titleIfParked}}else{D.lastParkH=(String(D.h).search(/\%$/)==-1?D.h:D.offsetHeight);D.h=this._engineGetWindowParkedHeight(D);this._engineRedrawWindowSize(D);this._engineDoOnWindowParkUp(D);D.btns["park"].title=D.btns["park"].titleIfParked;D._isParked=true;if(!B)if(D.checkEvent("onParkUp"))D.callEvent("onParkUp",[D]);else this.callEvent("onParkUp",[D])}D=null};this._allowParking=function(A){A._isParkedAllowed=true;this._enableButton(A,"park")};this._denyParking=function(A){A._isParkedAllowed=false;this._disableButton(A,"park")};this.enableParkEffect=false;this.parkStartSpeed=80;this.parkSpeed=this.parkStartSpeed;this.parkTM=null;this.parkTMTime=5;this._doParkUp=function(C){if(String(C.h).search(/\%$/)!=-1)C.h=C.offsetHeight;C.h-=this.parkSpeed;var B=this._engineGetWindowParkedHeight(C);if(C.h<=B){C.h=B;this._engineGetWindowButton(C,"park").title=this._engineGetWindowButton(C,"park").titleIfParked;C._isParked=true;C.parkBusy=false;this._engineRedrawWindowSize(C);this._engineDoOnWindowParkUp(C);if(C.checkEvent("onParkUp"))C.callEvent("onParkUp",[C]);else this.callEvent("onParkUp",[C])}else{this._engineRedrawWindowSize(C);this.parkTM=window.setTimeout(function(){A._doParkUp(C)},this.parkTMTime)}};this._doParkDown=function(B){B.h+=this.parkSpeed;if(B.h>=B.lastParkH){B.h=B.lastParkH;this._engineGetWindowButton(B,"park").title=this._engineGetWindowButton(B,"park").titleIfNotParked;if(B._allowResizeGlobal==true){this._enableButton(B,"minmax1");this._enableButton(B,"minmax2")}B._isParked=false;B.parkBusy=false;this._engineRedrawWindowSize(B);B.updateNestedObjects();this._engineDoOnWindowParkDown(B);if(B.checkEvent("onParkDown"))B.callEvent("onParkDown",[B]);else this.callEvent("onParkDown",[B])}else{this._engineRedrawWindowSize(B);this.parkTM=window.setTimeout(function(){A._doParkDown(B)},this.parkTMTime)}};this._enableButton=function(C,A){var B=this._engineGetWindowButton(C,A);if(!B)return;B._isEnabled=true;B.className="dhtmlx_wins_btns_button dhtmlx_button_"+B.label+"_default";B=null};this._disableButton=function(C,A){var B=this._engineGetWindowButton(C,A);if(!B)return;B._isEnabled=false;B.className="dhtmlx_wins_btns_button dhtmlx_button_"+C.btns[A].label+"_disabled";B=null};this._allowReszieGlob=function(A){A._allowResizeGlobal=true;this._enableButton(A,"minmax1");this._enableButton(A,"minmax2")};this._denyResize=function(A){A._allowResizeGlobal=false;this._disableButton(A,"minmax1");this._disableButton(A,"minmax2")};this._maximizeWindow=function(B){var C=this.wins[B];if(C._allowResizeGlobal==false)return;var A=C._isParked;if(A)this._parkWindow(C.idd,true);C.lastMaximizeX=C.x;C.lastMaximizeY=C.y;C.lastMaximizeW=C.w;C.lastMaximizeH=C.h;if(C.maxW!="auto"&&C.maxW!="auto"){C.x=Math.round(C.x+(C.w-C.maxW)/2);C.y=Math.round(C.y+(C.h-C.maxH)/2);C._allowMove=true}else{C.x=0;C.y=0;C._allowMove=false}C._isMaximized=true;C._allowResize=false;C.w=(C.maxW=="auto"?(this.vp==document.body?"100%":(this.vp.style.width!=""&&String(this.vp.style.width).search("%")==-1?parseInt(this.vp.style.width):this.vp.offsetWidth)):C.maxW);C.h=(C.maxH=="auto"?(this.vp==document.body?"100%":(this.vp.style.height!=""&&String(this.vp.style.width).search("%")==-1?parseInt(this.vp.style.height):this.vp.offsetHeight)):C.maxH);this._hideButton(C,"minmax1");this._showButton(C,"minmax2");this._engineRedrawWindowPos(C);if(A)this._parkWindow(C.idd,true);else{this._engineRedrawWindowSize(C);C.updateNestedObjects()}if(C.checkEvent("onMaximize"))C.callEvent("onMaximize",[C]);else this.callEvent("onMaximize",[C]);C=null};this._restoreWindow=function(B){var C=this.wins[B];if(C._allowResizeGlobal==false)return;if(C.layout)C.layout._defineWindowMinDimension(C);var A=C._isParked;if(A)this._parkWindow(C.idd,true);if(C.maxW!="auto"&&C.maxW!="auto"){C.x=Math.round(C.x+(C.w-C.lastMaximizeW)/2);C.y=Math.round(C.y+(C.h-C.lastMaximizeH)/2)}else{C.x=C.lastMaximizeX;C.y=C.lastMaximizeY}C.w=C.lastMaximizeW;C.h=C.lastMaximizeH;C._isMaximized=false;C._allowMove=C._allowMoveGlobal;C._allowResize=true;this._fixWindowDimensionInViewport(C);this._hideButton(C,"minmax2");this._showButton(C,"minmax1");this._engineRedrawWindowPos(C);if(A)this._parkWindow(C.idd,true);else{this._engineRedrawWindowSize(C);C.updateNestedObjects()}if(C.checkEvent("onMinimize"))C.callEvent("onMinimize",[C]);else this.callEvent("onMinimize",[C]);C=null};this._showButton=function(D,B,A){var C=this._engineGetWindowButton(D,B);if(!C)return;if((!A&&C._userHide)||C.isVisible===true)return;C.isVisible=true;C.style.display="";C.style.visibility="visible";C._userHide=!(A==true);this._engineRedrawWindowTitle(D);C=null};this._hideButton=function(D,A,C){var B=this._engineGetWindowButton(D,A);if(!B||(!C&&B.isVisible===false))return;B.isVisible=false;B.style.display="none";B.style.visibility="hidden";B._userHide=(C==true);this._engineRedrawWindowTitle(D);B=null};this._showWindow=function(B){B.style.display="";if(B.checkEvent("onShow"))B.callEvent("onShow",[B]);else this.callEvent("onShow",[B]);var A=this._getActive();if(A==null){this._bringOnTop(B);this._makeActive(B)}else if(this._isWindowHidden(A)){this._bringOnTop(B);this._makeActive(B)}};this._hideWindow=function(B){B.style.display="none";if(B.checkEvent("onHide"))B.callEvent("onHide",[B]);else this.callEvent("onHide",[B]);var A=this.getTopmostWindow(true);if(A!=null){this._bringOnTop(A);this._makeActive(A)}};this._isWindowHidden=function(B){var A=(B.style.display=="none");return A};this._closeWindow=function(B){var C=this.wins[B];if(this._focusFixIE){this._focusFixIE.style.top=(this.vp==document.body?0:getAbsoluteTop(this.vp))+Number(C.y)+"px";this._focusFixIE.focus()}if(C.checkEvent("onClose")){if(!C.callEvent("onClose",[C]))return}else if(!this.callEvent("onClose",[C]))return;C=null;this._removeWindowGlobal(B);var D={"zi":0};for(var A in this.wins)if(this.wins[A].zi>D.zi)D=this.wins[A];if(D!=null)this._makeActive(D)};this._needHelp=function(A){var B=this.wins[A];if(B.checkEvent("onHelp"))B.callEvent("onHelp",[B]);else this.callEvent("onHelp",[B]);B=null};this._setWindowIcon=function(A,B,C){A.iconsPresent=true;A.icons[0]=this.imagePath+B;A.icons[1]=this.imagePath+C;this._engineUpdateWindowIcon(A,A.icons[A.isOnTop()?0:1])};this._getWindowIcon=function(A){if(A.iconsPresent)return new Array(A.icons[0],A.icons[1]);else return new Array(null,null)};this._clearWindowIcons=function(A){A.iconsPresent=false;A.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_blank.gif";A.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_blank.gif";this._engineUpdateWindowIcon(A,A.icons[A.isOnTop()?0:1])};this._restoreWindowIcons=function(A){A.iconsPresent=true;A.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif";A.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif";this._engineUpdateWindowIcon(A,A.icons[A.className=="dhtmlx_window_active"?0:1])};this._attachWindowContentTo=function(D,C,A,E){var B=this._engineGetWindowContent(D).parentNode;B.parentNode.removeChild(B);D.hide();B.style.left="0px";B.style.top="0px";B.style.width=(A!=null?A:C.offsetWidth)+"px";B.style.height=(E!=null?E:C.offsetHeight)+"px";B.style.position="relative";C.appendChild(B);this._engineGetWindowContent(D).style.width=B.style.width;this._engineGetWindowContent(D).style.height=B.style.height};this._setWindowToFullScreen=function(D,C){if(C==true){var B=D._content;B.parentNode.removeChild(B);D.hide();D._isFullScreened=true;B.style.left="0px";B.style.top="0px";B.style.width=document.body.offsetWidth-(_isIE?4:0)+"px";if(document.body.offsetHeight==0){if(window.innerHeight)B.style.height=window.innerHeight+"px";else B.style.height=document.body.scrollHeight+"px"}else B.style.height=document.body.offsetHeight-(_isIE?4:0)+"px";B.style.position="absolute";document.body.appendChild(B)}else if(C==false){var B=D.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1],A=D._content;document.body.removeChild(A);B.appendChild(A);D._isFullScreened=false;D.setDimension(D.w,D.h);D.show();D.bringToTop();D.center()}D.updateNestedObjects()};this._isWindowOnTop=function(B){var A=(this.getTopmostWindow()==B);return A};this._bringOnBottom=function(B){for(var A in this.wins)if(this.wins[A].zi<B.zi){this.wins[A].zi+=this.zIndexStep;this.wins[A].style.zIndex=this.wins[A].zi}B.zi=50;B.style.zIndex=B.zi;this._makeActive(this.getTopmostWindow())};this._isWindowOnBottom=function(C){var B=true;for(var A in this.wins)if(this.wins[A]!=C)B=B&&(this.wins[A].zi>C.zi);return B};this._stickWindow=function(A){var B=this.wins[A];B._isSticked=true;this._hideButton(B,"stick");this._showButton(B,"sticked");this._bringOnTop(B);B=null};this._unstickWindow=function(A){var B=this.wins[A];B._isSticked=false;this._hideButton(B,"sticked");this._showButton(B,"stick");this._bringOnTopAnyStickedWindows();B=null};this._addUserButton=function(D,A,E,B){A=String(A).toLowerCase();var C=this._engineAddUserButton(D,A,E);C.title=B;C.isVisible=true;C._isEnabled=true;C.isPressed=false;C.label=A;D.btns[A]=C;D.btns[A].winId=D.idd;D.btns[A]._doOnClick=function(){};this._attachEventsOnButton(D.idd,A);C=null};this._removeUserButton=function(B,A){this._removeButtonGlobal(B,A)};this._blockSwitcher=function(B){for(var A in this.wins)if(B==true)this.wins[A].showCoverBlocker();else this.wins[A].hideCoverBlocker()};this.resizingWin=null;this.modalWin=null;this.resizingDirs="none";if(_isIE){this._focusFixIE=document.createElement("INPUT");this._focusFixIE.className="dhx_windows_ieonclosefocusfix";this._focusFixIE.style.position="absolute";this._focusFixIE.style.width="1px";this._focusFixIE.style.height="1px";this._focusFixIE.style.border="none";this._focusFixIE.style.background="none";this._focusFixIE.style.left="-10px";this._focusFixIE.style.fontSize="1px";document.body.appendChild(this._focusFixIE)}this._createViewport();this._doOnMouseUp=function(){if(A!=null)A._stopMove()};this._doOnMoseMove=function(B){B=B||event;if(A!=null)A._moveWindow(B)};this._resizeTM=null;this._resizeTMTime=200;this._lw=null;this._doOnResize=function(){if(A._lw!=document.documentElement.clientHeight){window.clearTimeout(A._resizeTM);A._resizeTM=window.setTimeout(function(){A._autoResizeViewport()},A._resizeTMTime)}A._lw=document.documentElement.clientHeight};this._doOnUnload=function(){A.unload()};this._doOnSelectStart=function(B){B=B||event;if(A.movingWin!=null||A.resizingWin!=null)B.returnValue=false};if(_isIE)document.body.attachEvent("onselectstart",this._doOnSelectStart);dhtmlxEvent(window,"resize",this._doOnResize);dhtmlxEvent(document.body,"unload",this._doOnUnload);if(this._isIPad){document.addEventListener("touchmove",this._doOnMoseMove,false);document.addEventListener("touchend",this._doOnMouseUp,false)}else{dhtmlxEvent(document.body,"mouseup",this._doOnMouseUp);dhtmlxEvent(this.vp,"mousemove",this._doOnMoseMove);dhtmlxEvent(this.vp,"mouseup",this._doOnMouseUp)}this._setWindowModal=function(B,A){if(A==true){this._makeActive(B);this._bringOnTop(B);this.modalWin=B;B._isModal=true;this.modalCoverI.style.zIndex=B.zi-2;this.modalCoverI.style.display="";this.modalCoverD.style.zIndex=B.zi-2;this.modalCoverD.style.display=""}else{this.modalWin=null;B._isModal=false;this.modalCoverI.style.zIndex=0;this.modalCoverI.style.display="none";this.modalCoverD.style.zIndex=0;this.modalCoverD.style.display="none"}};this._bringOnTopAnyStickedWindows=function(){var C=new Array();for(var B in this.wins)if(this.wins[B]._isSticked)C[C.length]=this.wins[B];for(var A=0;A<C.length;A++)this._bringOnTop(C[A]);if(C.length==0)for(B in this.wins)if(this.wins[B].className=="dhtmlx_window_active")this._bringOnTop(this.wins[B])};this.unload=function(){this._clearAll()};this._removeButtonGlobal=function(C,B){if(!this.wins[C])return;if(!this.wins[C].btns[B])return;var A=this.wins[C].btns[B];A.title=null;A.isVisible=null;A._isEnabled=null;A.isPressed=null;A.label=null;A._doOnClick=null;A.detachAllEvents();A.attachEvent=null;A.callEvent=null;A.checkEvent=null;A.detachEvent=null;A.detachAllEvents=null;A.disable=null;A.enable=null;A.eventCatcher=null;A.hide=null;A.isEnabled=null;A.isHidden=null;A.show=null;A.onmousedown=null;A.onmouseout=null;A.onmouseover=null;A.onmouseup=null;A.ontouchstart=null;A.ontouchend=null;if(A.parentNode)A.parentNode.removeChild(A);A=null;this.wins[C].btns[B]=null;delete this.wins[C].btns[B]};this._removeWindowGlobal=function(C){var D=this.wins[C];if(this.modalWin==D)this._setWindowModal(D,false);var A=D.coverBlocker();A.onselectstart=null;A=null;this._engineDiableOnSelectInWindow(D,false);D._dhxContDestruct();this._engineGetWindowHeader(D).onmousedown=null;this._engineGetWindowHeader(D).ondblclick=null;this.movingWin=null;this.resizingWin=null;for(var B in D.btns)this._removeButtonGlobal(D,B);D.btns=null;D.detachAllEvents();D._adjustToContent=null;D._doOnAttachMenu=null;D._doOnAttachStatusBar=null;D._doOnAttachToolbar=null;D._doOnFrameMouseDown=null;D._doOnFrameContentLoaded=null;D._redraw=null;D.addUserButton=null;D.allowMove=null;D.allowPark=null;D.allowResize=null;D.attachEvent=null;D.bringToBottom=null;D.bringToTop=null;D.callEvent=null;D.center=null;D.centerOnScreen=null;D.checkEvent=null;D.clearIcon=null;D.close=null;D.denyMove=null;D.denyPark=null;D.denyResize=null;D.detachEvent=null;D.detachAllEvents=null;D.eventCatcher=null;D.getDimension=null;D.getIcon=null;D.getId=null;D.getMaxDimension=null;D.getMinDimension=null;D.getPosition=null;D.getText=null;D.hide=null;D.hideHeader=null;D.isHidden=null;D.isMaximized=null;D.isModal=null;D.isMovable=null;D.isOnBottom=null;D.isOnTop=null;D.isParkable=null;D.isParked=null;D.isResizable=null;D.isSticked=null;D.keepInViewport=null;D.maximize=null;D.minimize=null;D.park=null;D.progressOff=null;D.progressOn=null;D.removeUserButton=null;D.restoreIcon=null;D.setDimension=null;D.setIcon=null;D.setMaxDimension=null;D.setMinDimension=null;D.setModal=null;D.setPosition=null;D.setText=null;D.setToFullScreen=null;D.show=null;D.showHeader=null;D.stick=null;D.unstick=null;D.onmousemove=null;D.onmousedown=null;D.icons=null;D.button=null;D._dhxContDestruct=null;D.dhxContGlobal.obj=null;D.dhxContGlobal.setContent=null;D.dhxContGlobal.dhxcont=null;D.dhxContGlobal=null;if(D._frame){while(D._frame.childNodes.length>0)D._frame.removeChild(D._frame.childNodes[0]);D._frame=null}this._parseNestedForEvents(D);D._content=null;D.innerHTML="";D.parentNode.removeChild(D);D=null;this.wins[C]=null;delete this.wins[C]};this._removeEvents=function(A){A.onmouseover=null;A.onmouseout=null;A.onmousemove=null;A.onclick=null;A.ondblclick=null;A.onmouseenter=null;A.onmouseleave=null;A.onmouseup=null;A.onmousewheel=null;A.onmousedown=null;A.onselectstart=null;A.onfocus=null;A.style.display="";A=null};this._parseNestedForEvents=function(B){this._removeEvents(B);for(var A=0;A<B.childNodes.length;A++)if(B.childNodes[A].tagName!=null)this._parseNestedForEvents(B.childNodes[A]);B=null};this._clearAll=function(){this._clearDocumentEvents();for(var B in this.wins)this._removeWindowGlobal(B);this.wins=null;this._parseNestedForEvents(this._carcass);while(this._carcass.childNodes.length>0)this._carcass.removeChild(this._carcass.childNodes[0]);this._carcass.onselectstart=null;this._carcass.parentNode.removeChild(this._carcass);this._carcass=null;this._parseNestedForEvents(this._vpcover);this._vpcover.parentNode.removeChild(this._vpcover);this._vpcover=null;this._parseNestedForEvents(this.modalCoverD);this.modalCoverD.parentNode.removeChild(this.modalCoverD);this.modalCoverD=null;this._parseNestedForEvents(this.modalCoverI);this.modalCoverI.parentNode.removeChild(this.modalCoverI);this.modalCoverI=null;if(this.vp.autocreated==true)this.vp.parentNode.removeChild(this.vp);this.vp=null;for(B in this.skinParams)delete this.skinParams[B];this.skinParams=null;this._effects=null;this._engineSkinParams=null;this._addDefaultButtons=null;this._addUserButton=null;this._allowParking=null;this._allowReszieGlob=null;this._attachEventsOnButton=null;this._attachWindowContentTo=null;this._autoResizeViewport=null;this._blockSwitcher=null;this._bringOnBottom=null;this._bringOnTop=null;this._bringOnTopAnyStickedWindows=null;this._centerWindow=null;this._clearAll=null;this._clearDocumentEvents=null;this._clearWindowIcons=null;this._closeWindow=null;this._createViewport=null;this._denyParking=null;this._denyResize=null;this._dhx_Engine=null;this._disableButton=null;this._doOnMoseMove=null;this._doOnMouseUp=null;this._doOnResize=null;this._doOnSelectStart=null;this._doOnUnload=null;this._doParkDown=null;this._doParkUp=null;this._enableButton=null;this._engineAddUserButton=null;this._engineAdjustWindowToContent=null;this._engineAllowWindowResize=null;this._engineCheckHeaderMouseDown=null;this._engineDiableOnSelectInWindow=null;this._engineDoOnWindowParkDown=null;this._engineDoOnWindowParkUp=null;this._engineFixWindowPosInViewport=null;this._engineGetWindowButton=null;this._engineGetWindowContent=null;this._engineGetWindowHeader=null;this._engineGetWindowHeaderState=null;this._engineGetWindowLabel=null;this._engineGetWindowParkedHeight=null;this._engineRedrawSkin=null;this._engineRedrawWindowPos=null;this._engineRedrawWindowSize=null;this._engineRedrawWindowTitle=null;this._engineSetWindowBody=null;this._engineSwitchWindowHeader=null;this._engineSwitchWindowProgress=null;this._engineUpdateWindowIcon=null;this._fixWindowDimensionInViewport=null;this._genStr=null;this._getActive=null;this._getTopZIndex=null;this._getWindowIcon=null;this._hideButton=null;this._hideWindow=null;this._isWindowHidden=null;this._isWindowOnBottom=null;this._isWindowOnTop=null;this._makeActive=null;this._maximizeWindow=null;this._moveWindow=null;this._needHelp=null;this._parkWindow=null;this._parseNestedForEvents=null;this._removeButtonGlobal=null;this._removeEvents=null;this._removeUserButton=null;this._removeWindowGlobal=null;this._restoreWindow=null;this._restoreWindowIcons=null;this._setWindowIcon=null;this._setWindowModal=null;this._setWindowToFullScreen=null;this._showButton=null;this._showWindow=null;this._stickWindow=null;this._stopMove=null;this._unstickWindow=null;this.attachEvent=null;this.attachViewportTo=null;this.callEvent=null;this.checkEvent=null;this.createWindow=null;this.detachEvent=null;this.enableAutoViewport=null;this.eventCatcher=null;this.findByText=null;this.forEachWindow=null;this.getBottommostWindow=null;this.getEffect=null;this.getTopmostWindow=null;this.isWindow=null;this.setEffect=null;this.setImagePath=null;this.setSkin=null;this.setViewport=null;this.unload=null;this.window=null;A=null};this._clearDocumentEvents=function(){if(_isIE){window.detachEvent("onresize",this._doOnResize);document.body.detachEvent("onselectstart",this._doOnSelectStart);document.body.detachEvent("onmouseup",this._doOnMouseUp);document.body.detachEvent("onunload",this._doOnUnload);this.vp.detachEvent("onmousemove",this._doOnMoseMove);this.vp.detachEvent("onmouseup",this._doOnMouseUp)}else{window.removeEventListener("resize",this._doOnResize,false);document.body.removeEventListener("mouseup",this._doOnMouseUp,false);document.body.removeEventListener("unload",this._doOnUnload,false);this.vp.removeEventListener("mousemove",this._doOnMoseMove,false);this.vp.removeEventListener("mouseup",this._doOnMouseUp,false)}};this._genStr=function(A){var B="",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var C=0;C<A;C++)B+=D.charAt(Math.round(Math.random()*(D.length-1)));return B};dhtmlxEventable(this);return this}dhtmlXWindows.prototype._dhx_Engine=function(){this._engineEnabled=true;this._engineName="dhx";this._engineSkinParams={dhx_blue:{"hh":21,"lbw":2,"rbw":2,"lch":2,"lcw":14,"rch":14,"rcw":14,"bbh":2,"mnh":23,"tbh":25,"sbh":20,"noh_t":null,"noh_h":null},dhx_black:{"hh":21,"lbw":2,"rbw":2,"lch":2,"lcw":14,"rch":14,"rcw":14,"bbh":2,"mnh":23,"tbh":25,"sbh":20,"noh_t":null,"noh_h":null},dhx_skyblue:{"hh":29,"lbw":2,"rbw":2,"lch":2,"lcw":14,"rch":14,"rcw":14,"bbh":2,"mnh":23,"tbh":25,"sbh":20,"noh_t":5,"noh_h":-10},dhx_web:{"hh":27,"lbw":5,"rbw":5,"lch":5,"lcw":14,"rch":14,"rcw":14,"bbh":5,"mnh":23,"tbh":25,"sbh":20,"noh_t":5,"noh_h":-10},dhx_terrace:{"hh":37,"lbw":5,"rbw":5,"lch":5,"lcw":14,"rch":14,"rcw":14,"bbh":5,"mnh":23,"tbh":25,"sbh":20,"noh_t":5,"noh_h":-10}};this._isIE6=false;if(_isIE)this._isIE6=(window.XMLHttpRequest==null?true:false);this._engineSetWindowBody=function(B){B.innerHTML="<div iswin='1' class='dhtmlx_wins_body_outer' style='position: relative;'>"+(this._isIE6?"<iframe src='javascript:false;' frameborder='0' class='dhtmlx_wins_ie6_cover_fix' onload='this.contentWindow.document.body.style.overflow=\"hidden\";'></iframe>":"")+"<div class='dhtmlx_wins_icon'></div>"+"<div class='dhtmlx_wins_progress'></div>"+"<div class='dhtmlx_wins_title'>dhtmlxWindow</div>"+"<div class='dhtmlx_wins_btns'>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_sticked_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_stick_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_help_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_park_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_minmax2_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_minmax1_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_close_default'></div>"+"<div class='dhtmlx_wins_btns_button dhtmlx_button_dock_default'></div>"+"</div>"+"<div class='dhtmlx_wins_body_inner'></div>"+"<div winResT='yes' class='dhtmlx_wins_resizer_t' style='display:none;'></div>"+"<div winResL='yes' class='dhtmlx_wins_resizer_l'></div>"+"<div winResR='yes' class='dhtmlx_wins_resizer_r'></div>"+"<div winResB='yes' class='dhtmlx_wins_resizer_b'></div>"+"<div class='white_line'></div>"+"<div class='white_line2'></div>"+"</div>";B.dhxContGlobal=new dhtmlXContainer(B);if(this.skin=="dhx_skyblue"){B.dhxContGlobal.obj._offsetWidth=-10;B.dhxContGlobal.obj._offsetHeight=-5;B.dhxContGlobal.obj._offsetLeft=5;B.dhxContGlobal.obj._offsetHeightSaved=B.dhxContGlobal.obj._offsetHeight}if(this.skin=="dhx_web"){B.dhxContGlobal.obj._offsetWidth=-10;B.dhxContGlobal.obj._offsetHeight=-5;B.dhxContGlobal.obj._offsetLeft=5;B.dhxContGlobal.obj._offsetHeightSaved=B.dhxContGlobal.obj._offsetHeight}B.skin=this.skin;B.dhxContGlobal.setContent(B.childNodes[0].childNodes[(this._isIE6?5:4)]);var A=B.coverBlocker();A.onselectstart=function(A){A=A||event;A.returnValue=false;A.cancelBubble=true};A=null};this._engineDiableOnSelectInWindow=function(D,C){var B=new Array();B[0]=D.childNodes[0].childNodes[(this._isIE6?1:0)];B[1]=D.childNodes[0].childNodes[(this._isIE6?2:1)];B[2]=D.childNodes[0].childNodes[(this._isIE6?3:2)];B[3]=D.childNodes[0].childNodes[(this._isIE6?4:3)];B[4]=D.childNodes[0].childNodes[(this._isIE6?6:5)];B[5]=D.childNodes[0].childNodes[(this._isIE6?7:6)];B[6]=D.childNodes[0].childNodes[(this._isIE6?8:7)];B[7]=D.childNodes[0].childNodes[(this._isIE6?9:8)];for(var A=0;A<B.length;A++){B[A].onselectstart=(C?function(A){A=A||event;A.returnValue=false;return false}:null);B[A]=null}B=null};this._engineGetWindowHeader=function(A){A.childNodes[0].idd=A.idd;return A.childNodes[0]};this._engineRedrawWindowSize=function(D){D.style.width=(String(D.w).search("%")==-1?D.w+"px":D.w);D.style.height=(String(D.h).search("%")==-1?D.h+"px":D.h);var A=D.childNodes[0];A.style.width=D.clientWidth+"px";A.style.height=D.clientHeight+"px";if(A.offsetWidth>D.clientWidth)A.style.width=D.clientWidth*2-A.offsetWidth+"px";if(A.offsetHeight>D.clientHeight){var B=D.clientHeight*2-A.offsetHeight;if(B<0)B=0;A.style.height=B+"px"}var C=(D._noHeader==true?D._hdrSize:this._engineSkinParams[this.skin]["hh"]);this._engineRedrawWindowTitle(D);D.adjustContent(A,C)};this._engineRedrawWindowPos=function(A){if(A._isFullScreened)return;A.style.left=A.x+"px";A.style.top=A.y+"px"};this._engineFixWindowPosInViewport=function(B){var A=(B._noHeader==true?B._hdrSize:this._engineSkinParams[this.skin]["hh"]);if(B._keepInViewport){if(B.x<0)B.x=0;if(B.x+B.w>this.vp.offsetWidth)B.x=this.vp.offsetWidth-B.w;if(B.y+B.h>this.vp.offsetHeight)B.y=this.vp.offsetHeight-B.h;if(B.y<0)B.y=0}else{if(B.y+A>this.vp.offsetHeight)B.y=this.vp.offsetHeight-A;if(B.y<0)B.y=0;if(B.x+B.w-10<0)B.x=10-B.w;if(B.x>this.vp.offsetWidth-10)B.x=this.vp.offsetWidth-10}};this._engineCheckHeaderMouseDown=function(D,A){if(this._isIPad){var F=A.touches[0].clientX,E=A.touches[0].clientY,C=A.target||A.srcElement;if(C==D.childNodes[0]||C==D.childNodes[0].childNodes[0]||C==D.childNodes[0].childNodes[2]||C==D.childNodes[0].childNodes[3])return true;return false}else F=(_isIE||_isOpera?A.offsetX:A.layerX),E=(_isIE||_isOpera?A.offsetY:A.layerY),C=A.target||A.srcElement;var B=(D._noHeader==true?D._hdrSize:this._engineSkinParams[this.skin]["hh"]);if(E<=B&&(C==D.childNodes[0]||C==D.childNodes[0].childNodes[(this._isIE6?1:0)]||C==D.childNodes[0].childNodes[(this._isIE6?3:2)]||C==D.childNodes[0].childNodes[(this._isIE6?4:3)]))return true;return false};this._engineGetWindowContent=function(A){alert("_engineGetWindowContent")};this._engineGetWindowButton=function(E,F){F=String(F).toLowerCase();var D=null,B="dhtmlx_button_"+F+"_";for(var C=0;C<E.childNodes[0].childNodes[(this._isIE6?4:3)].childNodes.length;C++){var A=E.childNodes[0].childNodes[(this._isIE6?4:3)].childNodes[C];if(String(A.className).search(B)!=-1)D=A;A=null}return D};this._engineAddUserButton=function(C,E,D){if(isNaN(D))D=0;var A=document.createElement("DIV");A.className="dhtmlx_wins_btns_button dhtmlx_button_"+E+"_default";var B=C.childNodes[0].childNodes[(this._isIE6?4:3)];D=B.childNodes.length-D;if(D<0)D=0;if(D>=B.childNodes.length)B.appendChild(A);else B.insertBefore(A,B.childNodes[D]);this._engineRedrawWindowTitle(C);return A};this._engineGetWindowParkedHeight=function(A){return this._engineSkinParams[this.skin]["hh"]+1};this._engineDoOnWindowParkDown=function(A){A.childNodes[0].childNodes[(this._isIE6?6:5)].style.display=(A._noHeader==true?"":"none");A.childNodes[0].childNodes[(this._isIE6?7:6)].style.display="";A.childNodes[0].childNodes[(this._isIE6?8:7)].style.display="";A.childNodes[0].childNodes[(this._isIE6?9:8)].style.display=""};this._engineDoOnWindowParkUp=function(A){A.childNodes[0].childNodes[(this._isIE6?6:5)].style.display="none";A.childNodes[0].childNodes[(this._isIE6?7:6)].style.display="none";A.childNodes[0].childNodes[(this._isIE6?8:7)].style.display="none";A.childNodes[0].childNodes[(this._isIE6?9:8)].style.display="none"};this._engineUpdateWindowIcon=function(B,A){B.childNodes[0].childNodes[(this._isIE6?1:0)].style.backgroundImage="url('"+A+"')"};this._engineAllowWindowResize=function(F,D,C,A){if(!D.getAttribute)return;var B=this._engineSkinParams[this.skin],E=(F._noHeader==true?F._hdrSize:this._engineSkinParams[this.skin]["hh"]);if(D.getAttribute("winResL")!=null)if(D.getAttribute("winResL")=="yes")if(A>=E){if(A>=F.h-B["lch"])return"corner_left";if(A<=B["lch"]&&F._noHeader==true)return"corner_up_left";return"border_left"}if(D.getAttribute("winResR")!=null)if(D.getAttribute("winResR")=="yes")if(A>=E){if(A>=F.h-B["rch"])return"corner_right";if(A<=B["rch"]&&F._noHeader==true)return"corner_up_right";return"border_right"}if(D.getAttribute("winResT")!=null)if(D.getAttribute("winResT")=="yes"&&F._noHeader==true){if(C<=B["lcw"])return"corner_up_left";if(C>=F.w-B["rcw"])return"corner_up_right";return"border_top"}if(D.getAttribute("winResB")!=null)if(D.getAttribute("winResB")=="yes"){if(C<=B["lcw"])return"corner_left";if(C>=F.w-B["rcw"])return"corner_right";return"border_bottom"}return null};this._engineAdjustWindowToContent=function(D,A,E){var B=A+D.w-D.vs[D.av].dhxcont.clientWidth,C=E+D.h-D.vs[D.av].dhxcont.clientHeight;D.setDimension(B,C)};this._engineRedrawSkin=function(){this.vp.className=(this.vp==document.body&&this.vp._css?this.vp._css+" ":"")+"dhtmlx_winviewport dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");var A=this._engineSkinParams[this.skin];for(var B in this.wins){if(this.skin=="dhx_skyblue"){this.wins[B].dhxContGlobal.obj._offsetTop=(this.wins[B]._noHeader?A["noh_t"]:null);this.wins[B].dhxContGlobal.obj._offsetWidth=-10;this.wins[B].dhxContGlobal.obj._offsetHeight=(this.wins[B]._noHeader?A["noh_h"]:-5);this.wins[B].dhxContGlobal.obj._offsetLeft=5;this.wins[B].dhxContGlobal.obj._offsetHeightSaved=-5}else{this.wins[B].dhxContGlobal.obj._offsetWidth=null;this.wins[B].dhxContGlobal.obj._offsetHeight=null;this.wins[B].dhxContGlobal.obj._offsetLeft=null;this.wins[B].dhxContGlobal.obj._offsetTop=null;this.wins[B].dhxContGlobal.obj._offsetHeightSaved=null}this.wins[B].skin=this.skin;this._restoreWindowIcons(this.wins[B]);this._engineRedrawWindowSize(this.wins[B])}};this._engineSwitchWindowProgress=function(B,A){if(A==true){B.childNodes[0].childNodes[(this._isIE6?1:0)].style.display="none";B.childNodes[0].childNodes[(this._isIE6?2:1)].style.display=""}else{B.childNodes[0].childNodes[(this._isIE6?2:1)].style.display="none";B.childNodes[0].childNodes[(this._isIE6?1:0)].style.display=""}};this._engineSwitchWindowHeader=function(C,B){if(!C._noHeader)C._noHeader=false;if(B!=C._noHeader)return;C._noHeader=(B==true?false:true);C._hdrSize=0;C.childNodes[0].childNodes[(this._isIE6?5:4)].className="dhtmlx_wins_body_inner"+(C._noHeader?" dhtmlx_wins_no_header":"");C.childNodes[0].childNodes[(this._isIE6?6:5)].style.display=(C._noHeader?"":"none");C.childNodes[0].childNodes[(this._isIE6?1:0)].style.display=(C._noHeader?"none":"");C.childNodes[0].childNodes[(this._isIE6?3:2)].style.display=(C._noHeader?"none":"");C.childNodes[0].childNodes[(this._isIE6?4:3)].style.display=(C._noHeader?"none":"");var A=this._engineSkinParams[this.skin];if(C._noHeader){C.dhxContGlobal.obj._offsetHeightSaved=C.dhxContGlobal.obj._offsetHeight;C.dhxContGlobal.obj._offsetHeight=A["noh_h"];C.dhxContGlobal.obj._offsetTop=A["noh_t"]}else{C.dhxContGlobal.obj._offsetHeight=C.dhxContGlobal.obj._offsetHeightSaved;C.dhxContGlobal.obj._offsetTop=null}this._engineRedrawWindowSize(C)};this._engineGetWindowHeaderState=function(A){return(A._noHeader?true:false)};this._engineGetWindowLabel=function(A){return A.childNodes[0].childNodes[(this._isIE6?3:2)]};this._engineRedrawWindowTitle=function(D){if(D._noHeader!==true){var B=D.childNodes[0].childNodes[(this._isIE6?1:0)].offsetWidth,A=D.childNodes[0].childNodes[(this._isIE6?4:3)].offsetWidth,C=D.offsetWidth-B-A-24;if(C<0)C="100%";else C+="px";D.childNodes[0].childNodes[(this._isIE6?3:2)].style.width=C}}};dhtmlXWindows.prototype.i18n={dhxcontaler:"dhtmlxcontainer.js is missed on the page",noenginealert:"No dhtmlxWindows engine was found.",stick:"Stick",unstick:"Unstick",help:"Help",parkdown:"Park Down",parkup:"Park Up",maximize:"Maximize",restore:"Restore",close:"Close",dock:"Dock"};(function(){dhtmlx.extend_api("dhtmlXWindows",{_init:function(A){return[]},_patch:function(B){B.old_createWindow=B.createWindow;B.createWindow=function(D){if(arguments.length>1)return this.old_createWindow.apply(this,arguments);var B=this.old_createWindow(D.id,(D.x||D.left),(D.y||D.top),D.width,D.height);B.allowMoveA=function(A){if(A)this.allowMove();else this.denyMove()};B.allowParkA=function(A){if(A)this.allowPark();else this.denyPark()};B.allowResizeA=function(A){if(A)this.allowResize();else this.denyResize()};for(var C in D)if(A[C])B[A[C]](D[C]);else if(C.indexOf("on")==0)B.attachEvent(C,D[C]);return B}},animation:"setEffect",image_path:"setImagePath",skin:"setSkin",viewport:"_viewport",wins:"_wins"},{_viewport:function(A){if(A.object){this.enableAutoViewport(false);this.attachViewportTo(A.object)}else{this.enableAutoViewport(false);this.setViewport(A.left,A.top,A.width,A.height,A.parent)}},_wins:function(A){for(var B=0;B<A.length;B++){var C=A[B];this.createWindow(C.id,C.left,C.top,C.width,C.height);if(C.text)this.window(C.id).setText(C.text);if(C.keep_in_viewport)this.window(C.id).keepInViewport(true);if(C.deny_resize)this.window(C.id).denyResize();if(C.deny_park)this.window(C.id).denyPark();if(C.deny_move)this.window(C.id).denyMove()}}});var A={move:"allowMoveA",park:"allowParkA",resize:"allowResizeA",center:"center",modal:"setModal",caption:"setText",header:"showHeader"}})();function dhtmlXContainer(C){var A=this;this.obj=C;C=null;this.obj._padding=true;this.dhxcont=null;this.st=document.createElement("DIV");this.st.style.position="absolute";this.st.style.left="-200px";this.st.style.top="0px";this.st.style.width="100px";this.st.style.height="1px";this.st.style.visibility="hidden";this.st.style.overflow="hidden";document.body.insertBefore(this.st,document.body.childNodes[0]);this.obj._getSt=function(){return A.st};this.obj.dv="def";this.obj.av=this.obj.dv;this.obj.cv=this.obj.av;this.obj.vs={};this.obj.vs[this.obj.av]={};this.obj.view=function(B){if(!this.vs[B]){this.vs[B]={};this.vs[B].dhxcont=this.vs[this.dv].dhxcont;var C=document.createElement("DIV");C.style.position="relative";C.style.left="0px";C.style.width="200px";C.style.height="200px";C.style.overflow="hidden";C.style.visibility="";A.st.appendChild(C);this.vs[B].dhxcont.mainCont[B]=C;C=null}this.avt=this.av;this.av=B;return this};this.obj.setActive=function(){if(!this.vs[this.av])return;this.cv=this.av;if(this.vs[this.avt].dhxcont==this.vs[this.avt].dhxcont.mainCont[this.avt].parentNode){A.st.appendChild(this.vs[this.avt].dhxcont.mainCont[this.avt]);if(this.vs[this.avt].menu)A.st.appendChild(document.getElementById(this.vs[this.avt].menuId));if(this.vs[this.avt].toolbar)A.st.appendChild(document.getElementById(this.vs[this.avt].toolbarId));if(this.vs[this.avt].sb)A.st.appendChild(document.getElementById(this.vs[this.avt].sbId))}if(this._isCell);if(this.vs[this.av].dhxcont!=this.vs[this.av].dhxcont.mainCont[this.av].parentNode){this.vs[this.av].dhxcont.insertBefore(this.vs[this.av].dhxcont.mainCont[this.av],this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]);if(this.vs[this.av].menu)this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].menuId),this.vs[this.av].dhxcont.childNodes[0]);if(this.vs[this.av].toolbar)this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].toolbarId),this.vs[this.av].dhxcont.childNodes[(this.vs[this.av].menu?1:0)]);if(this.vs[this.av].sb)this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].sbId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1])}if(this._doOnResize)this._doOnResize();if(this._isWindow)this.updateNestedObjects();this.avt=null};this.obj._viewRestore=function(){var A=this.av;if(this.avt){this.av=this.avt;this.avt=null}return A};this.setContent=function(A){this.obj.vs[this.obj.av].dhxcont=A;this.obj._init();A=null};this.obj._init=function(){this.vs[this.av].dhxcont.innerHTML="<div ida='dhxMainCont' style='position: relative;left: 0px;top: 0px;overflow: hidden;'></div>"+"<div class='dhxcont_content_blocker' style='display: none;'></div>";this.vs[this.av].dhxcont.mainCont={};this.vs[this.av].dhxcont.mainCont[this.av]=this.vs[this.av].dhxcont.childNodes[0]};this.obj._genStr=function(A){var B="",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var C=0;C<A;C++)B+=D.charAt(Math.round(Math.random()*(D.length-1)));return B};this.obj.setMinContentSize=function(A,B){this.vs[this.av]._minDataSizeW=A;this.vs[this.av]._minDataSizeH=B};this.obj._setPadding=function(B,A){if(typeof(B)=="object"){this._offsetTop=B[0];this._offsetLeft=B[1];this._offsetWidth=B[2];this._offsetHeight=B[3];B=null}else{this._offsetTop=B;this._offsetLeft=B;this._offsetWidth=-B*2;this._offsetHeight=-B*2}this.vs[this.av].dhxcont.className="dhxcont_global_content_area "+(A||"")};this.obj.moveContentTo=function(E){for(var C in this.vs){E.view(C).setActive();var F=null;if(this.vs[C].grid)F="grid";if(this.vs[C].tree)F="tree";if(this.vs[C].tabbar)F="tabbar";if(this.vs[C].folders)F="folders";if(this.vs[C].layout)F="layout";if(F!=null){E.view(C).attachObject(this.vs[C][F+"Id"],false,true,false);E.vs[C][F]=this.vs[C][F];E.vs[C][F+"Id"]=this.vs[C][F+"Id"];E.vs[C][F+"Obj"]=this.vs[C][F+"Obj"];this.vs[C][F]=null;this.vs[C][F+"Id"]=null;this.vs[C][F+"Obj"]=null}if(this.vs[C]._frame){E.vs[C]._frame=this.vs[C]._frame;this.vs[C]._frame=null}if(this.vs[C].menu!=null){if(E.cv==E.av)E.vs[E.av].dhxcont.insertBefore(document.getElementById(this.vs[C].menuId),E.vs[E.av].dhxcont.childNodes[0]);else{var D=E._getSt();D.appendChild(document.getElementById(this.vs[C].menuId));D=null}E.vs[C].menu=this.vs[C].menu;E.vs[C].menuId=this.vs[C].menuId;E.vs[C].menuHeight=this.vs[C].menuHeight;this.vs[C].menu=null;this.vs[C].menuId=null;this.vs[C].menuHeight=null;if(this.cv==this.av&&this._doOnAttachMenu)this._doOnAttachMenu("unload");if(E.cv==E.av&&E._doOnAttachMenu)E._doOnAttachMenu("move")}if(this.vs[C].toolbar!=null){if(E.cv==E.av)E.vs[E.av].dhxcont.insertBefore(document.getElementById(this.vs[C].toolbarId),E.vs[E.av].dhxcont.childNodes[(E.vs[E.av].menu!=null?1:0)]);else{D=E._getSt();D.appendChild(document.getElementById(this.vs[C].toolbarId));D=null}E.vs[C].toolbar=this.vs[C].toolbar;E.vs[C].toolbarId=this.vs[C].toolbarId;E.vs[C].toolbarHeight=this.vs[C].toolbarHeight;this.vs[C].toolbar=null;this.vs[C].toolbarId=null;this.vs[C].toolbarHeight=null;if(this.cv==this.av&&this._doOnAttachToolbar)this._doOnAttachToolbar("unload");if(E.cv==E.av&&E._doOnAttachToolbar)E._doOnAttachToolbar("move")}if(this.vs[C].sb!=null){if(E.cv==E.av)E.vs[E.av].dhxcont.insertBefore(document.getElementById(this.vs[C].sbId),E.vs[E.av].dhxcont.childNodes[E.vs[E.av].dhxcont.childNodes.length-1]);else{D=E._getSt();D.appendChild(document.getElementById(this.vs[C].sbId));return D}E.vs[C].sb=this.vs[C].sb;E.vs[C].sbId=this.vs[C].sbId;E.vs[C].sbHeight=this.vs[C].sbHeight;this.vs[C].sb=null;this.vs[C].sbId=null;this.vs[C].sbHeight=null;if(this.cv==this.av&&this._doOnAttachStatusBar)this._doOnAttachStatusBar("unload");if(E.cv==E.av&&E._doOnAttachStatusBar)E._doOnAttachStatusBar("move")}var B=this.vs[C].dhxcont.mainCont[C],A=E.vs[C].dhxcont.mainCont[C];while(B.childNodes.length>0)A.appendChild(B.childNodes[0])}E.view(this.av).setActive();E=null};this.obj.adjustContent=function(I,K,A,H,E){var G=this.vs[this.av].dhxcont,L=G.mainCont[this.av];G.style.left=(this._offsetLeft||0)+"px";G.style.top=(this._offsetTop||0)+K+"px";var D=I.clientWidth+(this._offsetWidth||0);if(H!==true)G.style.width=Math.max(0,D)+"px";if(H!==true)if(G.offsetWidth>D)G.style.width=Math.max(0,D*2-G.offsetWidth)+"px";var J=I.clientHeight+(this._offsetHeight||0);G.style.height=Math.max(0,J-K)+(A!=null?A:0)+"px";if(G.offsetHeight>J-K)G.style.height=Math.max(0,(J-K)*2-G.offsetHeight)+"px";if(E)if(!isNaN(E))G.style.height=Math.max(0,parseInt(G.style.height)-E)+"px";if(this.vs[this.av]._minDataSizeH!=null)if(parseInt(G.style.height)<this.vs[this.av]._minDataSizeH)G.style.height=this.vs[this.av]._minDataSizeH+"px";if(this.vs[this.av]._minDataSizeW!=null)if(parseInt(G.style.width)<this.vs[this.av]._minDataSizeW)G.style.width=this.vs[this.av]._minDataSizeW+"px";if(H!==true){L.style.width=G.clientWidth+"px";if(L.offsetWidth>G.clientWidth)L.style.width=Math.max(0,G.clientWidth*2-L.offsetWidth)+"px"}var C=(this.vs[this.av].menu!=null?(!this.vs[this.av].menuHidden?this.vs[this.av].menuHeight:0):0),F=(this.vs[this.av].toolbar!=null?(!this.vs[this.av].toolbarHidden?this.vs[this.av].toolbarHeight:0):0),B=(this.vs[this.av].sb!=null?(!this.vs[this.av].sbHidden?this.vs[this.av].sbHeight:0):0);L.style.height=G.clientHeight+"px";if(L.offsetHeight>G.clientHeight)L.style.height=Math.max(0,G.clientHeight*2-L.offsetHeight)+"px";L.style.height=Math.max(0,parseInt(L.style.height)-C-F-B)+"px";L=null;G=null;I=null};this.obj.coverBlocker=function(){return this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]};this.obj.showCoverBlocker=function(){var A=this.coverBlocker();A.style.display="";A=null};this.obj.hideCoverBlocker=function(){var A=this.coverBlocker();A.style.display="none";A=null};this.obj.updateNestedObjects=function(D){if(this.skin=="dhx_terrace"){var E=(this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null);if(this.vs[this.av].grid){var A=(E||this._isWindow?14:0),C=(this._isWindow?14:0),B=(this._isWindow?14:0);if(D){if(!this._isWindow){this.vs[this.av].grid.entBox.style.border="0px solid white";this.vs[this.av].grid.skin_h_correction=-2}this.vs[this.av].grid.dontSetSizes=true;this.vs[this.av].gridObj.style.position="absolute"}this.vs[this.av].gridObj.style.top=A+"px";this.vs[this.av].gridObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-A-C+"px";this.vs[this.av].gridObj.style.left=B+"px";this.vs[this.av].gridObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";this.vs[this.av].grid.setSizes()}if(this.vs[this.av].tree){A=(E||this._isWindow?14:0),C=(this._isWindow?14:0),B=(this._isWindow?14:0);if(D)this.vs[this.av].treeObj.style.position="absolute";this.vs[this.av].treeObj.style.top=A+"px";this.vs[this.av].treeObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-A-C+"px";this.vs[this.av].treeObj.style.left=B+"px";this.vs[this.av].treeObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px"}if(this.vs[this.av].form){A=(E||this._isWindow?14:0),C=(this._isWindow?14:0),B=(this._isWindow?14:0);if(D)this.vs[this.av].formObj.style.position="absolute";this.vs[this.av].formObj.style.top=A+"px";this.vs[this.av].formObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-A-C+"px";this.vs[this.av].formObj.style.left=B+"px";this.vs[this.av].formObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";this.vs[this.av].form.setSizes()}if(this.vs[this.av].layout){if(D)if(!this._isWindow&&!this._isCell)this.vs[this.av].layout._hideBorders();A=(this._isCell&&this._noHeader&&!E?0:14),C=(this._isCell&&this._noHeader?0:14),B=(this._isCell&&this._noHeader?0:14);this.vs[this.av].layoutObj.style.top=A+"px";this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-A-C+"px";this.vs[this.av].layoutObj.style.left=B+"px";this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";this.vs[this.av].layout.setSizes()}if(this.vs[this.av].accordion){if(D)this.vs[this.av].accordion._hideBorders=true;A=(this._isCell&&this._noHeader&&!E?0:14),C=(this._isCell&&this._noHeader?0:14),B=(this._isCell&&this._noHeader?0:14);this.vs[this.av].accordionObj.style.top=A+"px";this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-A-C+"px";this.vs[this.av].accordionObj.style.left=B+"px";this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";this.vs[this.av].accordion.setSizes()}if(this.vs[this.av].tabbar!=null){A=(!E&&this._isCell&&this._noHeader?0:14),C=(this._isCell&&this._noHeader?A:28),B=(this._isCell&&this._noHeader?0:14);this.vs[this.av].tabbarObj.style.top=A+"px";this.vs[this.av].tabbarObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-C+"px";this.vs[this.av].tabbarObj.style.left=B+"px";this.vs[this.av].tabbarObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";this.vs[this.av].tabbar.adjustOuterSize()}if(this.vs[this.av].editor){if(D)if(this.vs[this.av].editor.tb!=null&&this.vs[this.av].editor.tb instanceof dhtmlXToolbarObject);A=14,B=14;this.vs[this.av].editorObj.style.top=A+"px";this.vs[this.av].editorObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-(A*2)+"px";this.vs[this.av].editorObj.style.left=B+"px";this.vs[this.av].editorObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-(B*2)+"px";if(!_isIE)this.vs[this.av].editor._prepareContent(true);this.vs[this.av].editor.setSizes()}if(this.vs[this.av].dockedCell)this.vs[this.av].dockedCell.updateNestedObjects();return}if(this.vs[this.av].grid)this.vs[this.av].grid.setSizes();if(this.vs[this.av].sched)this.vs[this.av].sched.setSizes();if(this.vs[this.av].tabbar)this.vs[this.av].tabbar.adjustOuterSize();if(this.vs[this.av].folders)this.vs[this.av].folders.setSizes();if(this.vs[this.av].editor){if(!_isIE)this.vs[this.av].editor._prepareContent(true);this.vs[this.av].editor.setSizes()}if(this.vs[this.av].layout){if((this._isAcc||this._isTabbarCell)&&this.skin=="dhx_skyblue"){this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px";this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"}else{this.vs[this.av].layoutObj.style.width=this.vs[this.av].dhxcont.mainCont[this.av].style.width;this.vs[this.av].layoutObj.style.height=this.vs[this.av].dhxcont.mainCont[this.av].style.height}this.vs[this.av].layout.setSizes()}if(this.vs[this.av].accordion!=null){if(this.skin=="dhx_web"){this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px";this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"}else{this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px";this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"}this.vs[this.av].accordion.setSizes()}if(this.vs[this.av].dockedCell)this.vs[this.av].dockedCell.updateNestedObjects();if(this.vs[this.av].form)this.vs[this.av].form.setSizes()};this.obj.attachStatusBar=function(){if(this.vs[this.av].sb)return;var B=document.createElement("DIV");if(this._isCell)B.className="dhxcont_sb_container_layoutcell";else B.className="dhxcont_sb_container";B.id="sbobj_"+this._genStr(12);B.innerHTML="<div class='dhxcont_statusbar'></div>";if(this.cv==this.av)this.vs[this.av].dhxcont.insertBefore(B,this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]);else A.st.appendChild(B);B.setText=function(A){this.childNodes[0].innerHTML=A};B.getText=function(){return this.childNodes[0].innerHTML};B.onselectstart=function(A){A=A||event;A.returnValue=false;return false};this.vs[this.av].sb=B;this.vs[this.av].sbHeight=(this.skin=="dhx_web"?41:(this.skin=="dhx_skyblue"?23:B.offsetHeight));this.vs[this.av].sbId=B.id;if(this._doOnAttachStatusBar)this._doOnAttachStatusBar("init");this.adjust();return this.vs[this._viewRestore()].sb};this.obj.detachStatusBar=function(){if(!this.vs[this.av].sb)return;this.vs[this.av].sb.setText=null;this.vs[this.av].sb.getText=null;this.vs[this.av].sb.onselectstart=null;this.vs[this.av].sb.parentNode.removeChild(this.vs[this.av].sb);this.vs[this.av].sb=null;this.vs[this.av].sbHeight=null;this.vs[this.av].sbId=null;this._viewRestore();if(this._doOnAttachStatusBar)this._doOnAttachStatusBar("unload")};this.obj.getFrame=function(){return this.getView()._frame};this.obj.getView=function(A){return this.vs[A||this.av]};this.obj.attachMenu=function(C){if(this.vs[this.av].menu)return;var B=document.createElement("DIV");B.style.position="relative";B.style.overflow="hidden";B.id="dhxmenu_"+this._genStr(12);if(this.cv==this.av)this.vs[this.av].dhxcont.insertBefore(B,this.vs[this.av].dhxcont.childNodes[0]);else A.st.appendChild(B);if(typeof(C)!="object")this.vs[this.av].menu=new dhtmlXMenuObject(B.id,(C||this.skin));else{C.parent=B.id;this.vs[this.av].menu=new dhtmlXMenuObject(C)}this.vs[this.av].menuHeight=(this.skin=="dhx_web"?29:B.offsetHeight);this.vs[this.av].menuId=B.id;if(this._doOnAttachMenu)this._doOnAttachMenu("init");this.adjust();return this.vs[this._viewRestore()].menu};this.obj.detachMenu=function(){if(!this.vs[this.av].menu)return;var A=document.getElementById(this.vs[this.av].menuId);this.vs[this.av].menu.unload();this.vs[this.av].menu=null;this.vs[this.av].menuId=null;this.vs[this.av].menuHeight=null;if(A)A.parentNode.removeChild(A);A=null;this._viewRestore();if(this._doOnAttachMenu)this._doOnAttachMenu("unload")};this.obj.attachToolbar=function(D){if(this.vs[this.av].toolbar)return;var B=document.createElement("DIV");B.style.position="relative";B.style.overflow="hidden";B.id="dhxtoolbar_"+this._genStr(12);if(this.cv==this.av)this.vs[this.av].dhxcont.insertBefore(B,this.vs[this.av].dhxcont.childNodes[(this.vs[this.av].menu!=null?1:0)]);else A.st.appendChild(B);if(typeof(D)!="object")this.vs[this.av].toolbar=new dhtmlXToolbarObject(B.id,(D||this.skin));else{D.parent=B.id;this.vs[this.av].toolbar=new dhtmlXToolbarObject(D)}this.vs[this.av].toolbarHeight=B.offsetHeight;this.vs[this.av].toolbarId=B.id;if(this._doOnAttachToolbar)this._doOnAttachToolbar("init");this.adjust();var C=this;this.vs[this.av].toolbar.attachEvent("_onIconSizeChange",function(A){C.vs[C.av].toolbarHeight=this.cont.offsetHeight;C.vs[C.av].toolbarId=this.cont.id;if(C._doOnAttachToolbar)C._doOnAttachToolbar("iconSizeChange")});if(this.skin!="dhx_terrace")this.vs[this.av].toolbar.callEvent("_onIconSizeChange",[]);return this.vs[this._viewRestore()].toolbar};this.obj.detachToolbar=function(){if(!this.vs[this.av].toolbar)return;var A=document.getElementById(this.vs[this.av].toolbarId);this.vs[this.av].toolbar.unload();this.vs[this.av].toolbar=null;this.vs[this.av].toolbarId=null;this.vs[this.av].toolbarHeight=null;if(A)A.parentNode.removeChild(A);A=null;this._viewRestore();if(this._doOnAttachToolbar)this._doOnAttachToolbar("unload")};this.obj.attachGrid=function(){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var A=document.createElement("DIV");A.id="dhxGridObj_"+this._genStr(12);A.style.width="100%";A.style.height="100%";A.cmp="grid";document.body.appendChild(A);this.attachObject(A.id,false,true,false);this.vs[this.av].grid=new dhtmlXGridObject(A.id);this.vs[this.av].grid.setSkin(this.skin);if(this.skin=="dhx_skyblue"||this.skin=="dhx_black"||this.skin=="dhx_blue"){this.vs[this.av].grid.entBox.style.border="0px solid white";this.vs[this.av].grid._sizeFix=2}this.vs[this.av].gridId=A.id;this.vs[this.av].gridObj=A;if(this.skin=="dhx_terrace"){this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].grid};this.obj.attachScheduler=function(D,G,A,B){B=B||window.scheduler;var E=0;if(A){C=document.getElementById(A);if(C)E=1}if(!E){var F=A||"<div class=\"dhx_cal_tab\" name=\"day_tab\" style=\"right:204px;\"></div><div class=\"dhx_cal_tab\" name=\"week_tab\" style=\"right:140px;\"></div><div class=\"dhx_cal_tab\" name=\"month_tab\" style=\"right:76px;\"></div>",C=document.createElement("DIV");C.id="dhxSchedObj_"+this._genStr(12);C.innerHTML="<div id=\""+C.id+"\" class=\"dhx_cal_container\" style=\"width:100%;height:100%;\"><div class=\"dhx_cal_navline\"><div class=\"dhx_cal_prev_button\">&nbsp;</div><div class=\"dhx_cal_next_button\">&nbsp;</div><div class=\"dhx_cal_today_button\"></div><div class=\"dhx_cal_date\"></div>"+F+"</div><div class=\"dhx_cal_header\"></div><div class=\"dhx_cal_data\"></div></div>";document.body.appendChild(C.firstChild)}this.attachObject(C.id,false,true,false);this.vs[this.av].sched=B;this.vs[this.av].schedId=C.id;B.setSizes=B.update_view;B.destructor=function(){};B.init(C.id,D,G);return this.vs[this._viewRestore()].sched};this.obj.attachTree=function(A){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var B=document.createElement("DIV");B.id="dhxTreeObj_"+this._genStr(12);B.style.width="100%";B.style.height="100%";B.cmp="tree";document.body.appendChild(B);this.attachObject(B.id,false,true,false);this.vs[this.av].tree=new dhtmlXTreeObject(B.id,"100%","100%",(A||0));this.vs[this.av].tree.setSkin(this.skin);this.vs[this.av].tree.allTree.childNodes[0].style.marginTop="2px";this.vs[this.av].tree.allTree.childNodes[0].style.marginBottom="2px";this.vs[this.av].treeId=B.id;this.vs[this.av].treeObj=B;if(this.skin=="dhx_terrace"){this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].tree};this.obj.attachTabbar=function(B){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.style.border="none";this.setDimension(this.w,this.h)}var A=document.createElement("DIV");A.id="dhxTabbarObj_"+this._genStr(12);A.style.width="100%";A.style.height="100%";A.style.overflow="hidden";A.cmp="tabbar";if(!this._isWindow)A._hideBorders=true;document.body.appendChild(A);this.attachObject(A.id,false,true,false);if(this._isCell){this.hideHeader();A._hideBorders=false;this._padding=false}this.vs[this.av].tabbar=new dhtmlXTabBar(A.id,B||"top",(this.skin=="dhx_terrace"?null:20));if(!this._isWindow&&this.skin!="dhx_terrace")this.vs[this.av].tabbar._s.expand=true;this.vs[this.av].tabbar.setSkin(this.skin);this.vs[this.av].tabbar.adjustOuterSize();this.vs[this.av].tabbarId=A.id;this.vs[this.av].tabbarObj=A;if(this.skin=="dhx_terrace"){this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].tabbar};this.obj.attachFolders=function(){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var A=document.createElement("DIV");A.id="dhxFoldersObj_"+this._genStr(12);A.style.width="100%";A.style.height="100%";A.style.overflow="hidden";A.cmp="folders";document.body.appendChild(A);this.attachObject(A.id,false,true,false);this.vs[this.av].folders=new dhtmlxFolders(A.id);this.vs[this.av].folders.setSizes();this.vs[this.av].foldersId=A.id;this.vs[this.av].foldersObj=A;return this.vs[this._viewRestore()].folders};this.obj.attachAccordion=function(){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var A=document.createElement("DIV");A.id="dhxAccordionObj_"+this._genStr(12);this._padding=true;if(this.skin=="dhx_web"){A.style.left="0px";A.style.top="0px";A.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px";A.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"}else if(this.skin!="dhx_terrace"){A.style.left="-1px";A.style.top="-1px";A.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px";A.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"}A.style.position="relative";A.cmp="accordion";document.body.appendChild(A);this.attachObject(A.id,false,true,false);this.vs[this.av].accordion=new dhtmlXAccordion(A.id,this.skin);this.vs[this.av].accordion.setSizes();this.vs[this.av].accordionId=A.id;this.vs[this.av].accordionObj=A;if(this.skin=="dhx_terrace"){this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].accordion};this.obj.attachLayout=function(B,C){if(this._isCell&&this.skin=="dhx_skyblue"){this.hideHeader();this.vs[this.av].dhxcont.style.border="0px solid white";this.adjustContent(this.childNodes[0],0)}if(this._isCell&&this.skin=="dhx_web")this.hideHeader();this._padding=true;var A=document.createElement("DIV");A.id="dhxLayoutObj_"+this._genStr(12);A.style.overflow="hidden";A.style.position="absolute";A.style.left="0px";A.style.top="0px";A.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px";A.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px";if((this._isTabbarCell||this._isAcc)&&(this.skin=="dhx_skyblue")){A.style.left="-1px";A.style.top="-1px";A.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px";A.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"}A.dhxContExists=true;A.cmp="layout";document.body.appendChild(A);this.attachObject(A.id,false,true,false);this.vs[this.av].layout=new dhtmlXLayoutObject(A,B,(C||this.skin));if(this._isWindow)this.attachEvent("_onBeforeTryResize",this.vs[this.av].layout._defineWindowMinDimension);this.vs[this.av].layoutId=A.id;this.vs[this.av].layoutObj=A;if(this.skin=="dhx_terrace"){if(this._isCell){this.style.backgroundColor="transparent";this.vs[this.av].dhxcont.style.backgroundColor="transparent";this.hideHeader()}this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].layout};this.obj.attachEditor=function(B){if(this._isWindow&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var A=document.createElement("DIV");A.id="dhxEditorObj_"+this._genStr(12);A.style.position="relative";A.style.display="none";A.style.overflow="hidden";A.style.width="100%";A.style.height="100%";A.cmp="editor";document.body.appendChild(A);if(this.skin=="dhx_terrace")A._attached=true;this.attachObject(A.id,false,true,false);this.vs[this.av].editor=new dhtmlXEditor(A.id,B||this.skin);this.vs[this.av].editorId=A.id;this.vs[this.av].editorObj=A;if(this.skin=="dhx_terrace"){this.adjust();this.updateNestedObjects(true)}return this.vs[this._viewRestore()].editor};this.obj.attachMap=function(A){var B=document.createElement("DIV");B.id="GMapsObj_"+this._genStr(12);B.style.position="relative";B.style.display="none";B.style.overflow="hidden";B.style.width="100%";B.style.height="100%";B.cmp="gmaps";document.body.appendChild(B);this.attachObject(B.id,false,true,true);if(!A)A={center:new google.maps.LatLng(40.719837,-73.992348),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP};this.vs[this.av].gmaps=new google.maps.Map(B,A);return this.vs[this.av].gmaps};this.obj.attachObject=function(D,B,A,F){if(typeof(D)=="string")D=document.getElementById(D);if(B){D.style.visibility="hidden";D.style.display="";var C=D.offsetWidth,E=D.offsetHeight}this._attachContent("obj",D);if(B&&this._isWindow){D.style.visibility="";this._adjustToContent(C,E)}if(this.skin=="dhx_terrace")if(this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null){this.adjust(typeof(F)=="undefined"||F==true);this.updateNestedObjects(true)}if(!A)this._viewRestore()};this.obj.detachObject=function(B,H){var E=null,G=null,A=["tree","grid","layout","tabbar","accordion","folders"];for(var D=0;D<A.length;D++)if(this.vs[this.av][A[D]]){E=this.vs[this.av][A[D]];G=this.vs[this.av][A[D]+"Obj"];if(B){if(E.unload)E.unload();if(E.destructor)E.destructor();while(G.childNodes.length>0)G.removeChild(G.childNodes[0]);G.parentNode.removeChild(G);G=null;E=null}else{document.body.appendChild(G);G.style.display="none"}this.vs[this.av][A[D]]=null;this.vs[this.av][A[D]+"Id"]=null;this.vs[this.av][A[D]+"Obj"]=null}if(E!=null&&G!=null)return new Array(E,G);if(B&&this.vs[this.av]._frame){this._detachURLEvents();this.vs[this.av]._frame=null}var C=this.vs[this.av].dhxcont.mainCont[this.av];while(C.childNodes.length>0)if(B==true)C.removeChild(C.childNodes[0]);else{var F=C.childNodes[0];if(H!=null){if(typeof(H)!="object")H=document.getElementById(H);H.appendChild(F)}else document.body.appendChild(F);F.style.display="none"}C=H=null};this.obj.appendObject=function(A){if(typeof(A)=="string")A=document.getElementById(A);this._attachContent("obj",A,true)};this.obj.attachHTMLString=function(B){this._attachContent("str",B);var C=B.match(/<script[^>]*>[^\f]*?<\/script>/g)||[];for(var D=0;D<C.length;D++){var A=C[D].replace(/<([\/]{0,1})script[^>]*>/g,"");if(A)if(window.execScript)window.execScript(A);else window.eval(A)}};this.obj.attachURL=function(B,A){this._attachContent((A==true?"urlajax":"url"),B,false);if(this.skin=="dhx_terrace")if(this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null){this.adjust(true);this.updateNestedObjects(true)}this._viewRestore()};this.obj.adjust=function(F){if(this.skin=="dhx_skyblue"){if(this.vs[this.av].menu){if(this._isWindow||this._isLayout){this.vs[this.av].menu._topLevelOffsetLeft=0;document.getElementById(this.vs[this.av].menuId).style.height="26px";this.vs[this.av].menuHeight=document.getElementById(this.vs[this.av].menuId).offsetHeight;if(this._doOnAttachMenu)this._doOnAttachMenu("show")}if(this._isCell){document.getElementById(this.vs[this.av].menuId).className+=" in_layoutcell";this.vs[this.av].menuHeight=25}if(this._isAcc){document.getElementById(this.vs[this.av].menuId).className+=" in_acccell";this.vs[this.av].menuHeight=25}if(this._doOnAttachMenu)this._doOnAttachMenu("adjust")}if(this.vs[this.av].toolbar){if(this._isWindow)document.getElementById(this.vs[this.av].toolbarId).className+=" in_window";if(this._isLayout)document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout";if(this._isCell)document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell";if(this._isAcc)document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell";if(this._isTabbarCell)document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell"}}if(this.skin=="dhx_web")if(this.vs[this.av].toolbar){if(this._isWindow)document.getElementById(this.vs[this.av].toolbarId).className+=" in_window";if(this._isLayout)document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout";if(this._isCell)document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell";if(this._isAcc)document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell";if(this._isTabbarCell)document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell"}if(this.skin=="dhx_terrace"){var B=0;if(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)B=14;if(this._isCell&&this._noHeader)B=0;var A=0;if(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)A=14;if(this._isCell&&this._noHeader)A=0;var D=((F==true&&!this.vs[this.av].toolbar)||this._isLayout?14:0),E=(F==true||this._isLayout?14:0),C=false;if(this.vs[this.av].menu){document.getElementById(this.vs[this.av].menuId).style.marginLeft=B+"px";document.getElementById(this.vs[this.av].menuId).style.marginRight=B+"px";document.getElementById(this.vs[this.av].menuId).style.marginTop=A+"px";document.getElementById(this.vs[this.av].menuId).style.marginBottom=D+"px";this.vs[this.av].menuHeight=32+A+D;if(this._doOnAttachMenu)this._doOnAttachMenu("show");C=true}if(this.vs[this.av].toolbar){if(A==0&&this.vs[this.av].menu!=null&this._isCell)A=14;document.getElementById(this.vs[this.av].toolbarId).style.marginLeft=B+"px";document.getElementById(this.vs[this.av].toolbarId).style.marginRight=B+"px";document.getElementById(this.vs[this.av].toolbarId).style.marginTop=A+"px";document.getElementById(this.vs[this.av].toolbarId).style.marginBottom=E+"px";this.vs[this.av].toolbarHeight=32+A+E;if(this._doOnAttachToolbar)this._doOnAttachToolbar("show");C=true}}};this.obj._attachContent=function(F,E,A){if(A!==true){if(this.vs[this.av]._frame){this._detachURLEvents();this.vs[this.av]._frame=null}while(this.vs[this.av].dhxcont.mainCont[this.av].childNodes.length>0)this.vs[this.av].dhxcont.mainCont[this.av].removeChild(this.vs[this.av].dhxcont.mainCont[this.av].childNodes[0])}if(F=="url"){if(this._isWindow&&E.cmp==null&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this._redraw()}var D=document.createElement("IFRAME");D.frameBorder=0;D.border=0;D.style.width="100%";D.style.height="100%";D.setAttribute("src","javascript:false;");this.vs[this.av].dhxcont.mainCont[this.av].appendChild(D);D.src=E;this.vs[this.av]._frame=D;this._attachURLEvents()}else if(F=="urlajax"){if(this._isWindow&&E.cmp==null&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF";this._redraw()}var B=this,C=String(this.av).valueOf(),H=function(){var A=B.av;B.av=C;B.attachHTMLString(this.xmlDoc.responseText,this);B.av=A;if(B._doOnFrameContentLoaded)B._doOnFrameContentLoaded();this.destructor()},G=new dtmlXMLLoaderObject(H,window);G.dhxWindowObject=this;G.loadXML(E)}else if(F=="obj"){if(this._isWindow&&E.cmp==null&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF";this._redraw()}this.vs[this.av].dhxcont._frame=null;this.vs[this.av].dhxcont.mainCont[this.av].appendChild(E);this.vs[this.av].dhxcont.mainCont[this.av].style.overflow=(A===true?"auto":"hidden");E.style.display=""}else if(F=="str"){if(this._isWindow&&E.cmp==null&&this.skin=="dhx_skyblue"){this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid";this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF";this._redraw()}this.vs[this.av].dhxcont._frame=null;this.vs[this.av].dhxcont.mainCont[this.av].innerHTML=E}};this.obj._attachURLEvents=function(){var A=this,B=this.vs[this.av]._frame;if(_isIE)B.onreadystatechange=function(D){if(B.readyState=="complete"){try{B.contentWindow.document.body.onmousedown=function(){if(A._doOnFrameMouseDown)A._doOnFrameMouseDown()}}catch(C){}try{if(A._doOnFrameContentLoaded)A._doOnFrameContentLoaded()}catch(C){}}};else B.onload=function(){try{B.contentWindow.onmousedown=function(){if(A._doOnFrameMouseDown)A._doOnFrameMouseDown()}}catch(C){}try{if(A._doOnFrameContentLoaded)A._doOnFrameContentLoaded()}catch(C){}}};this.obj._detachURLEvents=function(){if(_isIE){try{this.vs[this.av]._frame.onreadystatechange=null;this.vs[this.av]._frame.contentWindow.document.body.onmousedown=null;this.vs[this.av]._frame.onload=null}catch(A){}}else{try{this.vs[this.av]._frame.contentWindow.onmousedown=null;this.vs[this.av]._frame.onload=null}catch(A){}}};this.obj.showMenu=function(){if(!(this.vs[this.av].menu&&this.vs[this.av].menuId))return;if(document.getElementById(this.vs[this.av].menuId).style.display!="none")return;this.vs[this.av].menuHidden=false;if(this._doOnAttachMenu)this._doOnAttachMenu("show");document.getElementById(this.vs[this.av].menuId).style.display="";this._viewRestore()};this.obj.hideMenu=function(){if(!(this.vs[this.av].menu&&this.vs[this.av].menuId))return;if(document.getElementById(this.vs[this.av].menuId).style.display=="none")return;document.getElementById(this.vs[this.av].menuId).style.display="none";this.vs[this.av].menuHidden=true;if(this._doOnAttachMenu)this._doOnAttachMenu("hide");this._viewRestore()};this.obj.showToolbar=function(){if(!(this.vs[this.av].toolbar&&this.vs[this.av].toolbarId))return;if(document.getElementById(this.vs[this.av].toolbarId).style.display!="none")return;this.vs[this.av].toolbarHidden=false;if(this._doOnAttachToolbar)this._doOnAttachToolbar("show");document.getElementById(this.vs[this.av].toolbarId).style.display="";this._viewRestore()};this.obj.hideToolbar=function(){if(!(this.vs[this.av].toolbar&&this.vs[this.av].toolbarId))return;if(document.getElementById(this.vs[this.av].toolbarId).style.display=="none")return;this.vs[this.av].toolbarHidden=true;document.getElementById(this.vs[this.av].toolbarId).style.display="none";if(this._doOnAttachToolbar)this._doOnAttachToolbar("hide");this._viewRestore()};this.obj.showStatusBar=function(){if(!(this.vs[this.av].sb&&this.vs[this.av].sbId))return;if(document.getElementById(this.vs[this.av].sbId).style.display!="none")return;this.vs[this.av].sbHidden=false;if(this._doOnAttachStatusBar)this._doOnAttachStatusBar("show");document.getElementById(this.vs[this.av].sbId).style.display="";this._viewRestore()};this.obj.hideStatusBar=function(){if(!(this.vs[this.av].sb&&this.vs[this.av].sbId))return;if(document.getElementById(this.vs[this.av].sbId).style.display=="none")return;this.vs[this.av].sbHidden=true;document.getElementById(this.vs[this.av].sbId).style.display="none";if(this._doOnAttachStatusBar)this._doOnAttachStatusBar("hide");this._viewRestore()};this.obj._dhxContDestruct=function(){var C=this.av;for(var B in this.vs){this.av=B;this.detachMenu();this.detachToolbar();this.detachStatusBar();this.detachObject(true);this.vs[B].dhxcont.mainCont[B]=null}for(B in this.vs){this.vs[B].dhxcont.mainCont=null;this.vs[B].dhxcont.innerHTML="";this.vs[B].dhxcont=null;this.vs[B]=null}this.vs=null;this.attachMenu=null;this.attachToolbar=null;this.attachStatusBar=null;this.detachMenu=null;this.detachToolbar=null;this.detachStatusBar=null;this.showMenu=null;this.showToolbar=null;this.showStatusBar=null;this.hideMenu=null;this.hideToolbar=null;this.hideStatusBar=null;this.attachGrid=null;this.attachScheduler=null;this.attachTree=null;this.attachTabbar=null;this.attachFolders=null;this.attachAccordion=null;this.attachLayout=null;this.attachEditor=null;this.attachObject=null;this.detachObject=null;this.appendObject=null;this.attachHTMLString=null;this.attachURL=null;this.attachMap=null;this.view=null;this.show=null;this.adjust=null;this.setMinContentSize=null;this.moveContentTo=null;this.adjustContent=null;this.coverBlocker=null;this.showCoverBlocker=null;this.hideCoverBlocker=null;this.updateNestedObjects=null;this._attachContent=null;this._attachURLEvents=null;this._detachURLEvents=null;this._viewRestore=null;this._setPadding=null;this._init=null;this._genStr=null;this._dhxContDestruct=null;this._getSt=null;this.getFrame=null;this.getView=null;this.setActive=null;A.st.innerHTML="";A.st.parentNode.removeChild(A.st);A.st=null;A.setContent=null;A.dhxcont=null;A.obj=null;A=null;if(dhtmlx.detaches)for(B in dhtmlx.detaches)dhtmlx.detaches[B](this)};if(dhtmlx.attaches)for(var B in dhtmlx.attaches)this.obj[B]=dhtmlx.attaches[B];return this}function dhtmlXTabBar(B,C,A){C=C||"top";dhtmlxEventable(this);this._hrefs={};this._s={};this._c={};this._s.mode=C;this._s.scrolls=true;this._custom_height=A;this._s.line_height=(parseInt(A)||20)+3;this._s.skin_line=1;this._s.tab_margin=0;this._s.expand=0;this._s.ext_border=2;this._s._bMode=(C=="right"||C=="bottom")?1:0;this._s._vMode=(C=="right"||C=="left")?1:0;this._dx=this._s._vMode?"height":"width";this._dy=this._s._vMode?"width":"height";switch(C){case"top":this._py="top";this._px="left";this._pxc="right";break;case"bottom":this._py="bottom";this._px="left";this._pxc="right";break;case"right":this._py="right";this._px="top";this._pxc="bottom";break;case"left":this._py="left";this._px="top";this._pxc="bottom";break}this._active=null;this._tabs={};this._content={};this._href={};this._rows=[];this._s._tabSize=150;this._styles={"default":{left:3,right:3,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},"winbiscarf":{left:18,right:18,select_shift:3,select_top:2,margin:1,offset:5},"winscarf":{left:18,right:4,select_shift:3,select_top:2,margin:5,offset:5},"modern":{left:5,right:5,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},"silver":{left:7,right:7,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},"dark_blue":{left:2,right:2,select_shift:3,select_top:2,margin:1,offset:5},"glassy_blue":{left:2,right:3,select_shift:3,select_top:2,margin:1,offset:5},"dhx_terrace":{left:7,right:7,select_shift:0,select_top:0,margin:-1,offset:0,tab_color:"",data_color:"#ffffff"},"dhx_black":{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5},"dhx_blue":{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},"dhx_skyblue":{left:3,right:3,select_shift:0,select_top:0,margin:-1,offset:5,data_color:"white",hover:true},"dhx_web":{left:3,right:3,select_shift:1,select_top:0,margin:5,offset:15,data_color:"white"}};if(typeof(B)!="object")B=document.getElementById(B);this.entBox=B;this.entBox.className+=" dhx_tabbar_zone_"+this._s.mode;if(dhtmlx.image_path)this.setImagePath(dhtmlx.image_path);this.setStyle("default");this.__skin=false;this._createSelf();if(_isIE)this.preventIECashing(true);return this}dhtmlXTabBar.prototype={_get_size:function(A,B){var C=this.entBox.getAttribute(A)||this.entBox.style[A]||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)[A]:(this.entBox.currentStyle?this.entBox.currentStyle[A]:0));if((C||"").indexOf("%")!=-1)this.enableAutoReSize(true,true);if(!C||C.indexOf("%")!=-1||C=="auto")C=B+"px";return C},setStyle:function(A){this.setSkin(A)},_getSkin:function(A){return this._a},setSkin:function(L){L=L.toLowerCase();if(!this._styles[L])L="default";this._a=this._styles[L];this.skin=L;if(this._tabAll)this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin;var D=L.indexOf("dhx_sky")==0,E=L.indexOf("dhx_web")==0,K=L.indexOf("dhx_terrace")==0;if(K&&!this._custom_height){this._s.line_height=37;this._setRowSizes()}if(D)this._s.skin_line=0;if(E){this._s.line_height=29;this._s.ext_border=-1;this._s.expand=true}if(D){this._s.line_height=26;this._setRowSizes();if(this._s.expand)this._s.tab_margin=-1;this._s.skin_line_x=true;this._s.skin_line=-3;var J=this._s._rendered;if(J)for(var F=0;F<J.length;F++)J[F].parentNode.removeChild(J[F]);var G=document.createElement("DIV");G.className="dhx_tabbar_lineA";this._tabAll.appendChild(G);var H=document.createElement("DIV");H.className="dhx_tabbar_lineB";this._tabAll.appendChild(H);var I=document.createElement("DIV");I.className="dhx_tabbar_lineC";this._tabAll.appendChild(I);var C=document.createElement("DIV");C.className="dhx_tabbar_lineD";this._tabAll.appendChild(C);this._getCoverLine();this._s._rendered=[G,H,I,C];if(this._s.expand){this._conZone.style.borderWidth="0px 0px 0px 0px";this._tabZone.firstChild.style.borderWidth="0px 0px 0px 0px";I.style.borderWidth="0px 0px 0px 0px";C.style.left="0px";I.style.right="0px";G.style.borderWidth="0px 0px 0px 0px";if(this._s.mode=="top")this._lineA.style.borderWidth="1px 0px 0px 0px";H.style.left="1px";this._s.ext_border=0}var A=function(){this._lineA.style[this._dx]="1px";var B=(_isIE&&document.compatMode=="BackCompat"),A=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(B?2:0);if(this._lastActive)A=Math.max(A,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]);if(A<6)return;G.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px";G.style[this._dx]=A-2+"px";H.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px";H.style[this._dx]=A-(B?6:4)+(this._s.expand?2:0)+"px";I.style[this._dy]=parseInt(this._tabZone.style[this._dy])-3+"px";this._lineA.style[this._dx]=A-2+"px"};A.call(this);var M=this._checkScroll;this._checkScroll=function(){A.apply(this,arguments);M.apply(this,arguments)};var B=this._scrollTo;this._scrollTo=function(){B.apply(this,arguments);A.apply(this,arguments)}}if(this._a.data_color&&this._conZone)this._conZone.style.backgroundColor=this._a.data_color;this.__skin=true},enableAutoReSize:function(){var A=this;dhtmlxEvent(window,"resize",function(){window.setTimeout(function(){if(A&&A._setSizes)A._setSizes()},1)})},_createSelf:function(){this._tabAll=document.createElement("DIV");this._tabZone=document.createElement("DIV");this._conZone=document.createElement("DIV");this.entBox.appendChild(this._tabAll);this._tabAll.appendChild(this._tabZone);this._tabAll.appendChild(this._conZone);this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin;if(this._s._vMode)this._tabAll.className+="V";if(this._s._bMode)this._tabAll.className+="B";this._tabZone.className="dhx_tablist_zone";this._conZone.className="dhx_tabcontent_zone";if(this.entBox._hideBorders)this._conZone.style.borderLeft=this._conZone.style.borderRight=this._conZone.style.borderBottom="0px solid white";if(this._a.data_color)this._conZone.style.backgroundColor=this._a.data_color;this._tabZone.onselectstart=function(){return false};this._tabZone.onclick=this._onClickHandler;this._tabZone.onmouseover=this._onMouseOverHandler;this._tabZone[_isFF?"onmouseout":"onmouseleave"]=this._onMouseOutHandler;this._tabZone.tabbar=this;this._createRow()},_createRow:function(){var A=document.createElement("DIV");A.className="dhx_tabbar_row";A.tabCount=0;this._tabZone.appendChild(A);this._rows[this._rows.length]=A;this._setRowSizes()},_removeRow:function(B){B.parentNode.removeChild(B);var A=[];for(var C=0;C<this._rows.length;C++)if(this._rows[C]!=B)A[A.length]=this._rows[C];this._rows=A},_setSizes:function(I,H){var D=["clientHeight","clientWidth"];if(this._dx!="width")D.reverse();var F=(_isIE&&document.compatMode=="BackCompat"),E=(this._conZone.offsetWidth-this._conZone.clientWidth),C=H||(this.entBox[D[0]]+(F?E:0)),B=I||(this.entBox[D[1]]+(F?E:0)),G=this._rows.length*(this._s.line_height-(this._s.skin_line_x?4:2))+(this._s.skin_line_x?2:0);this._tabZone.style[this._dy]=G+"px";this._conZone.style[this._dy]=Math.max(0,C-this._s.ext_border-G-(this._s.skin_line_x?3:0)-this._s.tab_margin)+"px";this._conZone.style[this._dx]=Math.max(0,B-(this._s.expand?0:2))+"px";this._tabZone.style[this._py]=this._s.tab_margin+"px";this._conZone.style[this._py]=G+this._s.tab_margin-this._s.skin_line+"px";this._checkScroll();var A=this.getActiveTab();if(A)this.cells(A).activate()},_checkScroll:function(){if(this._lineA){this._lineA.style[this._dx]="1px";var B=(_isIE&&document.compatMode=="BackCompat"),A=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(B?2:0);if(this._lastActive)A=Math.max(A,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]);if(A>2)this._lineA.style[this._dx]=A-2+"px"}if(this._s._vMode||!this._s.scrolls)return;for(var C=0;C<this._rows.length;C++)if((this._rows[C].scrollWidth-this._rows[C].offsetWidth)>2)this._showScroll(C);else this._hideScroll(C)},_showScroll:function(C){if(this._rows[C]._scroll)return;this.callEvent("onBeforeShowScroll",[C]);var A=this._rows[C]._scroll=[],B=Math.max(0,this._s.line_height-23);A[0]=document.createElement("DIV");A[0].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_left.gif);width:20px;height:21px;position:absolute;left:0px;z-index:990;top:"+B+"px;";A[0].className="dhx_tab_scroll_left";this._rows[C].appendChild(A[0]);A[1]=document.createElement("DIV");A[1].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_right.gif);width:20px;height:21px;position:absolute;right:0px;z-index:990;top:"+B+"px;";A[1].className="dhx_tab_scroll_right";this._rows[C].appendChild(A[1])},_hideScroll:function(A){if(this._rows[A]._scroll)this.callEvent("onBeforeHideScroll",[A]);if(!this._rows[A]._scroll)return;this._rows[A].removeChild(this._rows[A]._scroll[0]);this._rows[A].removeChild(this._rows[A]._scroll[1]);this._rows[A]._scroll=null},_setRowSizes:function(){for(var A=0;A<this._rows.length;A++){this._rows[A].style[this._dy]=this._s.line_height+"px";this._rows[A].style[this._py]=A*(this._s.line_height-(this._s.skin_line_x?4:2))-((_isIE&&!window.postMessage&&this._s._bMode)?0:0)+"px";this._rows[A].style.zIndex=10+A}this._setSizes()},_setTabSizes:function(C){var E=this._a.offset,A=this._s.align?this._pxc:this._px;for(var D=0;D<C.tabCount;D++){var B=C.childNodes[D];if(B.style.display=="none")continue;B.style[A]=E-(this._lastActive==B?this._a.select_shift:0)+"px";E+=B._size+this._a.margin}},addTab:function(B,C,H,A,F){if(!this.__skin&&dhtmlx.skin)this.setSkin(dhtmlx.skin);F=F||0;for(var G=this._rows.length;G<=F;G++)this._createRow();var E=this._rows[F].tabCount;if((!A)&&(A!==0))A=E;var D=this._createTab(B,C,(H=="*"?10:H||this._s._tabSize));this._addTab(this._rows[F],D,H,A);this._tabs[B]=D;this.cells(B).hide();this._checkScroll()},removeTab:function(A,D){var B=this._tabs[A];if(!B)return;this.cells(A)._dhxContDestruct();if(this._content[A]&&this._content[A].parentNode)this._content[A].parentNode.removeChild(this._content[A]);this._content[A]=null;this._goToAny(B,D);var C=B.parentNode;B.innerHTML="";C.removeChild(B);C.tabCount--;if((C.tabCount==0)&&(this._rows.length>1))this._removeRow(C);else this._setTabSizes(C);delete this._tabs[A];if(this._lastActive==B)this._lastActive=null;this._setRowSizes()},_goToAny:function(A,B){if(this._lastActive==A){if(B&&this.goToNextTab()==A)this.goToPrevTab();if(this._lastActive==A)this._lastActive=null}},_createTab:function(A,B,F){var C=document.createElement("DIV");C.className="dhx_tab_element dhx_tab_element_inactive";var E="<span>"+B+"</span><div></div><div></div><div></div>";if(this._close)E+="<IMG style='"+this._pxc+":4px;"+this._py+(this.skin=="dhx_web"?":7":":4")+"px;position:absolute;z-index:11;' src='"+this.imgUrl+this.skin+"/close.png' >";C.innerHTML=E;C.setAttribute("tab_id",A);C._size=parseInt(F);C.style[this._dx]=parseInt(F)+"px";C.style[this._dy]=this._s.line_height+"px";C.style[this._py]=this._a.select_top+"px";C.skin=this.skin;if(this._a.tab_color)C.style.backgroundColor=this._a.tab_color;if(this._c[A])C.childNodes[0].style.cssText=this._c[A].color;this._img_all(C);if(this._close){var D=this;C.childNodes[4].onclick=function(B){var A=this.parentNode.getAttribute("tab_id");if(D.callEvent("onTabClose",[A]))D.removeTab(A,true);(B||event).cancelBubble=true}}return C},_img_all:function(C){var B=this._getSkin(C),A=C._active?1:4;this._img(C.childNodes[1],A,this._px,B.left);this._img(C.childNodes[2],A+2,this._pxc,B.right);this._img(C.childNodes[3],A+1,this._px,parseInt(C.style[this._dx])-(B.left+B.right),B.left)},_get_img_pos:function(A){if(this._s._bMode&&A<7)A=Math.abs(A-6);A=-5-A*(this._s._vMode==1&&this.skin=="dhx_terrace"?245:45);if(this._s._vMode)return A+"px 0px";else return"0px "+A+"px"},_img:function(B,D,E,C,A){if(typeof(B)=="undefined")return;B.style.backgroundImage="url("+this.imgUrl+this.skin+"/"+this.skin+"_"+this._s.mode+".gif)";B.style.backgroundPosition=this._get_img_pos(D);if(this._s._vMode==1&&this.skin=="dhx_terrace")B.style.width="240px";B.style[this._py]="0px";if(E){B.style[this._dx]=Math.max(C,0)+"px";B.style[E]=(A||0)+"px"}},_addTab:function(E,D,G,A){var F=this._a.offset;if(E.tabCount)var B=E.childNodes[E.tabCount-1],F=parseInt(B.style[this._s.align?this._pxc:this._px])+parseInt(B._size)+this._a.margin;var C=E.childNodes[A];if(C)E.insertBefore(D,C);else E.appendChild(D);E.tabCount++;if(G=="*"){D.style.whiteSpace="nowrap";this.adjustTabSize(D)}D.style[this._s.align?this._pxc:this._px]=F+"px";if(A!=E.tabCount-1)this._setTabSizes(E)},adjustTabSize:function(B,C){var A=this._getSkin(A);if(!C){B.style.fontWeight="bold";B.childNodes[3].style[this._dx]=B.style[this._dx]="10px";C=B[this._s._vMode?"scrollHeight":"scrollWidth"]+10+(this._close?20:0);B.style.fontWeight=""}B.style[this._dx]=C+"px";B._size=C;this._img_all(B)},_onMouseOverHandler:function(A){var B=this.tabbar._getTabTarget(A?A.target:event.srcElement);this.tabbar._showHover(B)},_onMouseOutHandler:function(A){this.tabbar._showHover()},_showHover:function(B){if(B==this._lastHower)return;if(this._lastHower&&this._lastHower!=this._lastActive){var A=this._getSkin(this._lastHower);this._lastHower.className=this._lastHower.className.replace(/[ ]*dhx_tab_hover/gi,"");if(A.hover)this._img_all(this._lastHower);else this._img(this._lastHower.childNodes[3],5,this._px,parseInt(this._lastHower.style[this._dx])-(A.left+A.right),A.left);this._lastHower=null}if(B&&(B==this._lastActive||B._disabled))return;this._lastHower=B;if(B){A=this._getSkin(B);B.className+=" dhx_tab_hover";if(A.hover){this._img(B.childNodes[1],7,this._px,A.left);this._img(B.childNodes[2],8,this._pxc,A.right)}this._img(B.childNodes[3],0,this._px,parseInt(B.style[this._dx])-(A.left+A.right),A.left)}},_getTabTarget:function(A){if(!A)return null;while((!A.className)||(A.className.indexOf("dhx_tab_element")==-1)){if((A.className)&&(A.className.indexOf("dhx_tabbar_zone")!=-1))return null;A=A.parentNode;if(!A)return null}return A},_onClickHandler:function(A){var D=A?A.target:event.srcElement,C=this.tabbar._getTabTarget(D);if(C&&!C._disabled)this.tabbar._setTabActive(C);else{var B=null;if(D.className=="dhx_tab_scroll_left"){D.parentNode.scrollLeft=Math.max(0,D.parentNode.scrollLeft-D.parentNode.offsetWidth/2);B=D;this.tabbar._setTabTop(this.tabbar._lastActive)}else if(D.className=="dhx_tab_scroll_right"){D.parentNode.scrollLeft+=D.parentNode.offsetWidth/2;B=D.previousSibling;this.tabbar._setTabTop(this.tabbar._lastActive)}if(B&&B.parentNode&&B.parentNode.tagName){B.style.left=B.parentNode.scrollLeft+"px";if(!_isIE||window.XMLHttpRequest)B.nextSibling.style.right=B.parentNode.scrollLeft*(-1)+"px";return false}}},_deactivateTab:function(){this._setTabInActive(this._lastActive);this._lastActive=null},_setTabInActive:function(D,E){if(!D||D!=this._lastActive)return true;var C=this._getSkin(D),A=D.getAttribute("tab_id"),B=this._s.align?this._pxc:this._px;D.className=D.className.replace("_active","_inactive");D.style[this._py]=C.select_top+"px";D.style[B]=parseInt(D.style[B])+C.select_shift+"px";D.style[this._dx]=D._size+"px";D._active=false;if(C.tab_color)D.style.backgroundColor=C.tab_color;if(this._c[A])D.childNodes[0].style.cssText=this._c[A].color;this._img_all(D);this.cells(A).hide()},_setTabActive:function(E,F){if(!E)return true;var A=E.getAttribute("tab_id"),C=this._lastActive?this._lastActive.getAttribute("tab_id"):null,D=this._getSkin(E);if(!F)this.callEvent("onTabClick",[A,C]);if(E==this._lastActive)return true;if(!F)if(!this.callEvent("onSelect",[A,C]))return;var B=this._s.align?this._pxc:this._px;this._setTabInActive(this._lastActive);E.className=E.className.replace("_inactive","_active");E.style[this._py]="0px";E.style[B]=parseInt(E.style[B])-D.select_shift+"px";E.style[this._dx]=E._size+D.select_shift*2+"px";E._active=true;if(D.data_color)E.style.backgroundColor=D.data_color;if(this._c[A])E.childNodes[0].style.cssText=this._c[A].scolor;this._img_all(E);this._setTabTop(E);this._lastActive=E;this.cells(A).show();this._scrollTo(E);return true},_scrollTo:function(B){if(!this._s.scrolls)return;if(B.offsetLeft<B.parentNode.scrollLeft||(B.offsetLeft+B.offsetWidth)>(B.parentNode.scrollLeft+B.parentNode.offsetWidth)){B.parentNode.scrollLeft=B.offsetLeft;var A=B.parentNode._scroll;if(A&&A[0]){A[0].style.left=A[0].parentNode.scrollLeft+"px";if(!_isIE||window.XMLHttpRequest)A[1].style.right=A[1].parentNode.scrollLeft*(-1)+"px"}}},_setTabTop:function(D){if(!D)return false;var B=this._rows.length-1;for(var F=0;F<this._rows.length;F++)if(this._rows[F]==D.parentNode){var E=this._rows[F];if(F!=B){this._rows[F]=this._rows[B];this._rows[B]=E}var C=this._getCoverLine();E.appendChild(C);C.style[this._dx]="1px";var A=(this._s._vMode?Math.max(this._tabZone.offsetHeight,E.scrollHeight):Math.max(this._tabZone.offsetWidth,E.scrollWidth));if(A>0)C.style[this._dx]=A+"px";D.style.zIndex=(C._index++);break}this._setRowSizes()},_getCoverLine:function(){if(!this._lineA){this._lineA=document.createElement("div");this._lineA.className="dhx_tablist_line";this._lineA.style[this._py]=this._s.line_height-3-(this._s.skin_line_x?1:0)+"px";this._lineA.style[this._dx]="100%";this._lineA._index=1}this._lineA.style.zIndex=(this._lineA._index++);return this._lineA},cells:function(A){if(!this._tabs[A])return null;if(!this._content[A]){var B=document.createElement("DIV");B.style.cssText="width:100%;height:100%;visibility:hidden;overflow:hidden;position:absolute;top:0px;left:0px;";B.setAttribute("tab_id",A);B.skin=this.skin;this._conZone.appendChild(B);(new dhtmlXContainer(B)).setContent(B);if(this.skin=="dhx_web"&&B._setPadding)B._setPadding(1,"dhxcont_tabbar_dhx_web");B._isTabbarCell=true;this._content[A]=B;var C=this;B.show=function(){if(C._s.hide)this.style.display="";this.style.visibility="";this.style.zIndex="1";this.autoSize();this._activate()};B.hide=function(){if(C._s.hide){this.style.visibility="";this.style.display="none"}else this.style.visibility="hidden";this.style.zIndex=-1;if(C._hrfmode=="iframe")this.attachURL("javascript:false")};B.autoSize=function(){if(C._awdj||C._ahdj){var B=(this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont);if(!B.offsetWidth)B.style.width=Math.max(0,C.entBox.offsetWidth-2)+"px";if(C._ahdj)B.style.height="1px";var A=this._getContentDim();if(C._awdj){C.entBox.style.width=A[0]+2+"px";B.style.width=A[0]+"px"}if(C._ahdj){C._tabAll.style.height=C.entBox.style.height=A[1]+C._rows.length*(C._s.line_height-2)+(C._s.expand?0:2)+2+"px";B.style.height=A[1]+"px"}C._setSizes();C._setTabTop(C._lastActive)}};B._activate=function(){if(this._delay)this._attachContent.apply(this,this._delay);this.activate();if(C._hrfmode!="iframe")this._delay=null};B._doOnResize=function(){this.activate()};B.activate=function(){this.adjustContent(this.parentNode,0,0,false,0);B.updateNestedObjects()};B._doOnAttachStatusBar=B.activate;B._doOnAttachMenu=B.activate;B._doOnAttachToolbar=B.activate;B._getContentDim=function(){var A=(this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont);return[A.scrollWidth,A.scrollHeight]};B._doOnFrameContentLoaded=function(){if(C._awdj||C._ahdj)C.cells(A).autoSize();C.callEvent("onXLE",[]);C.callEvent("onTabContentLoaded",[this.getAttribute("tab_id")])};B._doOnBeforeAttachURL=function(){C.callEvent("onXLS",[])};B.adjustContent(B.parentNode,0,0,false,0)}return this._content[A]},forceLoad:function(A,B){this.setContentHref(A,B||this._hrefs[A]);this.cells(A)._activate()},enableAutoSize:function(A,B){this._ahdj=convertStringToBoolean(B);this._awdj=convertStringToBoolean(A)},clearAll:function(){for(var A in this._tabs)this.removeTab(A,false);if(this._lineA){var B=this._getCoverLine();if(B.parentNode)B.parentNode.removeChild(B)}},enableTabCloseButton:function(A){this._close=convertStringToBoolean(A)},preventIECashing:function(A){this.no_cashe=convertStringToBoolean(A);if(this.XMLLoader)this.XMLLoader.rSeed=this.no_cashe},setTabActive:function(A,B){this._setTabActive(this._tabs[A],B===false)},setTabInActive:function(){var A=this._lastActive;if(A){this._deactivateTab();this._setTabTop(A);this._getCoverLine()}},loadXMLString:function(B,A){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,true,this.no_cashe);this.XMLLoader.waitCall=A||0;this.XMLLoader.loadXMLString(B)},loadXML:function(B,A){this.callEvent("onXLS",[]);this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,true,this.no_cashe);this.XMLLoader.waitCall=A||0;this.XMLLoader.loadXML(B)},_parseXML:function(K,E,A,C,O){K.clearAll();var L="";if(!O)O=K.XMLLoader;var B=O.getXMLTopNode("tabbar"),M=O.doXPath("//row",B),Q=B.getAttribute("tabstyle");if(Q)K.setStyle(Q);K._hrfmode=B.getAttribute("hrefmode")||K._hrfmode;K._a.margin=parseInt((B.getAttribute("margin")||K._a.margin),10);Q=B.getAttribute("align");if(Q)K._s.align=(Q=="right"||Q=="bottom");K._a.offset=parseInt((B.getAttribute("offset")||K._a.offset),10);Q=B.getAttribute("skinColors");if(Q)K.setSkinColors(Q.split(",")[0],Q.split(",")[1]);for(var I=0;I<M.length;I++){var F=O.doXPath("./tab",M[I]);for(var G=0;G<F.length;G++){var D=F[G].getAttribute("width"),N=K._getXMLContent(F[G]),J=F[G].getAttribute("id");K.addTab(J,N,D,"",I);if(F[G].getAttribute("selected"))L=J;if(K._hrfmode)K.setContentHref(J,F[G].getAttribute("href"));else for(var H=0;H<F[G].childNodes.length;H++){var P=F[G].childNodes[H];if(P.tagName=="content")if(P.getAttribute("id"))K.setContent(J,P.getAttribute("id"));else K.setContentHTML(J,K._getXMLContent(P))}}}if(L)K.setTabActive(L);K.callEvent("onXLE",[])},adjustOuterSize:function(){this._setSizes()},_getXMLContent:function(B){var A="";for(var D=0;D<B.childNodes.length;D++){var C=B.childNodes[D];A+=(C.nodeValue===null?"":C.nodeValue)}return A},enableContentZone:function(A){this._conZone.style.display=((convertStringToBoolean(A))?"":"none");this._setSizes()},enableForceHiding:function(A){this._s.hide=convertStringToBoolean(A)},setSize:function(B,A){this.entBox.style.width=B+"px";this.entBox.style.height=A+"px";this._setSizes()},setSkinColors:function(C,A,B){if(C)this._a.data_color=C;if(A)this._a.tab_color=A;this._conZone.style.backgroundColor=(B||C)},setCustomStyle:function(A,E,B,D){var C="";this._c[A]={color:(";"+(E?("color:"+E+";"):"")+(D||"")),scolor:(";"+(B?("color:"+B+";"):"")+(D||""))};if(this._tabs[A])this._tabs[A].childNodes[0].style.cssText=((this._tabs[A]==this._lastActive)?this._c[A].scolor:this._c[A].color)},setImagePath:function(A){this.imgUrl=A},getNext:function(C,A){A=A||"nextSibling";var B=C[A];if(B&&B.className.indexOf("dhx_tab_element")==-1)B=null;if(!B&&C.parentNode[A])B=C.parentNode[A].childNodes[0];return B||C},getAllTabs:function(){var B=[];for(var A in this._tabs)B.push(A);return B},goToNextTab:function(A){do A=this.getNext(A||this._lastActive);while(!this._setTabActive(A));return A},goToPrevTab:function(A){do A=this.getNext((A||this._lastActive),"previousSibling");while(!this._setTabActive(A));return A},disableTab:function(A){this._tabs[A]._disabled=true;this._tabs[A].style.color="silver"},enableTab:function(A){this._tabs[A]._disabled=false;this._tabs[A].style.color=""},showTab:function(A){var B=this._tabs[A];B.style.display="";this._setTabSizes(B.parentNode)},hideTab:function(A,C){var B=this._tabs[A];B.style.display="none";if(B==this._lastActive&&C!==false)this.goToNextTab();this._setTabSizes(B.parentNode)},getActiveTab:function(){if(!this._lastActive)return null;return this._lastActive.getAttribute("tab_id")},setLabel:function(A,B,D){var C=this.getActiveTab();this._tabs[A].firstChild.innerHTML=B;this.adjustTabSize(this._tabs[A],D);this._setTabSizes(this._tabs[A].parentNode);this._checkScroll()},getLabel:function(A){return this._tabs[A].firstChild.innerHTML},setOffset:function(A){this._a.offset=A*1},enableScroll:function(A){this._s.scrolls=convertStringToBoolean(A)},setMargin:function(A){this._a.margin=A*1},setAlign:function(A){this._s.align=(A=="bottom"||A=="right")},tabWindow:function(A){return(this._content[A]?this._content[A]._frame.contentWindow:null)},setContentHTML:function(A,B){this.cells(A).attachHTMLString(B)},setContent:function(A,B){this.cells(A).attachObject(B);this.cells(A).activate()},setHrefMode:function(A){this._hrfmode=A},setContentHref:function(A,D){this._hrefs[A]=D;switch(this._hrfmode){case"iframes":this.cells(A).attachURL(D);break;case"iframe":case"iframes-on-demand":this.cells(A)._delay=["url",D,false];break;case"ajax":var C=this.cells(A),B=this;C._delay=["urlajax",D,true];if(!C.attachHTMLStringA){C.attachHTMLStringA=C.attachHTMLString;C.attachHTMLString=function(A,C){if(C)A=B._getXMLContent(C.doXPath("//content")[0]);return this.attachHTMLStringA(A)}}break;case"ajax-html":this.cells(A)._delay=["urlajax",D,true];break}if(this._tabs[A]==this._lastActive)this.cells(A).show(true)},normalize:function(A,D){A=A||this._tabZone.offsetWidth;function C(A,B){K[B]._size=K[B]._size+(F!=Infinity?(F-I):0);A.adjustTabSize(K[B],K[B]._size)}var K=[];for(var G=0;G<this._rows.length;G++)for(var J=0;J<this._rows[G].tabCount;J++)K.push(this._rows[G].removeChild(this._rows[G].childNodes[0]));this._tabZone.innerHTML="";this._rows=[];var B=this._lastActive;this._lastActive=null;this._createRow();var H=0,I=this._a.offset,F=Infinity,E=null,J=0;for(J;J<K.length;J++)if((I+K[J]._size+this._a.margin)<A){this._rows[H].appendChild(K[J]);this._rows[H].tabCount++;I+=K[J]._size+this._a.margin}else{if(D&&I<F)C(this,J-1);this._createRow();J--;H++;F=I;I=this._a.offset;continue}if(D&&I<F&&F!=Infinity)C(this,J-1);for(G=0;G<this._rows.length;G++)this._setTabSizes(this._rows[G]);this._setSizes();if(this._lastActive=B)this._setTabTop(this._lastActive)},showInnerScroll:function(){for(var B in this._tabs)if(this.cells(B).vs){var A=this.cells(B).av;this.cells(B).vs[A].dhxcont.mainCont[A].style.overflow="auto"}else this.cells(B).dhxcont.mainCont.style.overflow="auto"},getNumberOfTabs:function(){var A=0;for(var B=0;B<this._rows.length;B++)A+=this._rows[B].tabCount;return A},destructor:function(){}};if(!window.dhtmlXContainer)window.dhtmlXContainer=function(B){var A=this;this.obj=B;this.dhxcont=null;this.setContent=function(A){this.dhxcont=A;this.dhxcont.innerHTML="<div id='dhxMainCont' class='dhxcont_main_content'></div>"+"<div id='dhxContBlocker' class='dhxcont_content_blocker' style='display: none;'></div>";this.dhxcont.mainCont=this.dhxcont.childNodes[0];this.obj.dhxcont=this.dhxcont};this.obj._genStr=function(A){var B="",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var C=0;C<A;C++)B=B+D.charAt(Math.round(Math.random()*D.length));return B};this.obj.setMinContentSize=function(A,B){this._minDataSizeW=A;this._minDataSizeH=B};this.obj.moveContentTo=function(A){A.updateNestedObjects()};this.obj.adjustContent=function(H,I,C,G,A){this.dhxcont.style.top=I+"px";this.dhxcont.style.left="0px";if(G==true);else this.dhxcont.style.width=H.clientWidth+"px";var B=H.clientHeight-I;if(B<0)B=0;this.dhxcont.style.height=B+(C!=null?C:0)+"px";if(G==true);else if(this.dhxcont.offsetWidth>H.clientWidth)this.dhxcont.style.width=Math.max(0,H.clientWidth*2-this.dhxcont.offsetWidth)+"px";if(this.dhxcont.offsetHeight>H.clientHeight-I){B=(H.clientHeight-I)*2-this.dhxcont.offsetHeight;if(B<0)B=0;this.dhxcont.style.height=B+"px"}if(A)if(!isNaN(A))this.dhxcont.style.height=parseInt(this.dhxcont.style.height)-A+"px";if(this._minDataSizeH!=null)if(parseInt(this.dhxcont.style.height)<this._minDataSizeH)this.dhxcont.style.height=this._minDataSizeH+"px";if(this._minDataSizeW!=null)if(parseInt(this.dhxcont.style.width)<this._minDataSizeW)this.dhxcont.style.width=this._minDataSizeW+"px";if(G==true);else this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px";var F=(this.menu!=null?(!this.menuHidden?this.menuHeight:0):0),E=(this.toolbar!=null?(!this.toolbarHidden?this.toolbarHeight:0):0),D=(this.sb!=null?(!this.sbHidden?this.sbHeight:0):0);this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight-F-E-D+"px"};this.obj.updateNestedObjects=function(){};this.obj.attachObject=function(C,A){if(typeof(C)=="string")C=document.getElementById(C);if(A){C.style.visibility="hidden";C.style.display="";var B=C.offsetWidth,D=C.offsetHeight}this._attachContent("obj",C);if(A&&this._isWindow){C.style.visibility="";this._adjustToContent(B,D)}};this.obj.appendObject=function(A){if(typeof(A)=="string")A=document.getElementById(A);this._attachContent("obj",A,true)};this.obj.attachHTMLString=function(B){this._attachContent("str",B);var C=B.match(/<script[^>]*>[^\f]*?<\/script>/g)||[];for(var E=0;E<C.length;E++){var A=C[E].replace(/<([\/]{0,1})script[^>]*>/g,"");if(window.execScript){var D=C[E].match(/<script[^>]*src\s*=\s*("|')([^"']+)("|')/);if(D)A=dhtmlxAjax.getSync(D[2]).xmlDoc.responseText;if(A)window.execScript(A)}else window.eval(A)}};this.obj.attachURL=function(B,A){this._attachContent((A==true?"urlajax":"url"),B,false)};this.obj._attachContent=function(F,E,B){if(B!==true)while(A.dhxcont.mainCont.childNodes.length>0)A.dhxcont.mainCont.removeChild(A.dhxcont.mainCont.childNodes[0]);if(F=="url"){var D=document.createElement("IFRAME");D.frameBorder=0;D.border=0;D.style.width="100%";D.style.height="100%";A.dhxcont.mainCont.appendChild(D);D.src=E;this._frame=D;if(this._doOnFrameContentLoaded)this._doOnFrameContentLoaded(true)}else if(F=="urlajax"){var C=this,H=function(){C.attachHTMLString(this.xmlDoc.responseText,this);if(C._doOnFrameContentLoaded)C._doOnFrameContentLoaded(false);this.destructor()},G=new dtmlXMLLoaderObject(H,window);G.loadXML(E);if(C._doOnBeforeAttachURL)C._doOnBeforeAttachURL(false)}else if(F=="obj"){A.dhxcont._frame=null;A.dhxcont.mainCont.appendChild(E);A.dhxcont.mainCont.style.overflow=(B===true?"auto":"hidden");E.style.display=""}else if(F=="str"){A.dhxcont._frame=null;A.dhxcont.mainCont.innerHTML=E}};this.obj._dhxContDestruct=function(){}};(function(){dhtmlx.extend_api("dhtmlXTabBar",{_init:function(A){return[A.parent,A.mode,A.height]},tabs:"tabs",skin:"setSkin",offset:"setOffset",margin:"setMargin",image_path:"setImagePath",href_mode:"setHrefMode",align:"setAlign",xml:"loadXML",close_button:"enableTabCloseButton",scroll:"enableScroll",forced:"enableForceHiding",content_zone:"enableContentZone",size_by_content:"enableAutoSize",auto_size:"enableAutoReSize"},{tabs:function(B){for(var C=0;C<B.length;C++){var A=B[C];this.addTab(A.id,A.label,A.width,A.index,A.row);if(A.active)this.setTabActive(A.id)}}})})();function dhx_init_tabbars(){var z=document.getElementsByTagName("div");for(var i=0;i<z.length;i++)if(z[i].className.indexOf("dhtmlxTabBar")!=-1){var n=z[i],id=n.id;n.className="";var k=new Array();for(var j=0;j<n.childNodes.length;j++)if(n.childNodes[j].tagName&&n.childNodes[j].tagName!="!")k[k.length]=n.childNodes[j];var w=new dhtmlXTabBar(id,n.getAttribute("mode")||"top",n.getAttribute("tabheight")||20);window[id]=w;acs=n.getAttribute("onbeforeinit");if(acs)eval(acs);if(n.getAttribute("enableForceHiding"))w.enableForceHiding(true);w.setImagePath(n.getAttribute("imgpath"));var acs=n.getAttribute("margin");if(acs!=null)w._margin=acs;acs=n.getAttribute("align");if(acs)w._align=acs;acs=n.getAttribute("hrefmode");if(acs)w.setHrefMode(acs);acs=n.getAttribute("offset");if(acs!=null)w._offset=acs;acs=n.getAttribute("tabstyle");if(acs!=null)w.setStyle(acs);acs=n.getAttribute("select");var clrs=n.getAttribute("skinColors");if(clrs)w.setSkinColors(clrs.split(",")[0],clrs.split(",")[1]);for(j=0;j<k.length;j++){var m=k[j];m.parentNode.removeChild(m);w.addTab(m.id,m.getAttribute("name"),m.getAttribute("width"),null,m.getAttribute("row"));var href=m.getAttribute("href");if(href)w.setContentHref(m.id,href);else w.setContent(m.id,m);if((!w._dspN)&&(m.style.display=="none"))m.style.display=""}if(k.length)w.setTabActive(acs||k[0].id);acs=n.getAttribute("oninit");if(acs)eval(acs)}}dhtmlxEvent(window,"load",dhx_init_tabbars);function dhtmlXAccordionItem(){}function dhtmlXAccordion(C,D){if(!window.dhtmlXContainer){alert(this.i18n.dhxcontalert);return}var A=this;this.skin=(D!=null?D:(typeof(dhtmlx)!="undefined"&&typeof(dhtmlx.skin)=="string"?dhtmlx.skin:"dhx_skyblue"));if(C==document.body){this._isAccFS=true;document.body.className+=" dhxacc_fullscreened";var B=document.createElement("DIV");B.className="dhxcont_global_layout_area";C.appendChild(B);this.cont=new dhtmlXContainer(C);this.cont.setContent(B);C.adjustContent(C,0);this.base=document.createElement("DIV");this.base.className="dhx_acc_base_"+this.skin;this.base.style.overflow="hidden";this.base.style.position="absolute";this._adjustToFullScreen=function(){this.base.style.left="2px";this.base.style.top="2px";this.base.style.width=parseInt(B.childNodes[0].style.width)-4+"px";this.base.style.height=parseInt(B.childNodes[0].style.height)-4+"px"};this._adjustToFullScreen();B.childNodes[0].appendChild(this.base);this._resizeTM=null;this._resizeTMTime=400;this._doOnResize=function(){window.clearTimeout(A._resizeTM);A._resizeTM=window.setTimeout(function(){A._adjustAccordion()},A._resizeTMTime)};this._adjustAccordion=function(){document.body.adjustContent(document.body,0);this._adjustToFullScreen();this.setSizes()};dhtmlxEvent(window,"resize",this._doOnResize)}else{this.base=(typeof(C)=="string"?document.getElementById(C):C);this.base.className="dhx_acc_base_"+this.skin;this.base.innerHTML=""}this.w=this.base.offsetWidth;this.h=this.base.offsetHeight;this.skinParams={"dhx_blue":{"cell_height":24,"cell_space":1,"content_offset":1},"dhx_skyblue":{"cell_height":27,"cell_space":-1,"content_offset":-1},"dhx_black":{"cell_height":24,"cell_space":1,"content_offset":1},"dhx_web":{"cell_height":26,"cell_space":9,"content_offset":0,"cell_pading_max":1,"cell_pading_min":0},"dhx_terrace":{"cell_height":37,"cell_space":-1,"content_offset":-1}};this.sk=this.skinParams[this.skin];this.setSkinParameters=function(A,B){if(!isNaN(A))this.sk["cell_space"]=A;if(!isNaN(B))this.sk["content_offset"]=B;this._reopenItem()};this.setSkin=function(B){if(!this.skinParams[B])return;this.skin=B;this.sk=this.skinParams[this.skin];this.base.className="dhx_acc_base_"+this.skin+(this._r?" dhx_acc_rtl":"");for(var A in this.idPull)this.idPull[A].skin=this.skin;this._reopenItem()};this.idPull={};this.opened=null;this.cells=function(A){if(this.idPull[A]==null)return null;return this.idPull[A]};this.itemH=90;this.multiMode=false;this.enableMultiMode=function(){var B=0;for(var A in this.idPull)B++;if(B==0){if(!this.userOffset)this.skinParams["dhx_skyblue"]["cell_space"]=3;this.multiMode=true}if(this.skin=="dhx_terrace")this.skinParams["dhx_terrace"]["cell_space"]=12};this.userOffset=false;this.setOffset=function(A,B){this.userOffset=true;if(!isNaN(A))this.skinParams[this.skin]["cell_space"]=A;if(!isNaN(B))this.skinParams[this.skin]["content_offset"]=B;this.setSizes()};this.imagePath="";this.setIconsPath=function(A){this.imagePath=A};this.addItem=function(I,G){if(this.multiMode)var D=this._lastVisible();var C=document.createElement("DIV");C.className="dhx_acc_item";C.dir="ltr";C._isAcc=true;C.skin=this.skin;this.base.appendChild(C);if(this.multiMode)C.h=this.itemH;var F=document.createElement("DIV");F._idd=I;F.className="dhx_acc_item_label";F.innerHTML="<span>"+G+"</span><div class='dhx_acc_item_label_btmbrd'>&nbsp;</div>"+"<div class='dhx_acc_item_arrow'></div>"+"<div class='dhx_acc_hdr_line_l'></div>"+"<div class='dhx_acc_hdr_line_r'></div>";F.onselectstart=function(A){A=A||event;A.returnValue=false};F.onclick=function(){if(!A.multiMode&&A.idPull[this._idd]._isActive)return;if(A.multiMode){if(A.idPull[this._idd]._isActive){if(A.checkEvent("onBeforeActive")){if(A.callEvent("onBeforeActive",[this._idd,"close"]))A.closeItem(this._idd,"dhx_accord_outer_event")}else A.closeItem(this._idd,"dhx_accord_outer_event")}else if(A.checkEvent("onBeforeActive")){if(A.callEvent("onBeforeActive",[this._idd,"open"]))A.openItem(this._idd,"dhx_accord_outer_event")}else A.openItem(this._idd,"dhx_accord_outer_event");if(A._autoHeightEnabled)A.setSizes();return}if(A.checkEvent("onBeforeActive")){if(A.callEvent("onBeforeActive",[this._idd,"open"]))A.openItem(this._idd,"dhx_accord_outer_event")}else A.openItem(this._idd,"dhx_accord_outer_event")};F.onmouseover=function(){this.className="dhx_acc_item_label dhx_acc_item_lavel_hover"};F.onmouseout=function(){this.className="dhx_acc_item_label"};C.appendChild(F);var E=document.createElement("DIV");E.className="dhxcont_global_content_area";C.appendChild(E);var H=new dhtmlXContainer(C);H.setContent(E);if(this.skin=="dhx_terrace"&&this._hideBorders===true)C._setPadding([0,-1,2,0]);C.adjustContent(C,this.sk["cell_height"]+this.sk["content_offset"]);C._id=I;this.idPull[I]=C;C.getId=function(){return this._id};C.setText=function(B){A.setText(this._id,B)};C.getText=function(){return A.getText(this._id)};C.open=function(){A.openItem(this._id)};C.isOpened=function(){return A.isActive(this._id)};C.close=function(){A.closeItem(this._id)};C.setIcon=function(B){A.setIcon(this._id,B)};C.clearIcon=function(){A.clearIcon(this._id)};C.dock=function(){A.dockItem(this._id)};C.undock=function(){A.undockItem(this._id)};C.show=function(){A.showItem(this._id)};C.hide=function(){A.hideItem(this._id)};C.setHeight=function(B){A.setItemHeight(this._id,B)};C.moveOnTop=function(){A.moveOnTop(this._id)};C._doOnAttachMenu=function(){A._reopenItem()};C._doOnAttachToolbar=function(){A._reopenItem()};C._doOnAttachStatusBar=function(){A._reopenItem()};C._doOnFrameContentLoaded=function(){A.callEvent("onContentLoaded",[this])};if(this.multiMode&&D!=null){if(D._isActive==true){this.idPull[D._id].adjustContent(this.idPull[D._id],this.sk["cell_height"]+this.sk["content_offset"],null,null,this.sk["cell_space"]);this.idPull[D._id].updateNestedObjects()}else this.idPull[D._id].style.height=this.sk["cell_height"]+this.sk["cell_space"]+"px";D=null}var B=this._enableOpenEffect;this._enableOpenEffect=false;this.openItem(I);this._enableOpenEffect=B;if(!this.multiMode)this._defineLastItem();else this.setSizes();return C};this.openItem=function(C,D,A){if(this.multiMode)this._checkAutoHeight();if(this._openBuzy)return;if(this._enableOpenEffect&&!A){if(this.multiMode&&this.idPull[C]._isActive)return;this._openWithEffect(C,null,null,null,null,D);return}if(this.multiMode){for(var B in this.idPull)if(this.idPull[B]._isActive||B==C){this.idPull[B].style.height=this.idPull[B].h+"px";this.idPull[B].childNodes[1].style.display="";if(this.skin=="dhx_web")this.idPull[B]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_acc_dhx_web");this.idPull[B].adjustContent(this.idPull[B],this.sk["cell_height"]+this.sk["content_offset"],null,null,(this.idPull[B]==this._lastVisible()&&this.skin!="dhx_web"?0:this.sk["cell_space"]));this.idPull[B].updateNestedObjects();this.idPull[B]._isActive=true;this._updateArrows();if(D=="dhx_accord_outer_event"&&B==C)this.callEvent("onActive",[C,true])}return}if(C)if(this.idPull[C]._isActive&&!A)return;var E=0;for(B in this.idPull){this.idPull[B].style.height=this.sk["cell_height"]+(this.idPull[B]!=this._lastVisible()&&B!=C?this.sk["cell_space"]:0)+"px";if(B!=C){this.idPull[B].childNodes[1].style.display="none";if(this.skin=="dhx_web")this.idPull[B]._setPadding(this.skinParams[this.skin]["cell_pading_min"],"");this.idPull[B]._isActive=false;E+=this.idPull[B].offsetHeight}}E=this.base.offsetHeight-E;if(C){this.idPull[C].style.height=E+"px";this.idPull[C].childNodes[1].style.display="";if(this.skin=="dhx_web")this.idPull[C]._setPadding(this.skinParams[this.skin]["cell_pading_max"],"dhxcont_acc_dhx_web");this.idPull[C].adjustContent(this.idPull[C],this.sk["cell_height"]+this.sk["content_offset"],null,null,(this.idPull[C]==this._lastVisible()?0:this.sk["cell_space"]));this.idPull[C].updateNestedObjects();this.idPull[C]._isActive=true;if(D=="dhx_accord_outer_event")this.callEvent("onActive",[C,true])}this._updateArrows();return};this._lastVisible=function(){var B=null;for(var A=this.base.childNodes.length-1;A>=0;A--)if(!this.base.childNodes[A]._isHidden&&!B)B=this.base.childNodes[A];return B};this.closeItem=function(A,B){if(this.idPull[A]==null)return;if(!this.idPull[A]._isActive)return;if(this._openBuzy)return;if(this._enableOpenEffect){this._openWithEffect(this.multiMode?A:null,null,null,null,null,B);return}this.idPull[A].style.height=this.sk["cell_height"]+(this.idPull[A]!=this._lastVisible()?this.sk["cell_space"]:0)+"px";this.idPull[A].childNodes[1].style.display="none";if(this.skin=="dhx_web")this.idPull[A]._setPadding(this.skinParams[this.skin]["cell_pading_min"],"");this.idPull[A]._isActive=false;if(B=="dhx_accord_outer_event")this.callEvent("onActive",[A,false]);this._updateArrows()};this._updateArrows=function(){for(var C in this.idPull){var D=this.idPull[C].childNodes[0],B=null;for(var A=0;A<D.childNodes.length;A++)if(String(D.childNodes[A].className).search("dhx_acc_item_arrow")!=-1)B=D.childNodes[A];if(B!=null){B.className="dhx_acc_item_arrow "+(this.idPull[C]._isActive?"item_opened":"item_closed");B=null}}};this.setText=function(G,E,D){if(A.idPull[G]==null)return;var C=A.idPull[G].childNodes[0],F=null;for(var B=0;B<C.childNodes.length;B++)if(C.childNodes[B].tagName!=null)if(String(C.childNodes[B].tagName).toLowerCase()=="span")F=C.childNodes[B];if(!isNaN(D)){F.style.paddingLeft=D+"px";F.style.paddingRight=D+"px"}else F.innerHTML=E};this.getText=function(E){if(A.idPull[E]==null)return;var C=A.idPull[E].childNodes[0],D=null;for(var B=0;B<C.childNodes.length;B++)if(C.childNodes[B].tagName!=null)if(String(C.childNodes[B].tagName).toLowerCase()=="span")D=C.childNodes[B];return D.innerHTML};this._initWindows=function(A){if(!window.dhtmlXWindows)return;if(!this.dhxWins){this.dhxWins=new dhtmlXWindows();this.dhxWins.setSkin(this.skin);this.dhxWins.setImagePath(this.imagePath);this.dhxWinsIdPrefix="";if(!A)return}var B=this.dhxWinsIdPrefix+A;if(!this.dhxWins.window(B)){var C=this,D=this.dhxWins.createWindow(B,20,20,320,200);D.setText(this.getText(A));D.button("close").hide();D.attachEvent("onClose",function(A){A.hide()});D.addUserButton("dock",99,this.dhxWins.i18n.dock,"dock");D.button("dock").attachEvent("onClick",function(B){C.cells(A).dock()})}else this.dhxWins.window(B).show()};this.dockWindow=function(A){if(!this.idPull[A]._isUnDocked)return;if(!this.dhxWins)return;if(!this.dhxWins.window(this.dhxWinsIdPrefix+A))return;this.dhxWins.window(this.dhxWinsIdPrefix+A).moveContentTo(this.idPull[A]);this.dhxWins.window(this.dhxWinsIdPrefix+A).close();this.idPull[A]._isUnDocked=false;this.showItem(A);this.callEvent("onDock",[A])};this.undockWindow=function(A){if(this.idPull[A]._isUnDocked)return;this._initWindows(A);this.idPull[A].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+A));this.idPull[A]._isUnDocked=true;this.hideItem(A);this.callEvent("onUnDock",[A])};this.setSizes=function(){this._reopenItem()};this.showItem=function(A){if(this.idPull[A]==null)return;if(!this.idPull[A]._isHidden)return;if(this.idPull[A]._isUnDocked){this.dockItem(A);return}this.idPull[A].className="dhx_acc_item";this.idPull[A]._isHidden=false;this._defineLastItem();this._reopenItem()};this.hideItem=function(A){if(this.idPull[A]==null)return;if(this.idPull[A]._isHidden)return;this.closeItem(A);this.idPull[A].className="dhx_acc_item_hidden";this.idPull[A]._isHidden=true;this._defineLastItem();this._reopenItem()};this.isItemHidden=function(A){if(this.idPull[A]==null)return;return(this.idPull[A]._isHidden==true)};this._reopenItem=function(){var B=null;for(var A in this.idPull)if(this.idPull[A]._isActive&&!this.idPull[A]._isHidden)B=A;this.openItem(B,null,true)};this.forEachItem=function(B){for(var A in this.idPull)B(this.idPull[A])};this._enableOpenEffect=false;this._openStep=10;this._openStepIncrement=5;this._openStepTimeout=10;this._openBuzy=false;this.setEffect=function(A){this._enableOpenEffect=(A==true?true:false)};this._openWithEffect=function(B,G,H,K,M,L){if(this.multiMode){if(!M){this._openBuzy=true;M=this._openStep;if(this.idPull[B]._isActive){G=B;B=null;H=this.sk["cell_height"]+(this.idPull[G]!=this._lastVisible()?this.sk["cell_space"]:0);this.idPull[G].childNodes[1].style.display=""}else{K=this.idPull[B].h;this.idPull[B].childNodes[1].style.display=""}}var I=false;if(B){var J=parseInt(this.idPull[B].style.height||0)+M;if(J>K){J=K;I=true}this.idPull[B].style.height=J+"px"}if(G){J=parseInt(this.idPull[G].style.height)-M;if(J<H){J=H;I=true}this.idPull[G].style.height=J+"px"}M+=this._openStepIncrement;if(I){if(B){this.idPull[B].adjustContent(this.idPull[B],this.sk["cell_height"]+this.sk["content_offset"],null,null,(this.idPull[B]==this._lastVisible()?0:this.sk["cell_space"]));this.idPull[B].updateNestedObjects();this.idPull[B]._isActive=true}if(G){this.idPull[G].childNodes[1].style.display="none";this.idPull[G]._isActive=false}this._updateArrows();this._openBuzy=false;if(B&&L=="dhx_accord_outer_event")this.callEvent("onActive",[B,true]);if(G&&L=="dhx_accord_outer_event")this.callEvent("onActive",[G,false])}else{var F=this;window.setTimeout(function(){F._openWithEffect(B,G,H,K,M,L)},this._openStepTimeout)}return}if(!M){this._openBuzy=true;M=this._openStep;if(B)this.idPull[B].childNodes[1].style.display=""}if(!G||!H||!K){H=0;K=0;for(var A in this.idPull){var D=this.sk["cell_height"]+(this.idPull[A]!=this._lastVisible()&&A!=B?this.sk["cell_space"]:0);if(this.idPull[A]._isActive&&B!=A){G=A;H=D}if(A!=B)K+=D}K=this.base.offsetHeight-K}I=false;if(B){var E=parseInt(this.idPull[B].style.height)+M;if(E>K)I=true}if(G){var C=parseInt(this.idPull[G].style.height)-M;if(C<H)I=true}M+=this._openStepIncrement;if(I){E=K;C=H}if(G)this.idPull[G].style.height=C+"px";if(B)this.idPull[B].style.height=E+"px";if(I){if(G){this.idPull[G].childNodes[1].style.display="none";this.idPull[G]._isActive=false}if(B){this.idPull[B].adjustContent(this.idPull[B],this.sk["cell_height"]+this.sk["content_offset"],null,null,(this.idPull[B]==this._lastVisible()?0:this.sk["cell_space"]));this.idPull[B].updateNestedObjects();this.idPull[B]._isActive=true}this._updateArrows();this._openBuzy=false;if(L=="dhx_accord_outer_event"&&B)this.callEvent("onActive",[B,true])}else{F=this;window.setTimeout(function(){F._openWithEffect(B,G,H,K,M,L)},this._openStepTimeout)}};this.setActive=function(A){this.openItem(A)};this.isActive=function(A){return(this.idPull[A]._isActive===true?true:false)};this.dockItem=function(A){this.dockWindow(A)};this.undockItem=function(A){this.undockWindow(A)};this.setItemHeight=function(B,A){if(!this.multiMode)return;if(A=="*")this.idPull[B].h_auto=true;else{if(isNaN(A))return;this.idPull[B].h_auto=false;this.idPull[B].h=A}this._reopenItem()};this._checkAutoHeight=function(){var E=this.base.offsetHeight;this._autoHeightEnabled=false;var D=[];for(var B in this.idPull){if(!this._autoHeightEnabled&&this.idPull[B].h_auto)this._autoHeightEnabled=true;if(this.idPull[B].h_auto&&this.idPull[B]._isActive)D.push(B);else if(this.idPull[B]._isActive)E=Math.max(0,E-this.idPull[B].h);else E=Math.max(0,E-this.idPull[B].offsetHeight)}if(D.length>0){var C=Math.floor(E/D.length);for(var A=0;A<D.length;A++){if(A==D.length-1)C=E;else E-=C;this.idPull[D[A]].h=C}}};this.setIcon=function(D,A){if(this.idPull[D]==null)return;var C=this.idPull[D].childNodes[0],E=null;for(var B=0;B<C.childNodes.length;B++)if(C.childNodes[B].className=="dhx_acc_item_icon")E=C.childNodes[B];if(E==null){E=document.createElement("IMG");E.className="dhx_acc_item_icon";C.insertBefore(E,C.childNodes[0]);this.setText(D,null,20)}E.src=this.imagePath+A};this.clearIcon=function(C){if(this.idPull[C]==null)return;var B=this.idPull[C].childNodes[0],D=null;for(var A=0;A<B.childNodes.length;A++)if(B.childNodes[A].className=="dhx_acc_item_icon")D=B.childNodes[A];if(D!=null){B.removeChild(D);D=null;this.setText(C,null,0)}};this.moveOnTop=function(A){if(!this.idPull[A])return;if(this.base.childNodes.length<=1)return;this.base.insertBefore(this.idPull[A],this.base.childNodes[0]);this.setSizes()};this._defineLastItem=function(){if(this.multiMode)return;var B=false;for(var A=this.base.childNodes.length-1;A>=0;A--)if((this.base.childNodes[A].className).search("last_item")>=0){if(this.base.childNodes[A]._isHidden||B)this.base.childNodes[A].className=String(this.base.childNodes[A].className).replace(/last_item/gi,"");else B=true}else if(!this.base.childNodes[A]._isHidden&&!B){this.base.childNodes[A].className+=" last_item";B=true}};this.removeItem=function(D){var B=this.idPull[D],C=B.childNodes[0];C.onclick=null;C.onmouseover=null;C.onmouseout=null;C.onselectstart=null;C._idd=null;C.className="";B._dhxContDestruct();while(C.childNodes.length>0)C.removeChild(C.childNodes[0]);if(C.parentNode)C.parentNode.removeChild(C);C=null;while(B.childNodes.length>0)B.removeChild(B.childNodes[0]);B._dhxContDestruct=null;B._doOnAttachMenu=null;B._doOnAttachToolbar=null;B._doOnAttachStatusBar=null;B.clearIcon=null;B.close=null;B.dock=null;B.getId=null;B.getText=null;B.hide=null;B.isOpened=null;B.open=null;B.setHeight=null;B.setIcon=null;B.setText=null;B.show=null;B.undock=null;if(B.parentNode)B.parentNode.removeChild(B);B=null;this.idPull[D]=null;try{delete this.idPull[D]}catch(A){}};this.unload=function(){for(var B in this.skinParams){this.skinParams[B]=null;try{delete this.skinParams[B]}catch(A){}}this.skinParams=null;for(B in this.idPull)this.removeItem(B);this.idPull=null;this.sk=null;this._initWindows=null;this._lastVisible=null;this._reopenItem=null;this._updateArrows=null;this.addItem=null;this.attachEvent=null;this.callEvent=null;this.cells=null;this.checkEvent=null;this.clearIcon=null;this.closeItem=null;this.detachEvent=null;this.dockItem=null;this.dockWindow=null;this.enableMultiMode=null;this.eventCatcher=null;this.forEachItem=null;this.getText=null;this.h=null;this.hideItem=null;this.imagePath=null;this.isActive=null;this.itemH=null;this.multiMode=null;this.openItem=null;this.removeItem=null;this.setActive=null;this.setEffect=null;this.setIcon=null;this.setIconsPath=null;this.setItemHeight=null;this.setOffset=null;this.setSizes=null;this.setSkin=null;this.setSkinParameters=null;this.setText=null;this.showItem=null;this.skin=null;this.w=null;this.undockItem=null;this.undockWindow=null;this.undockWindowunload=null;this.unload=null;this.userOffset=null;if(this._isAccFS==true){if(_isIE)window.detachEvent("onresize",this._doOnResize);else window.removeEventListener("resize",this._doOnResize,false);this._isAccFS=null;this._doOnResize=null;this._adjustAccordion=null;this._adjustToFullScreen=null;this._resizeTM=null;this._resizeTMTime=null;document.body.className=String(document.body.className).replace("dhxacc_fullscreened","");this.cont.obj._dhxContDestruct();if(this.cont.dhxcont.parentNode)this.cont.dhxcont.parentNode.removeChild(this.cont.dhxcont);this.cont.dhxcont=null;this.cont.setContent=null;this.cont=null}if(this.dhxWins){this.dhxWins.unload();this.dhxWins=null}this.base.className="";this.base=null;for(B in this){try{delete this[B]}catch(A){}}};this._initWindows();dhtmlxEventable(this);return this}dhtmlXAccordion.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page"};(function(){dhtmlx.extend_api("dhtmlXAccordion",{_init:function(A){return[A.parent,A.skin]},icon_path:"setIconsPath",items:"_items",effect:"setEffect",multi_mode:"enableMultiMode"},{_items:function(A){var E=[],C=[];for(var F=0;F<A.length;F++){var D=A[F];this.addItem(D.id,D.text);if(D.img)this.cells(D.id).setIcon(D.img);if(D.height)this.cells(D.id).setHeight(D.height);if(D.open===true)E[E.length]=D.id;if(D.open===false)C[C.length]=D.id}for(var B=0;B<E.length;B++)this.cells(E[B]).open();for(B=0;B<C.length;B++)this.cells(C[B]).close()}})})();dhtmlXAccordion.prototype.loadJSON=function(A){var E={skin:"setSkin",icons_path:"setIconsPath",multi_mode:"enableMultiMode",effect:"setEffect"};for(var C in E)if(typeof(A[C])!="undefined")this[E[C]](A[C]);var D=null;for(var B=0;B<A.cells.length;B++){this.addItem(A.cells[B].id,A.cells[B].text);if(typeof(A.cells[B].icon)!="undefined")this.setIcon(A.cells[B].id,A.cells[B].icon);if(typeof(A.cells[B].height)!="undefined")this.setItemHeight(A.cells[B].id,A.cells[B].height);if(typeof(A.cells[B].open)!="undefined")D=A.cells[B].id}if(D!=null)this.openItem(D)};dhtmlXAccordion.prototype.loadXML=function(C,B){var A=this;this.callEvent("onXLS",[]);dhtmlxAjax.get(C,function(G){var F=G.xmlDoc.responseXML.getElementsByTagName("accordion")[0],J={0:false,"true":true,"1":true,"y":true,"yes":true},E={cells:[]};if(F.getAttribute("skin")!=null)E.skin=F.getAttribute("skin");if(F.getAttribute("iconsPath")!=null)E.icons_path=F.getAttribute("iconsPath");if(F.getAttribute("mode")=="multi")E.multi_mode=true;if(J[F.getAttribute("openEffect")||0])E.effect=true;var I=null;for(var H=0;H<F.childNodes.length;H++)if(typeof(F.childNodes[H].tagName)!="indefined"&&String(F.childNodes[H].tagName).toLowerCase()=="cell"){var C=(F.childNodes[H].getAttribute("id")||A._genStr(12)),D=(F.childNodes[H].firstChild.nodeValue||"");E.cells.push({id:C,text:D});if(F.childNodes[H].getAttribute("icon")!=null)E.cells[E.cells.length-1].icon=F.childNodes[H].getAttribute("icon");if(F.childNodes[H].getAttribute("height")!=null)E.cells[E.cells.length-1].height=F.childNodes[H].getAttribute("height");if(J[F.childNodes[H].getAttribute("open")||0])E.cells[E.cells.length-1].open=true}A.loadJSON(E);A.callEvent("onXLE",[]);if(typeof(B)=="function")B();A=B=null})};dhtmlx.skin="dhx_skyblue";